import{f as _,w as j,a as K,h as V,o as m,t as U,u as W,A as P,b as D,c as d,l as Z,i as y,N as E,v as q,g as O,_ as A,O as H}from"./CsW77IRk.js";import{f as Q,c as I,s as G,p as J,u as X}from"./DS-4mPaH.js";import{V as N,i as k,j as M,q as x,R,G as z,K as Y,W as ee,X as te,c as C,o as B,a as F}from"#entry";function ae({container:a,accept:c,walk:b,enabled:p}){N(()=>{let f=a.value;if(!f||p!==void 0&&!p.value)return;let v=_(a);if(!v)return;let e=Object.assign(r=>c(r),{acceptNode:c}),u=v.createTreeWalker(f,NodeFilter.SHOW_ELEMENT,e,!1);for(;u.nextNode();)b(u.currentNode)})}var le=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(le||{}),ne=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(ne||{});function re(a){requestAnimationFrame(()=>requestAnimationFrame(a))}let L=Symbol("MenuContext");function T(a){let c=ee(L,null);if(c===null){let b=new Error(`<${a} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(b,T),b}return c}let ie=k({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(a,{slots:c,attrs:b}){let p=M(1),f=M(null),v=M(null),e=M([]),u=M(""),r=M(null),h=M(1);function S(t=n=>n){let n=r.value!==null?e.value[r.value]:null,l=H(t(e.value.slice()),g=>m(g.dataRef.domRef)),s=n?l.indexOf(n):null;return s===-1&&(s=null),{items:l,activeItemIndex:s}}let o={menuState:p,buttonRef:f,itemsRef:v,items:e,searchQuery:u,activeItemIndex:r,activationTrigger:h,closeMenu:()=>{p.value=1,r.value=null},openMenu:()=>p.value=0,goToItem(t,n,l){let s=S(),g=Q(t===I.Specific?{focus:I.Specific,id:n}:{focus:t},{resolveItems:()=>s.items,resolveActiveIndex:()=>s.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.disabled});u.value="",r.value=g,h.value=l??1,e.value=s.items},search(t){let n=u.value!==""?0:1;u.value+=t.toLowerCase();let l=(r.value!==null?e.value.slice(r.value+n).concat(e.value.slice(0,r.value+n)):e.value).find(g=>g.dataRef.textValue.startsWith(u.value)&&!g.dataRef.disabled),s=l?e.value.indexOf(l):-1;s===-1||s===r.value||(r.value=s,h.value=1)},clearSearch(){u.value=""},registerItem(t,n){let l=S(s=>[...s,{id:t,dataRef:n}]);e.value=l.items,r.value=l.activeItemIndex,h.value=1},unregisterItem(t){let n=S(l=>{let s=l.findIndex(g=>g.id===t);return s!==-1&&l.splice(s,1),l});e.value=n.items,r.value=n.activeItemIndex,h.value=1}};return j([f,v],(t,n)=>{var l;o.closeMenu(),K(n,V.Loose)||(t.preventDefault(),(l=m(f))==null||l.focus())},x(()=>p.value===0)),te(L,o),U(x(()=>W(p.value,{0:y.Open,1:y.Closed}))),()=>{let t={open:p.value===0,close:o.closeMenu};return P({ourProps:{},theirProps:a,slot:t,slots:c,attrs:b,name:"Menu"})}}}),ce=k({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(a,{attrs:c,slots:b,expose:p}){var f;let v=(f=a.id)!=null?f:`headlessui-menu-button-${D()}`,e=T("MenuButton");p({el:e.buttonRef,$el:e.buttonRef});function u(o){switch(o.key){case d.Space:case d.Enter:case d.ArrowDown:o.preventDefault(),o.stopPropagation(),e.openMenu(),R(()=>{var t;(t=m(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.First)});break;case d.ArrowUp:o.preventDefault(),o.stopPropagation(),e.openMenu(),R(()=>{var t;(t=m(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.Last)});break}}function r(o){switch(o.key){case d.Space:o.preventDefault();break}}function h(o){a.disabled||(e.menuState.value===0?(e.closeMenu(),R(()=>{var t;return(t=m(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(o.preventDefault(),e.openMenu(),re(()=>{var t;return(t=m(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let S=G(x(()=>({as:a.as,type:c.type})),e.buttonRef);return()=>{var o;let t={open:e.menuState.value===0},{...n}=a,l={ref:e.buttonRef,id:v,type:S.value,"aria-haspopup":"menu","aria-controls":(o=m(e.itemsRef))==null?void 0:o.id,"aria-expanded":e.menuState.value===0,onKeydown:u,onKeyup:r,onClick:h};return P({ourProps:l,theirProps:n,slot:t,attrs:c,slots:b,name:"MenuButton"})}}}),ve=k({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(a,{attrs:c,slots:b,expose:p}){var f;let v=(f=a.id)!=null?f:`headlessui-menu-items-${D()}`,e=T("MenuItems"),u=M(null);p({el:e.itemsRef,$el:e.itemsRef}),ae({container:x(()=>m(e.itemsRef)),enabled:x(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function r(t){var n;switch(u.value&&clearTimeout(u.value),t.key){case d.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case d.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let l=e.items.value[e.activeItemIndex.value];(n=m(l.dataRef.domRef))==null||n.click()}e.closeMenu(),A(m(e.buttonRef));break;case d.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Next);case d.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Previous);case d.Home:case d.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.First);case d.End:case d.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Last);case d.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),R(()=>{var l;return(l=m(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})});break;case d.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),R(()=>q(m(e.buttonRef),t.shiftKey?O.Previous:O.Next));break;default:t.key.length===1&&(e.search(t.key),u.value=setTimeout(()=>e.clearSearch(),350));break}}function h(t){switch(t.key){case d.Space:t.preventDefault();break}}let S=Z(),o=x(()=>S!==null?(S.value&y.Open)===y.Open:e.menuState.value===0);return()=>{var t,n;let l={open:e.menuState.value===0},{...s}=a,g={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(n=m(e.buttonRef))==null?void 0:n.id,id:v,onKeydown:r,onKeyup:h,role:"menu",tabIndex:0,ref:e.itemsRef};return P({ourProps:g,theirProps:s,slot:l,attrs:c,slots:b,features:E.RenderStrategy|E.Static,visible:o.value,name:"MenuItems"})}}}),de=k({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(a,{slots:c,attrs:b,expose:p}){var f;let v=(f=a.id)!=null?f:`headlessui-menu-item-${D()}`,e=T("MenuItem"),u=M(null);p({el:u,$el:u});let r=x(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===v:!1),h=J(u),S=x(()=>({disabled:a.disabled,get textValue(){return h()},domRef:u}));z(()=>e.registerItem(v,S)),Y(()=>e.unregisterItem(v)),N(()=>{e.menuState.value===0&&r.value&&e.activationTrigger.value!==0&&R(()=>{var i,w;return(w=(i=m(u))==null?void 0:i.scrollIntoView)==null?void 0:w.call(i,{block:"nearest"})})});function o(i){if(a.disabled)return i.preventDefault();e.closeMenu(),A(m(e.buttonRef))}function t(){if(a.disabled)return e.goToItem(I.Nothing);e.goToItem(I.Specific,v)}let n=X();function l(i){n.update(i)}function s(i){n.wasMoved(i)&&(a.disabled||r.value||e.goToItem(I.Specific,v,0))}function g(i){n.wasMoved(i)&&(a.disabled||r.value&&e.goToItem(I.Nothing))}return()=>{let{disabled:i,...w}=a,$={active:r.value,disabled:i,close:e.closeMenu};return P({ourProps:{id:v,ref:u,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,onClick:o,onFocus:t,onPointerenter:l,onMouseenter:l,onPointermove:s,onMousemove:s,onPointerleave:g,onMouseleave:g},theirProps:{...b,...w},slot:$,attrs:b,slots:c,name:"MenuItem"})}}});function pe(a,c){return B(),C("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[F("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}function fe(a,c){return B(),C("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[F("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z","clip-rule":"evenodd"})])}export{ve as M,ce as S,pe as a,de as b,ie as g,fe as r};
