import{C as f}from"./CPWQvqDN.js";import{_ as p}from"./VP2HrRfh.js";import{L as w}from"./BwzTearg.js";import{f as _,e as q}from"./6yF6Fmpd.js";import{s as g,l as x}from"./DGaPg-gW.js";import{h as R,j as h,e as y,n as C,f as s,w as d,o as a,g as l,d as U}from"#entry";import"./BPxGWsFk.js";import"./BAsolvdk.js";const T=R({__name:"initiatePresentation",async setup(k){let t,n;const m=new URL("http://example.invalid"+h().fullPath).search;console.log("queryRequest: ",m);let r=encodeURI(decodeURI(_("openid://"+window.location.search)));console.log("Fixed request: ",r);const i=q(r);console.log("Encoded request: ",i);const e=([t,n]=y(()=>x()),t=await t,n(),t)?.value?.wallets,c=o=>`/wallet/${o.id}/exchange/presentation?request=${i}`;if(e&&e.length==1){const o=e[0];g(o.id,void 0),C(c(e[0]))}return(o,u)=>(a(),s(f,null,{default:d(()=>[l(e)&&l(e).length>1?(a(),s(p,{key:0,wallets:l(e),"use-url":c},null,8,["wallets"])):(a(),s(w,{key:1},{default:d(()=>[...u[0]||(u[0]=[U("Loading wallets...",-1)])]),_:1}))]),_:1}))}});export{T as default};
