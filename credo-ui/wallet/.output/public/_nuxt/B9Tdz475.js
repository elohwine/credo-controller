import{u as z,g as W}from"./erPheUey.js";import{L as K}from"./BFiSVEsl.js";import{u as O}from"./C7YCVWHz.js";import{C as P}from"./BXf69NxL.js";import{i as U,k as H,j as q,f as G,q as h,u as J,c as r,b as I,w as B,N as Z,o,h as a,d as v,a as e,B as y,t as d,F as Q,r as X,n as k}from"#entry";import"./eowDyVTy.js";const Y={class:"min-h-screen bg-gray-50/50"},ee={key:0,class:"flex justify-center items-center h-screen"},te={key:1,class:"w-full max-w-4xl mx-auto py-8 px-4"},se={key:0,class:"bg-white rounded-[32px] shadow-2xl overflow-hidden mb-8 border border-gray-100 flex flex-col"},le={class:"bg-gradient-to-br from-[#0F3F5E] to-[#2188CA] p-8 sm:p-10 text-white relative"},re={class:"flex items-start justify-between"},oe={class:"flex-1"},ne={class:"mb-4 w-14 h-14 bg-white/20 backdrop-blur-md rounded-2xl flex items-center justify-center border border-white/30 shadow-lg"},ae=["src"],ie={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8"},de={class:"text-xl font-black tracking-widest uppercase mb-1"},ce={class:"text-blue-100 text-sm opacity-80 font-medium"},ue={class:"p-8 sm:p-10 bg-white"},pe={class:"space-y-6"},fe={class:"flex flex-col sm:flex-row sm:justify-between items-start gap-1"},me={class:"text-xs font-bold text-[#627D98] uppercase tracking-widest"},be={class:"text-[17px] font-bold text-[#0F3F5E] break-words"},we={key:0,class:"border-gray-50 mt-4"},xe={class:"mt-12 pt-6 border-t border-gray-50 flex justify-between items-center text-[10px] text-gray-300 font-mono"},ge={key:0,class:"mt-4 p-4 bg-gray-50 rounded-xl overflow-auto text-[10px] border border-gray-100 max-h-40"},Ae=U({__name:"[credentialId]",async setup(he){let c,_;const j=H(),C=j.params.wallet,w=j.params.credentialId,x=O(),g=q(!1),{data:F,pending:D,error:ve}=([c,_]=G(()=>Z(`/wallet-api/wallet/${x.value}/credentials/${encodeURIComponent(w)}`,"$buEG75oS09")),c=await c,_(),c),{jwtJson:u,issuerName:L,issuerLogo:A,titleTitelized:T}=z(F),p=h(()=>u.value?W(u.value):null),S=h(()=>{const s=p.value?.kind||"generic";return s==="generic"?T.value||"Credential":`${s} Credential`}),$=h(()=>{const s=u.value;if(!s)return[];if(p.value?.fields&&p.value.fields.length>0)return p.value.fields;let t=s?.credentialSubject??s?._credential?.credentialSubject??s?.credential?.credentialSubject??s?.vc?.credentialSubject??s?.payload?.additionalClaims?.vc?.credentialSubject??s?.additionalClaims?.vc?.credentialSubject??s?.claims??{};if(t?.claims&&typeof t.claims=="object"&&(t={...t,...t.claims}),Object.keys(t).filter(l=>l!=="id"&&l!=="claims"&&!l.startsWith("@")).length===0){const l={},n=["@context","type","id","issuer","issuanceDate","expirationDate","credentialSubject","proof","issuerId","credentialSubjectIds","_credential","credential","vc","jwt","payload"];for(const[b,i]of Object.entries(s))!n.includes(b)&&i!=null&&typeof i!="object"&&(l[b]=i);Object.keys(l).length>0&&(t=l)}const m=["id","claims","type","@context","proof","photo","image","credentialSubject"],E=[];for(const[l,n]of Object.entries(t)){if(m.includes(l)||l.startsWith("@")||typeof n=="object"&&n!==null&&!Array.isArray(n))continue;const b=l.replace(/([A-Z])/g," $1").replace(/_/g," ").trim().split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ");E.push({label:b,value:Array.isArray(n)?n.join(", "):String(n)})}return E});async function M(){confirm("Are you sure you want to delete this credential?")&&(await $fetch(`/wallet-api/wallet/${x.value}/credentials/${encodeURIComponent(w)}?permanent=true`,{method:"DELETE"}),await k({path:`/wallet/${x.value}`}))}function N(){window.print()}function R(){k({path:`/wallet/${C}`})}function V(){k({path:`/wallet/${C}/scan`})}return J({title:`${S.value} - Credentis`}),(s,t)=>(o(),r("div",Y,[I(P,null,{default:B(()=>[a(D)?(o(),r("div",ee,[I(K,null,{default:B(()=>[...t[1]||(t[1]=[v("Loading credential...",-1)])]),_:1})])):(o(),r("div",te,[e("div",{class:"flex justify-between items-center sm:hidden mb-6"},[e("button",{onClick:R,class:"p-2 bg-white rounded-full shadow-sm text-[#0F3F5E]"},[...t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})],-1)])]),t[3]||(t[3]=e("span",{class:"font-bold text-[#0F3F5E]"},"Credential Details",-1)),t[4]||(t[4]=e("div",{class:"w-10"},null,-1))]),a(F)?(o(),r("div",se,[e("div",le,[e("div",re,[e("div",oe,[e("div",ne,[a(A)?(o(),r("img",{key:0,src:a(A),class:"w-9 h-9 object-contain"},null,8,ae)):(o(),r("svg",ie,[...t[5]||(t[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.499 5.24 50.552 50.552 0 01-17.16 2.334z"},null,-1)])]))]),e("h1",de,d(S.value),1),e("p",ce,d(a(L)||"Credentis Verified Issuer"),1)]),t[6]||(t[6]=e("div",{class:"flex flex-col items-end gap-2"},[e("span",{class:"inline-flex items-center px-3 py-1 rounded-full text-[10px] font-bold bg-white/20 border border-white/40 uppercase tracking-tighter"},[e("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),v(" Verified ")])],-1))])]),e("div",ue,[e("div",pe,[(o(!0),r(Q,null,X($.value,(f,m)=>(o(),r("div",{key:m},[e("div",fe,[e("p",me,d(f.label),1),e("p",be,d(f.value),1)]),m<$.value.length-1?(o(),r("hr",we)):y("",!0)]))),128))]),e("div",xe,[e("span",null,"ID: "+d(a(w)),1),e("button",{onClick:t[0]||(t[0]=f=>g.value=!g.value),class:"text-blue-400 hover:underline"},"RAW DATA")]),g.value?(o(),r("div",ge,[e("pre",null,d(a(u)),1)])):y("",!0)])])):y("",!0),e("div",{class:"space-y-3 px-2"},[e("button",{onClick:V,class:"w-full py-5 text-white font-black rounded-2xl shadow-xl hover:shadow-blue-500/20 active:scale-[0.98] transition-all flex items-center justify-center gap-3 text-lg uppercase tracking-wider",style:{background:"linear-gradient(135deg, #2188CA, #0F3F5E)"}}," Present Credential "),e("div",{class:"grid grid-cols-2 gap-3"},[e("button",{onClick:N,class:"py-4 bg-white border border-gray-100 text-[#0F3F5E] font-bold rounded-2xl shadow-sm hover:bg-gray-50 transition-all flex items-center justify-center gap-2"},[...t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-5 h-5 text-[#2188CA]"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"})],-1),v(" Export PDF ",-1)])]),e("button",{onClick:M,class:"py-4 bg-white text-red-500 font-bold rounded-2xl border border-red-50 hover:bg-red-50 transition-all text-sm uppercase tracking-widest"}," Remove ")])])]))]),_:1})]))}});export{Ae as default};
