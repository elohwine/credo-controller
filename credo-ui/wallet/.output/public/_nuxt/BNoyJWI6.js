import{_ as k}from"./Dv7n7eYI.js";import{u as C}from"./CS6oTbIc.js";import{C as L}from"./B-1inGnY.js";import{k as N,m as B,L as E,l as F,u as S,c as i,a as s,b as c,t as a,g as t,F as _,r as h,w as u,M as V,o as r,n as b,Z as $,h as p,d as f}from"#entry";const j={class:"hidden sm:block p-8"},I={class:"text-2xl font-semibold text-left"},U={class:"relative grid grid-cols-1 gap-y-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 sm:gap-x-4 sm:gap-y-6 mt-8"},W={class:"mb-8"},q={class:"text-2xl font-bold bold text-white"},z={class:"sm:mt-18"},D={class:"text-lg font-semibold text-center"},M={class:"mt-8"},R={class:"flex items-start gap-x-3"},T={class:"mx-2 text-base font-semibold leading-6 text-gray-900"},Z={key:0,class:"text-lg font-semibold text-center"},H={key:1},J={key:0,class:"text-gray-600"},O={key:1},A={key:2,class:"flex justify-center"},et=N({__name:"[issuer]",setup(G){const g=$(),o=B().params.issuer,y=C(),{pending:w,data:d,error:n,refresh:P}=E(`/wallet-api/wallet/${y.value}/issuers/${o}/credentials`,"$ZB_FlLaliw"),m=F("jwt_vc");return S({title:`${o} - supported credentials`}),(Q,l)=>{const x=k,v=V("LoadingIndicator");return r(),i(_,null,[s("div",j,[s("h1",I,a(t(o)),1),l[0]||(l[0]=s("p",{class:"text-left text-sm"},"Select credential to request.",-1)),s("ul",U,[(r(!0),i(_,null,h(t(d)?.credentials.filter(e=>e.format==t(m)),e=>(r(),i("li",{key:e.id,class:"col-span-1 divide-y divide-gray-200 rounded-2xl bg-white shadow transform hover:scale-105 cursor-pointer duration-200"},[c(x,{to:t(d)?.issuer.uiEndpoint+e.id.split("_")[0]+"&callback="+t(g).public.issuerCallbackUrl,class:"w-full"},{default:u(()=>[s("div",{ref_for:!0,ref:"vcCardDiv",class:"p-6 rounded-2xl shadow-2xl sm:shadow-lg h-full text-gray-900 bg-gradient-to-br from-[#0573F0] to-[#03449E] border-t-white border-t-[0.5px] bg-[#7B8794]"},[s("div",W,[s("div",q,a(e.id.split("_")[0].length>20?e.id.split("_")[0].substring(0,20)+"...":e.id.split("_")[0]),1)]),s("div",z,[s("div",{class:b({"text-white":t(o),"text-[#0573f000]":!t(o)})}," Issuer ",2),s("div",{class:b([{"text-white":t(o),"text-[#0573f000]":!t(o)},"font-bold"])},a(t(o)??"Unknown"),3)])],512)]),_:2},1032,["to"])]))),128))])]),c(L,{class:"sm:hidden"},{default:u(()=>[s("h1",D,a(t(o)),1),l[4]||(l[4]=s("p",{class:"text-center"},"Select credential to request from issuer.",-1)),s("div",M,[s("ol",null,[(r(!0),i(_,null,h(t(d)?.credentials.filter(e=>e.format==t(m)),e=>(r(),i("li",{key:e.id,class:"flex items-center justify-between py-5 rounded-lg shadow-md mt-4 mb-10"},[c(x,{to:t(d)?.issuer.uiEndpoint+e.id.split("_")[0]+"&callback="+t(g).public.issuerCallbackUrl,class:"w-full"},{default:u(()=>[s("div",R,[s("p",T,a(e.id.split("_")[0]),1)])]),_:2},1032,["to"])]))),128))]),t(d)?.credentials.filter(e=>e.format==t(m)).length==0?(r(),i("p",Z," No credentials ")):p("",!0),t(n)?(r(),i("p",H,[l[1]||(l[1]=f(" Error while trying to use issuer ",-1)),s("code",null,a(t(o)),1),l[2]||(l[2]=f(": ",-1)),t(n).data?(r(),i("span",J,a(t(n).data.startsWith("{")?JSON.parse(t(n).data)?.message:t(n).data),1)):(r(),i("span",O,a(t(n)),1))])):p("",!0),t(w)?(r(),i("div",A,[c(v,null,{default:u(()=>[...l[3]||(l[3]=[f("Loading issuer configuration...",-1)])]),_:1})])):p("",!0)])]),_:1})],64)}}});export{et as default};
