import{_ as k}from"./D1tweDYs.js";import{u as C}from"./DGaPg-gW.js";import{C as F}from"./CPWQvqDN.js";import{h as E,j as L,K as D,i as N,u as j,c as a,a as e,b as c,t as i,g as t,F as _,r as h,w as u,L as B,o as l,z as b,Z as S,A as m,d as x}from"#entry";import"./BAsolvdk.js";const V={class:"hidden sm:block p-8"},$={class:"text-2xl font-semibold text-left text-[#0F3F5E]"},z={class:"relative grid grid-cols-1 gap-y-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 sm:gap-x-4 sm:gap-y-6 mt-8"},I={class:"mb-8"},U={class:"text-2xl font-bold bold text-white"},W={class:"sm:mt-18"},q={class:"text-lg font-semibold text-center text-[#0F3F5E]"},A={class:"mt-8"},R={class:"flex items-start gap-x-3"},T={class:"mx-4 text-base font-semibold leading-6 text-[#0F3F5E]"},Z={key:0,class:"text-lg font-semibold text-center text-[#627D98]"},H={key:1,class:"text-[#627D98]"},J={class:"text-[#0F3F5E]"},K={key:0,class:"text-[#627D98]"},M={key:1},O={key:2,class:"flex justify-center"},rt=E({__name:"[issuer]",setup(G){const f=S(),o=L().params.issuer,w=C(),{pending:y,data:d,error:n,refresh:Q}=D(`/wallet-api/wallet/${w.value}/issuers/${o}/credentials`,"$ZB_FlLaliw"),p=N("jwt_vc");return j({title:`${o} - supported credentials`}),(X,r)=>{const g=k,v=B("LoadingIndicator");return l(),a(_,null,[e("div",V,[e("h1",$,i(t(o)),1),r[0]||(r[0]=e("p",{class:"text-left text-sm text-[#627D98]"},"Select credential to request.",-1)),e("ul",z,[(l(!0),a(_,null,h(t(d)?.credentials.filter(s=>s.format==t(p)),s=>(l(),a("li",{key:s.id,class:"col-span-1 divide-y divide-gray-200 rounded-2xl shadow-lg transform hover:scale-105 hover:shadow-2xl cursor-pointer duration-200"},[c(g,{to:t(d)?.issuer.uiEndpoint+s.id.split("_")[0]+"&callback="+t(f).public.issuerCallbackUrl,class:"w-full"},{default:u(()=>[e("div",{ref_for:!0,ref:"vcCardDiv",class:"p-6 rounded-2xl shadow-2xl sm:shadow-lg h-full text-gray-900 border border-white/30",style:{background:"linear-gradient(135deg, #2188CA 0%, #0F3F5E 100%)"}},[e("div",I,[e("div",U,i(s.id.split("_")[0].length>20?s.id.split("_")[0].substring(0,20)+"...":s.id.split("_")[0]),1)]),e("div",W,[e("div",{class:b({"text-white/80":t(o),"text-transparent":!t(o)})}," Issuer ",2),e("div",{class:b([{"text-white":t(o),"text-transparent":!t(o)},"font-bold"])},i(t(o)??"Unknown"),3)])],512)]),_:2},1032,["to"])]))),128))])]),c(F,{class:"sm:hidden"},{default:u(()=>[e("h1",q,i(t(o)),1),r[4]||(r[4]=e("p",{class:"text-center text-[#627D98]"},"Select credential to request from issuer.",-1)),e("div",A,[e("ol",null,[(l(!0),a(_,null,h(t(d)?.credentials.filter(s=>s.format==t(p)),s=>(l(),a("li",{key:s.id,class:"flex items-center justify-between py-5 rounded-2xl border border-white/30 shadow-lg mt-4 mb-10",style:{background:"linear-gradient(145deg, rgba(255,255,255,0.95), rgba(208,230,243,0.90))","backdrop-filter":"blur(12px) saturate(180%)"}},[c(g,{to:t(d)?.issuer.uiEndpoint+s.id.split("_")[0]+"&callback="+t(f).public.issuerCallbackUrl,class:"w-full"},{default:u(()=>[e("div",R,[e("p",T,i(s.id.split("_")[0]),1)])]),_:2},1032,["to"])]))),128))]),t(d)?.credentials.filter(s=>s.format==t(p)).length==0?(l(),a("p",Z," No credentials ")):m("",!0),t(n)?(l(),a("p",H,[r[1]||(r[1]=x(" Error while trying to use issuer ",-1)),e("code",J,i(t(o)),1),r[2]||(r[2]=x(": ",-1)),t(n).data?(l(),a("span",K,i(t(n).data.startsWith("{")?JSON.parse(t(n).data)?.message:t(n).data),1)):(l(),a("span",M,i(t(n)),1))])):m("",!0),t(y)?(l(),a("div",O,[c(v,null,{default:u(()=>[...r[3]||(r[3]=[x("Loading issuer configuration...",-1)])]),_:1})])):m("",!0)])]),_:1})],64)}}});export{rt as default};
