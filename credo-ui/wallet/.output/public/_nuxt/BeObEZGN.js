import{C as p}from"./CGoOfd1o.js";import{_ as w}from"./Cf7xgmPg.js";import{L as _}from"./_ObbXfpD.js";import{s as f,l as g}from"./CbphGzgi.js";import{k as q,m as R,i as h,j as x,e as a,w as m,o as s,g as o,d as y}from"#entry";import"./fvw6v6Xq.js";const B=q({__name:"initiateIssuance",async setup(U){let t,n;const i=new URL("http://example.invalid"+R().fullPath).search;console.log("queryRequest: ",i);const r="openid-initiate-issuance://"+i;console.log("walletRequestUrl: ",r);const u=btoa(r);console.log("encodedWalletRequestUrl: ",u);const e=([t,n]=h(()=>g()),t=await t,n(),t)?.value?.wallets,c=l=>`/wallet/${l.id}/exchange/issuance?request=${u}`;if(e&&e.length==1){const l=e[0];f(l.id,void 0),x(c(e[0]))}return(l,d)=>(s(),a(p,null,{default:m(()=>[o(e)&&o(e).length>1?(s(),a(w,{key:0,wallets:o(e),"use-url":c},null,8,["wallets"])):(s(),a(_,{key:1},{default:m(()=>[...d[0]||(d[0]=[y("Loading wallets...",-1)])]),_:1}))]),_:1}))}});export{B as default};
