import{_ as ce}from"./FsQop50g.js";import{c as y,o as d,a as i,_ as ne,J,j as $,q as _,i as z,G as X,Q as ee,D as te,F as K,U as I,R as j,K as pe,V as ve,W as fe,X as me,g as D,B as V,h as b,t as C,f as be,k as xe,L as he,b as R,Y as ge,w as E,n as le,P as ye,A as H,d as W,Z as we,r as Y}from"#entry";import{C as _e}from"./BXf69NxL.js";import{r as ke}from"./WLQUZRjC.js";import $e from"./B4xd7mF2.js";import{L as Oe}from"./BFiSVEsl.js";import{u as Se}from"./C7YCVWHz.js";import{d as Ce}from"./6yF6Fmpd.js";import{g as Le}from"./_2w5uKZz.js";import{c as Te}from"./eowDyVTy.js";import{u as N,w as De,a as Ae,h as Fe,o as S,t as Re,i as Q,A as Z,E as Ee,T as Ie,b as G,c as k,l as Be,N as ae,O as Pe}from"./CsW77IRk.js";import{f as Me,c as L,s as Ve,p as je,u as Ne}from"./DS-4mPaH.js";import{f as ze,u as Ue}from"./Dzjxe8OV.js";function Ze(t,n){return d(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"})])}function qe(t,n){return d(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})])}function He(t,n){return d(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m15 11.25 1.5 1.5.75-.75V8.758l2.276-.61a3 3 0 1 0-3.675-3.675l-.61 2.277H12l-.75.75 1.5 1.5M15 11.25l-8.47 8.47c-.34.34-.8.53-1.28.53s-.94.19-1.28.53l-.97.97-.75-.75.97-.97c.34-.34.53-.8.53-1.28s.19-.94.53-1.28L12.75 9M15 11.25 12.75 9"})])}function We(t,n){return d(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"})])}function Ke(t,n){return d(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"})])}const Qe={name:"PageHeader"},Ge={class:"shadow-lg",style:{background:"linear-gradient(145deg, rgba(255,255,255,0.95), rgba(208,230,243,0.9))","backdrop-filter":"blur(12px) saturate(180%)"}},Je={class:"px-4 sm:px-6 lg:mx-auto lg:max-w-6xl lg:px-8"},Ye={class:"py-6 lg:py-3 md:flex md:items-center md:justify-between lg:border-[#D0E6F3]"},Xe={class:"min-w-0 flex-1"},et={class:"flex items-center"},tt={class:"flex items-center"},lt={class:"mt-6 flex space-x-3 md:ml-4 md:mt-0"};function at(t,n,u,v,r,f){return d(),y("div",Ge,[i("div",Je,[i("div",Ye,[i("div",Xe,[i("div",et,[J(t.$slots,"icon"),i("div",null,[i("div",tt,[J(t.$slots,"title")])])])]),i("div",lt,[J(t.$slots,"menu")])])])])}const ot=ne(Qe,[["render",at]]);function nt(t,n,u){let v=$(u?.value),r=_(()=>t.value!==void 0);return[_(()=>r.value?t.value:v.value),function(f){return r.value||(v.value=f),n?.(f)}]}function se(t={},n=null,u=[]){for(let[v,r]of Object.entries(t))re(u,ie(n,v),r);return u}function ie(t,n){return t?t+"["+n+"]":n}function re(t,n,u){if(Array.isArray(u))for(let[v,r]of u.entries())re(t,ie(n,v.toString()),r);else u instanceof Date?t.push([n,u.toISOString()]):typeof u=="boolean"?t.push([n,u?"1":"0"]):typeof u=="string"?t.push([n,u]):typeof u=="number"?t.push([n,`${u}`]):u==null?t.push([n,""]):se(u,n,t)}function st(t,n){return t===n}var it=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(it||{}),rt=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(rt||{}),ut=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(ut||{});function dt(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let ue=Symbol("ListboxContext");function q(t){let n=fe(ue,null);if(n===null){let u=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,q),u}return n}let ct=z({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>st},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:n,attrs:u,emit:v}){let r=$(1),f=$(null),e=$(null),h=$(null),m=$([]),g=$(""),w=$(null),s=$(1);function c(a=o=>o){let o=w.value!==null?m.value[w.value]:null,l=Pe(a(m.value.slice()),x=>S(x.dataRef.domRef)),p=o?l.indexOf(o):null;return p===-1&&(p=null),{options:l,activeOptionIndex:p}}let B=_(()=>t.multiple?1:0),[P,A]=nt(_(()=>t.modelValue),a=>v("update:modelValue",a),_(()=>t.defaultValue)),M=_(()=>P.value===void 0?N(B.value,{1:[],0:void 0}):P.value),T={listboxState:r,value:M,mode:B,compare(a,o){if(typeof t.by=="string"){let l=t.by;return a?.[l]===o?.[l]}return t.by(a,o)},orientation:_(()=>t.horizontal?"horizontal":"vertical"),labelRef:f,buttonRef:e,optionsRef:h,disabled:_(()=>t.disabled),options:m,searchQuery:g,activeOptionIndex:w,activationTrigger:s,closeListbox(){t.disabled||r.value!==1&&(r.value=1,w.value=null)},openListbox(){t.disabled||r.value!==0&&(r.value=0)},goToOption(a,o,l){if(t.disabled||r.value===1)return;let p=c(),x=Me(a===L.Specific?{focus:L.Specific,id:o}:{focus:a},{resolveItems:()=>p.options,resolveActiveIndex:()=>p.activeOptionIndex,resolveId:O=>O.id,resolveDisabled:O=>O.dataRef.disabled});g.value="",w.value=x,s.value=l??1,m.value=p.options},search(a){if(t.disabled||r.value===1)return;let o=g.value!==""?0:1;g.value+=a.toLowerCase();let l=(w.value!==null?m.value.slice(w.value+o).concat(m.value.slice(0,w.value+o)):m.value).find(x=>x.dataRef.textValue.startsWith(g.value)&&!x.dataRef.disabled),p=l?m.value.indexOf(l):-1;p===-1||p===w.value||(w.value=p,s.value=1)},clearSearch(){t.disabled||r.value!==1&&g.value!==""&&(g.value="")},registerOption(a,o){let l=c(p=>[...p,{id:a,dataRef:o}]);m.value=l.options,w.value=l.activeOptionIndex},unregisterOption(a){let o=c(l=>{let p=l.findIndex(x=>x.id===a);return p!==-1&&l.splice(p,1),l});m.value=o.options,w.value=o.activeOptionIndex,s.value=1},theirOnChange(a){t.disabled||A(a)},select(a){t.disabled||A(N(B.value,{0:()=>a,1:()=>{let o=I(T.value.value).slice(),l=I(a),p=o.findIndex(x=>T.compare(l,I(x)));return p===-1?o.push(l):o.splice(p,1),o}}))}};De([e,h],(a,o)=>{var l;T.closeListbox(),Ae(o,Fe.Loose)||(a.preventDefault(),(l=S(e))==null||l.focus())},_(()=>r.value===0)),me(ue,T),Re(_(()=>N(r.value,{0:Q.Open,1:Q.Closed})));let F=_(()=>{var a;return(a=S(e))==null?void 0:a.closest("form")});return X(()=>{ee([F],()=>{if(!F.value||t.defaultValue===void 0)return;function a(){T.theirOnChange(t.defaultValue)}return F.value.addEventListener("reset",a),()=>{var o;(o=F.value)==null||o.removeEventListener("reset",a)}},{immediate:!0})}),()=>{let{name:a,modelValue:o,disabled:l,form:p,...x}=t,O={open:r.value===0,disabled:l,value:M.value};return te(K,[...a!=null&&M.value!=null?se({[a]:M.value}).map(([U,de])=>te(ze,Ee({features:Ue.Hidden,key:U,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:p,disabled:l,name:U,value:de}))):[],Z({ourProps:{},theirProps:{...u,...Ie(x,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:O,slots:n,attrs:u,name:"Listbox"})])}}}),pt=z({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:null}},setup(t,{attrs:n,slots:u}){var v;let r=(v=t.id)!=null?v:`headlessui-listbox-label-${G()}`,f=q("ListboxLabel");function e(){var h;(h=S(f.buttonRef))==null||h.focus({preventScroll:!0})}return()=>{let h={open:f.listboxState.value===0,disabled:f.disabled.value},{...m}=t,g={id:r,ref:f.labelRef,onClick:e};return Z({ourProps:g,theirProps:m,slot:h,attrs:n,slots:u,name:"ListboxLabel"})}}}),vt=z({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(t,{attrs:n,slots:u,expose:v}){var r;let f=(r=t.id)!=null?r:`headlessui-listbox-button-${G()}`,e=q("ListboxButton");v({el:e.buttonRef,$el:e.buttonRef});function h(s){switch(s.key){case k.Space:case k.Enter:case k.ArrowDown:s.preventDefault(),e.openListbox(),j(()=>{var c;(c=S(e.optionsRef))==null||c.focus({preventScroll:!0}),e.value.value||e.goToOption(L.First)});break;case k.ArrowUp:s.preventDefault(),e.openListbox(),j(()=>{var c;(c=S(e.optionsRef))==null||c.focus({preventScroll:!0}),e.value.value||e.goToOption(L.Last)});break}}function m(s){switch(s.key){case k.Space:s.preventDefault();break}}function g(s){e.disabled.value||(e.listboxState.value===0?(e.closeListbox(),j(()=>{var c;return(c=S(e.buttonRef))==null?void 0:c.focus({preventScroll:!0})})):(s.preventDefault(),e.openListbox(),dt(()=>{var c;return(c=S(e.optionsRef))==null?void 0:c.focus({preventScroll:!0})})))}let w=Ve(_(()=>({as:t.as,type:n.type})),e.buttonRef);return()=>{var s,c;let B={open:e.listboxState.value===0,disabled:e.disabled.value,value:e.value.value},{...P}=t,A={ref:e.buttonRef,id:f,type:w.value,"aria-haspopup":"listbox","aria-controls":(s=S(e.optionsRef))==null?void 0:s.id,"aria-expanded":e.listboxState.value===0,"aria-labelledby":e.labelRef.value?[(c=S(e.labelRef))==null?void 0:c.id,f].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:h,onKeyup:m,onClick:g};return Z({ourProps:A,theirProps:P,slot:B,attrs:n,slots:u,name:"ListboxButton"})}}}),ft=z({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(t,{attrs:n,slots:u,expose:v}){var r;let f=(r=t.id)!=null?r:`headlessui-listbox-options-${G()}`,e=q("ListboxOptions"),h=$(null);v({el:e.optionsRef,$el:e.optionsRef});function m(s){switch(h.value&&clearTimeout(h.value),s.key){case k.Space:if(e.searchQuery.value!=="")return s.preventDefault(),s.stopPropagation(),e.search(s.key);case k.Enter:if(s.preventDefault(),s.stopPropagation(),e.activeOptionIndex.value!==null){let c=e.options.value[e.activeOptionIndex.value];e.select(c.dataRef.value)}e.mode.value===0&&(e.closeListbox(),j(()=>{var c;return(c=S(e.buttonRef))==null?void 0:c.focus({preventScroll:!0})}));break;case N(e.orientation.value,{vertical:k.ArrowDown,horizontal:k.ArrowRight}):return s.preventDefault(),s.stopPropagation(),e.goToOption(L.Next);case N(e.orientation.value,{vertical:k.ArrowUp,horizontal:k.ArrowLeft}):return s.preventDefault(),s.stopPropagation(),e.goToOption(L.Previous);case k.Home:case k.PageUp:return s.preventDefault(),s.stopPropagation(),e.goToOption(L.First);case k.End:case k.PageDown:return s.preventDefault(),s.stopPropagation(),e.goToOption(L.Last);case k.Escape:s.preventDefault(),s.stopPropagation(),e.closeListbox(),j(()=>{var c;return(c=S(e.buttonRef))==null?void 0:c.focus({preventScroll:!0})});break;case k.Tab:s.preventDefault(),s.stopPropagation();break;default:s.key.length===1&&(e.search(s.key),h.value=setTimeout(()=>e.clearSearch(),350));break}}let g=Be(),w=_(()=>g!==null?(g.value&Q.Open)===Q.Open:e.listboxState.value===0);return()=>{var s,c;let B={open:e.listboxState.value===0},{...P}=t,A={"aria-activedescendant":e.activeOptionIndex.value===null||(s=e.options.value[e.activeOptionIndex.value])==null?void 0:s.id,"aria-multiselectable":e.mode.value===1?!0:void 0,"aria-labelledby":(c=S(e.buttonRef))==null?void 0:c.id,"aria-orientation":e.orientation.value,id:f,onKeydown:m,role:"listbox",tabIndex:0,ref:e.optionsRef};return Z({ourProps:A,theirProps:P,slot:B,attrs:n,slots:u,features:ae.RenderStrategy|ae.Static,visible:w.value,name:"ListboxOptions"})}}}),mt=z({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(t,{slots:n,attrs:u,expose:v}){var r;let f=(r=t.id)!=null?r:`headlessui-listbox-option-${G()}`,e=q("ListboxOption"),h=$(null);v({el:h,$el:h});let m=_(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===f:!1),g=_(()=>N(e.mode.value,{0:()=>e.compare(I(e.value.value),I(t.value)),1:()=>I(e.value.value).some(a=>e.compare(I(a),I(t.value)))})),w=_(()=>N(e.mode.value,{1:()=>{var a;let o=I(e.value.value);return((a=e.options.value.find(l=>o.some(p=>e.compare(I(p),I(l.dataRef.value)))))==null?void 0:a.id)===f},0:()=>g.value})),s=je(h),c=_(()=>({disabled:t.disabled,value:t.value,get textValue(){return s()},domRef:h}));X(()=>e.registerOption(f,c)),pe(()=>e.unregisterOption(f)),X(()=>{ee([e.listboxState,g],()=>{e.listboxState.value===0&&g.value&&N(e.mode.value,{1:()=>{w.value&&e.goToOption(L.Specific,f)},0:()=>{e.goToOption(L.Specific,f)}})},{immediate:!0})}),ve(()=>{e.listboxState.value===0&&m.value&&e.activationTrigger.value!==0&&j(()=>{var a,o;return(o=(a=S(h))==null?void 0:a.scrollIntoView)==null?void 0:o.call(a,{block:"nearest"})})});function B(a){if(t.disabled)return a.preventDefault();e.select(t.value),e.mode.value===0&&(e.closeListbox(),j(()=>{var o;return(o=S(e.buttonRef))==null?void 0:o.focus({preventScroll:!0})}))}function P(){if(t.disabled)return e.goToOption(L.Nothing);e.goToOption(L.Specific,f)}let A=Ne();function M(a){A.update(a)}function T(a){A.wasMoved(a)&&(t.disabled||m.value||e.goToOption(L.Specific,f,0))}function F(a){A.wasMoved(a)&&(t.disabled||m.value&&e.goToOption(L.Nothing))}return()=>{let{disabled:a}=t,o={active:m.value,selected:g.value,disabled:a},{value:l,disabled:p,...x}=t,O={id:f,ref:h,role:"option",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-selected":g.value,disabled:void 0,onClick:B,onFocus:P,onPointerenter:M,onMouseenter:M,onPointermove:T,onMousemove:T,onPointerleave:F,onMouseleave:F};return Z({ourProps:O,theirProps:x,slot:o,attrs:u,slots:n,name:"ListboxOption"})}}});const bt={__name:"CredentialIcon",props:["credentialType"],setup(t){return(n,u)=>t.credentialType==="VerifiableDiploma"?(d(),D(b(Ze),{key:0})):["VerifiableId","Europass","MyID"].includes(t.credentialType)?(d(),D(b(We),{key:1})):t.credentialType==="ProofOfResidence"?(d(),D(b(ke),{key:2})):t.credentialType==="ParticipantCredential"?(d(),D(b(Ke),{key:3})):t.credentialType==="OpenBadgeCredential"?(d(),D(b(qe),{key:4})):t.credentialType==="VerifiableVaccinationCertificate"?(d(),D(b(He),{key:5})):V("",!0)}},xt={},ht={class:"inline-flex items-center font-semibold leading-6 text-sm"};function gt(t,n){return d(),y("div",ht,[...n[0]||(n[0]=[i("svg",{class:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"})],-1)])])}const yt=ne(xt,[["render",gt]]),wt=["disabled"],_t={key:3},kt={key:4},oe={__name:"ActionButton",props:["handler","icon","failedIcon","failed","displayText","actionText"],emits:["click"],setup(t,{emit:n}){const u=n,v=t,r=$(!1);function f(){r.value=!0,u("click")}return(e,h)=>{const m=$e;return d(),y("button",{disabled:b(r),class:"",onClick:f},[t.failed?(d(),D(m,{key:0,class:"h-5 w-5 mr-1",name:"heroicons:exclamation-circle"})):b(r)?b(r)?(d(),D(yt,{key:2,class:"h-5 w-5 pr-2"})):V("",!0):(d(),D(m,{key:1,name:t.icon,class:"h-5 w-5 mr-1"},null,8,["name"])),b(r)?(d(),y("span",kt,C(v.actionText??v.displayText),1)):(d(),y("span",_t,C(v.displayText),1))],8,wt)}}};function $t(t,n){return d(),y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[i("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z","clip-rule":"evenodd"})])}function Ot(t,n){return d(),y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[i("path",{"fill-rule":"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z","clip-rule":"evenodd"})])}const St={class:"ml-3"},Ct={class:"text-sm text-[#627D98]"},Lt={class:"underline text-[#0F3F5E]"},Tt={class:"group flex"},Dt={key:0,class:"group-hover:opacity-100 transition-opacity bg-gray-800 px-1 text-sm text-gray-100 rounded-md absolute -translate-x-1/2 opacity-0 m-4 mx-auto"},At={class:"flex col-2"},Ft={key:0,class:"relative w-full"},Rt={class:"relative mt-2"},Et={class:"flex items-center"},It={class:"truncate font-bold"},Bt={class:"ml-3 block truncate"},Pt={class:"pointer-events-none absolute inset-y-0 right-0 ml-3 flex items-center pr-2"},Mt={class:"flex items-center"},Vt={class:"italic"},jt={class:"rounded-md bg-[#F0F4F8] border border-[#D0E6F3] p-2 mt-2"},Nt={class:"flex"},zt={class:"flex-1"},Ut={key:0,class:"text-sm text-[#627D98]"},Zt={class:"text-sm md:ml-6"},qt={"aria-label":"Credential list",class:"h-full overflow-y-auto shadow-xl"},Ht={class:"top-0 z-10 border-y border-b-[#E4E7EB] border-t-[#F0F4F8] bg-[#F8F9FB] px-3 py-1.5 text-sm font-semibold leading-6 text-[#0F3F5E]"},Wt={class:"divide-y divide-[#E4E7EB]",role:"list"},Kt={class:"flex min-w-0 flex-row items-center"},Qt={class:"text-lg font-semibold leading-6 text-[#0F3F5E]"},Gt={class:"ml-1 truncate text-sm leading-5 text-[#4A6580]"},dl=z({__name:"issuance",async setup(t){let n,u;const v=Se(),{data:r,pending:f}=([n,u]=be(()=>ye(()=>$fetch(`/wallet-api/wallet/${v.value}/dids`),"$pEx2-YTCGy")),n=await n,u(),n),e=$(null);ee(r,async o=>{await j();const l=o?.find(p=>p.default==!0)??o[0]??null;console.log("Setting new DID: "+l),e.value=l});const h=xe().query,m=Ce(h.request);console.log("Issuance -> Using request: ",m);const g=$(!1);console.log("Making issuanceUrl...");const w=new URL(m);console.log("issuanceUrl: ",w);const{data:s}=he(`/wallet-api/wallet/${v.value}/manifest/extract?offer=${m}`,"$bamVE_0Eyq"),c=_(()=>s.value?.display?s.value.display.card.issuedBy:"n/a");console.log("Issuer host:",c);let P=[_(()=>s.value?.display?s.value.display.card.title:"n/a")],A=0;const M=Le(P.map(o=>({id:++A,name:o})),o=>o.name),T=$(!1),F=$("Unknown error occurred.");async function a(){const o=e.value?.did??r.value[0]?.did??null;if(o===null){console.warn("NO DID AT ACCEPTCREDENTIAL"),console.log("Selected: "+e.value),console.log("DIDs:"+r.value[0]);return}console.log("Issue to: "+o);try{await $fetch(`/wallet-api/wallet/${v.value}/exchange/useOfferRequest?did=${o}`,{method:"POST",body:m}),le(`/wallet/${v.value}`)}catch(l){T.value=!0;let p=l?.data.startsWith("{")?JSON.parse(l.data):l.data??l;throw p=p?.message??p,F.value=p,console.log("Error: ",l?.data),alert("Error occurred while trying to receive credential: "+F.value),l}}return h.accept&&(g.value=!0,a()),Te("Claim credentials - Credentis"),(o,l)=>{const p=ce;return d(),y("div",null,[R(ot,null,ge({title:E(()=>[i("div",St,[l[3]||(l[3]=i("h1",{class:"text-2xl font-bold leading-7 text-[#0F3F5E] sm:truncate sm:leading-9"}," Receive entra credentials ",-1)),i("p",Ct,[l[2]||(l[2]=W(" issued by ",-1)),i("span",Lt,C(b(c)),1)])])]),_:2},[g.value?void 0:{name:"menu",fn:E(()=>[R(oe,{class:"inline-flex items-center rounded-xl bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:scale-105 hover:bg-red-700 focus:outline focus:outline-offset-2 focus:outline-red-700","display-text":"Reject",icon:"heroicons:x-mark",type:"button",onClick:l[0]||(l[0]=x=>("navigateTo"in o?o.navigateTo:b(le))(`/wallet/${b(v)}`))}),i("div",Tt,[R(oe,{class:H([[T.value?"animate-pulse bg-red-600 hover:scale-105 hover:bg-red-700 focus:outline focus:outline-offset-2 focus:outline-red-700":"hover:scale-105 focus:outline focus:outline-offset-2 focus:outline-[#2188CA]"],"inline-flex items-center rounded-xl px-3 py-2 text-sm font-semibold text-white shadow-sm focus:outline focus:outline-offset-2 disabled:bg-gray-200 disabled:cursor-not-allowed"]),disabled:(e.value===null||e.value===void 0)&&!(b(r)&&b(r)?.length===1),failed:T.value,"display-text":"Accept",icon:"heroicons:check",type:"button",onClick:a,style:{background:"linear-gradient(135deg, #2188CA, #0F3F5E)"}},null,8,["class","disabled","failed"]),T.value?(d(),y("span",Dt,C(F.value),1)):V("",!0)])]),key:"0"}]),1024),R(_e,null,{default:E(()=>[l[8]||(l[8]=i("h1",{class:"mb-2 text-2xl font-semibold text-[#0F3F5E]"},"Issuance",-1)),g.value?(d(),D(Oe,{key:0,class:"my-6 mb-12 w-full"},{default:E(()=>[W(" Receiving "+C(o.credentialCount)+" credential(s)... ",1)]),_:1})):V("",!0),i("div",At,[b(f)?V("",!0):(d(),y("div",Ft,[b(r)?.length!==1?(d(),D(b(ct),{key:0,modelValue:e.value,"onUpdate:modelValue":l[1]||(l[1]=x=>e.value=x),as:"div"},{default:E(()=>[R(b(pt),{class:"block text-sm font-medium leading-6 text-[#0F3F5E]"},{default:E(()=>[...l[4]||(l[4]=[W("Select DID: ",-1)])]),_:1}),i("div",Rt,[e.value!==null?(d(),D(b(vt),{key:0,class:"relative w-full cursor-default rounded-md bg-white py-1.5 pl-3 pr-10 text-left text-[#0F3F5E] shadow-sm ring-1 ring-inset ring-[#D0E6F3] focus:outline-none focus:ring-2 focus:ring-[#2188CA] sm:text-sm sm:leading-6 h-9"},{default:E(()=>[i("span",Et,[i("p",It,C(e.value?.alias),1),i("span",Bt,C(e.value?.did),1)]),i("span",Pt,[R(b(Ot),{"aria-hidden":"true",class:"h-5 w-5 text-[#9FB3C8]"})])]),_:1})):V("",!0),R(we,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:E(()=>[R(b(ft),{class:"absolute z-10 mt-1 max-h-56 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:E(()=>[(d(!0),y(K,null,Y(b(r),x=>(d(),D(b(mt),{key:x?.did,value:x,as:"template"},{default:E(({active:O,selectedDid:U})=>[i("li",{class:H([O?"bg-[#2188CA] text-white":"text-[#0F3F5E]","relative cursor-default select-none py-2 pl-3 pr-9"])},[i("div",Mt,[i("p",Vt,C(x.alias),1),i("span",{class:H([U?"font-semibold":"font-normal","ml-3 block truncate"])},C(x.did),3)]),U?(d(),y("span",{key:0,class:H([O?"text-white":"text-[#2188CA]","absolute inset-y-0 right-0 flex items-center pr-4"])},[R(b($t),{"aria-hidden":"true",class:"h-5 w-5"})],2)):V("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"])):V("",!0),i("div",jt,[i("div",Nt,[i("div",zt,[e.value!=null?(d(),y("span",Ut," Will issue to DID: "+C(e.value.alias)+" ("+C(e.value.did)+") ",1)):V("",!0)]),i("button",Zt,[R(p,{to:`/wallet/${b(v)}/settings/dids`,class:"whitespace-nowrap font-medium text-[#2188CA] hover:text-[#0F3F5E]"},{default:E(()=>[...l[5]||(l[5]=[W(" DID management ",-1),i("span",{"aria-hidden":"true"}," â†’",-1)])]),_:1},8,["to"])])])]),l[6]||(l[6]=i("p",{class:"mt-10 mb-1 text-[#627D98]"},"The following credentials will be issued:",-1)),i("div",qt,[(d(!0),y(K,null,Y(b(M).keys(),x=>(d(),y("div",{key:x.id,class:"relative"},[i("div",Ht,[i("h3",null,C(x.value)+"s:",1)]),i("ul",Wt,[(d(!0),y(K,null,Y(b(M).get(x),O=>(d(),y("li",{key:O,class:"flex gap-x-4 px-3 py-5"},[R(bt,{credentialType:O.name.value,class:"h-6 w-6 flex-none rounded-full bg-[#F0F4F8]"},null,8,["credentialType"]),i("div",Kt,[i("span",Qt,C(O.id)+".",1),i("span",Gt,C(O.name.value),1)])]))),128))])]))),128))]),l[7]||(l[7]=i("br",null,null,-1))]))])]),_:1})])}}});export{dl as default};
