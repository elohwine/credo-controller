import{C as p}from"./BXf69NxL.js";import{_ as w}from"./SEbazVjC.js";import{L as g}from"./BFiSVEsl.js";import{s as U,l as h}from"./C7YCVWHz.js";import{i as q,k as R,f as $,n as x,g as o,w as _,o as s,h as n,d as y}from"#entry";import"./B4xd7mF2.js";import"./eowDyVTy.js";const T=q({__name:"initiateIssuance",async setup(C){let a,r;const i=R(),l=i.query.credential_offer_uri,c=l?"openid-credential-offer://":"openid-initiate-issuance://",u=l?`${c}?credential_offer_uri=${encodeURIComponent(l)}`:`${c}?${new URLSearchParams(i.query).toString()}`;console.log("walletRequestUrl: ",u);const d=btoa(u);console.log("encodedWalletRequestUrl: ",d);const e=([a,r]=$(()=>h()),a=await a,r(),a)?.value?.wallets,f=t=>`/wallet/${t.id}/exchange/issuance?request=${d}`;if(e&&e.length===1){const t=e[0];U(t.id,void 0),x(f(t))}return(t,m)=>(s(),o(p,null,{default:_(()=>[n(e)&&n(e).length>1?(s(),o(w,{key:0,wallets:n(e),"use-url":f},null,8,["wallets"])):(s(),o(g,{key:1},{default:_(()=>[...m[0]||(m[0]=[y("Loading wallets...",-1)])]),_:1}))]),_:1}))}});export{T as default};
