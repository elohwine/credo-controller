import{_ as v}from"./FsQop50g.js";import{u as C}from"./C7YCVWHz.js";import{C as F}from"./BXf69NxL.js";import{i as E,k as L,L as D,j as N,u as B,c as a,a as e,b as c,t as i,h as t,F as _,r as h,w as u,M as $,o as l,A as b,$ as j,B as m,d as x}from"#entry";import"./eowDyVTy.js";const S={class:"hidden sm:block p-8"},V={class:"text-2xl font-semibold text-left text-[#0F3F5E]"},I={class:"relative grid grid-cols-1 gap-y-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 sm:gap-x-4 sm:gap-y-6 mt-8"},U={class:"mb-8"},W={class:"text-2xl font-bold bold text-white"},q={class:"sm:mt-18"},z={class:"text-lg font-semibold text-center text-[#0F3F5E]"},A={class:"mt-8"},M={class:"flex items-start gap-x-3"},R={class:"mx-4 text-base font-semibold leading-6 text-[#0F3F5E]"},T={key:0,class:"text-lg font-semibold text-center text-[#627D98]"},H={key:1,class:"text-[#627D98]"},J={class:"text-[#0F3F5E]"},O={key:0,class:"text-[#627D98]"},Z={key:1},G={key:2,class:"flex justify-center"},rt=E({__name:"[issuer]",setup(K){const f=j(),o=L().params.issuer,w=C(),{pending:y,data:d,error:n,refresh:Q}=D(`/wallet-api/wallet/${w.value}/issuers/${o}/credentials`,"$ZB_FlLaliw"),p=N("jwt_vc");return B({title:`${o} - supported credentials`}),(X,r)=>{const g=v,k=$("LoadingIndicator");return l(),a(_,null,[e("div",S,[e("h1",V,i(t(o)),1),r[0]||(r[0]=e("p",{class:"text-left text-sm text-[#627D98]"},"Select credential to request.",-1)),e("ul",I,[(l(!0),a(_,null,h(t(d)?.credentials.filter(s=>s.format==t(p)),s=>(l(),a("li",{key:s.id,class:"col-span-1 divide-y divide-gray-200 rounded-2xl shadow-lg transform hover:scale-105 hover:shadow-2xl cursor-pointer duration-200"},[c(g,{to:t(d)?.issuer.uiEndpoint+s.id.split("_")[0]+"&callback="+t(f).public.issuerCallbackUrl,class:"w-full"},{default:u(()=>[e("div",{ref_for:!0,ref:"vcCardDiv",class:"p-6 rounded-2xl shadow-2xl sm:shadow-lg h-full text-gray-900 border border-white/30",style:{background:"linear-gradient(135deg, #2188CA 0%, #0F3F5E 100%)"}},[e("div",U,[e("div",W,i(s.id.split("_")[0].length>20?s.id.split("_")[0].substring(0,20)+"...":s.id.split("_")[0]),1)]),e("div",q,[e("div",{class:b({"text-white/80":t(o),"text-transparent":!t(o)})}," Issuer ",2),e("div",{class:b([{"text-white":t(o),"text-transparent":!t(o)},"font-bold"])},i(t(o)??"Unknown"),3)])],512)]),_:2},1032,["to"])]))),128))])]),c(F,{class:"sm:hidden"},{default:u(()=>[e("h1",z,i(t(o)),1),r[4]||(r[4]=e("p",{class:"text-center text-[#627D98]"},"Select credential to request from issuer.",-1)),e("div",A,[e("ol",null,[(l(!0),a(_,null,h(t(d)?.credentials.filter(s=>s.format==t(p)),s=>(l(),a("li",{key:s.id,class:"flex items-center justify-between py-5 rounded-2xl border border-white/30 shadow-lg mt-4 mb-10",style:{background:"linear-gradient(145deg, rgba(255,255,255,0.95), rgba(208,230,243,0.90))","backdrop-filter":"blur(12px) saturate(180%)"}},[c(g,{to:t(d)?.issuer.uiEndpoint+s.id.split("_")[0]+"&callback="+t(f).public.issuerCallbackUrl,class:"w-full"},{default:u(()=>[e("div",M,[e("p",R,i(s.id.split("_")[0]),1)])]),_:2},1032,["to"])]))),128))]),t(d)?.credentials.filter(s=>s.format==t(p)).length==0?(l(),a("p",T," No credentials ")):m("",!0),t(n)?(l(),a("p",H,[r[1]||(r[1]=x(" Error while trying to use issuer ",-1)),e("code",J,i(t(o)),1),r[2]||(r[2]=x(": ",-1)),t(n).data?(l(),a("span",O,i(t(n).data.startsWith("{")?JSON.parse(t(n).data)?.message:t(n).data),1)):(l(),a("span",Z,i(t(n)),1))])):m("",!0),t(y)?(l(),a("div",G,[c(k,null,{default:u(()=>[...r[3]||(r[3]=[x("Loading issuer configuration...",-1)])]),_:1})])):m("",!0)])]),_:1})],64)}}});export{rt as default};
