import{_ as V}from"./Dv7n7eYI.js";import{_ as N}from"./DHU6KLjH.js";import{k as L,l as C,H as S,c as a,h as x,a as e,b as o,w as c,o as n,d as j,_ as D,m as R,i as G,x as O,K as z,e as A,F as y,r as F,g as l,L as P,M as Z,t as _,n as T}from"#entry";import{a as U,r as Y}from"./Cq7k4mhM.js";import{r as Q}from"./CypJCeRo.js";import"./D75GOWRg.js";import"./CS6oTbIc.js";const q={key:0,class:"relative rounded-2xl bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 shadow-lg p-6 mb-6"},K={class:"flex items-start gap-4"},W={class:"flex-1 pt-1"},J={class:"flex flex-col sm:flex-row gap-3"},$="genericid-banner-dismissed",X=L({__name:"GenericIdBanner",props:{walletId:{type:String,required:!0},credentialId:{type:String,default:null}},setup(b){const u=b,g=C(!1);S(()=>{!localStorage.getItem(`${$}-${u.walletId}`)&&u.credentialId&&(g.value=!0)});function h(){g.value=!1,localStorage.setItem(`${$}-${u.walletId}`,"true")}return(r,s)=>{const v=V;return g.value?(n(),a("div",q,[e("button",{onClick:h,class:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Dismiss"},[...s[0]||(s[0]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),e("div",K,[s[4]||(s[4]=e("div",{class:"flex-shrink-0 h-12 w-12 rounded-full bg-gradient-to-br from-[#0573F0] to-[#03449E] flex items-center justify-center shadow-md"},[e("svg",{class:"h-7 w-7 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",W,[s[2]||(s[2]=e("h3",{class:"text-lg font-bold text-gray-900 mb-2"}," ðŸŽ‰ Welcome! Your GenericID Credential is Ready ",-1)),s[3]||(s[3]=e("p",{class:"text-sm text-gray-700 mb-4"}," We've issued you a GenericID credential during registration. This credential contains your verified identity information and can be used to prove your identity across the platform. ",-1)),e("div",J,[o(v,{to:`/wallet/${b.walletId}/credentials`},{default:c(()=>[...s[1]||(s[1]=[e("button",{class:"flex items-center justify-center gap-2 px-5 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-[#0573F0] to-[#03449E] rounded-xl shadow-md hover:shadow-lg hover:scale-105 transform transition-all duration-200"},[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]),j(" View Your Credential ")],-1)])]),_:1},8,["to"]),e("button",{onClick:h,class:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-xl shadow-sm hover:bg-gray-50 hover:shadow-md transform transition-all duration-200"}," Dismiss ")])])])])):x("",!0)}}}),ee=D(X,[["__scopeId","data-v-abaaf149"]]),te="data:image/svg+xml,%3csvg%20width='24'%20height='21'%20viewBox='0%200%2024%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M19.3846%2019.0809C20.2343%2019.0809%2020.9231%2018.4135%2020.9231%2017.5902V15.2052C20.9231%2014.7111%2021.3364%2014.3108%2021.8462%2014.3108C22.356%2014.3108%2022.7693%2014.7111%2022.7693%2015.2052V17.5902C22.7693%2019.4015%2021.254%2020.8697%2019.3846%2020.8697H16.9232C16.4133%2020.8697%2016%2020.4693%2016%2019.9754C16%2019.4813%2016.4133%2019.0809%2016.9232%2019.0809H19.3846Z'%20fill='%23E6F6FF'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M19.3846%201.78882C20.2343%201.78882%2020.9231%202.45622%2020.9231%203.2795V5.66459C20.9231%206.15856%2021.3364%206.559%2021.8462%206.559C22.356%206.559%2022.7693%206.15856%2022.7693%205.66459V3.2795C22.7693%201.46828%2021.254%200%2019.3846%200H16.9232C16.4133%200%2016%200.400441%2016%200.894412C16%201.38838%2016.4133%201.78882%2016.9232%201.78882H19.3846Z'%20fill='%23E6F6FF'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M4.61117%2019.0809C3.76151%2019.0809%203.07271%2018.4135%203.07271%2017.5902V15.2052C3.07271%2014.7111%202.65945%2014.3108%202.14964%2014.3108C1.63984%2014.3108%201.22656%2014.7111%201.22656%2015.2052V17.5902C1.22656%2019.4015%202.74191%2020.8697%204.61117%2020.8697H7.07272C7.58252%2020.8697%207.9958%2020.4693%207.9958%2019.9754C7.9958%2019.4813%207.58252%2019.0809%207.07272%2019.0809H4.61117Z'%20fill='%23E6F6FF'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M4.61117%201.78882C3.76151%201.78882%203.07271%202.45622%203.07271%203.2795V5.6646C3.07271%206.15856%202.65945%206.559%202.14964%206.559C1.63984%206.559%201.22656%206.15856%201.22656%205.6646V3.2795C1.22656%201.46829%202.74191%200%204.61117%200H7.07272C7.58252%200%207.9958%200.400441%207.9958%200.894412C7.9958%201.38838%207.58252%201.78882%207.07272%201.78882H4.61117Z'%20fill='%23E6F6FF'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M24%2010.4347C24%2010.9286%2023.5867%2011.329%2023.077%2011.329H0.923076C0.41328%2011.329%200%2010.9286%200%2010.4347C0%209.94075%200.41328%209.54028%200.923076%209.54028H23.077C23.5867%209.54028%2024%209.94075%2024%2010.4347Z'%20fill='%23E6F6FF'/%3e%3c/svg%3e",se=window.setInterval,le={class:"flex flex-1 flex-col justify-center px-4 py-12 sm:px-6 lg:flex-none lg:px-20 xl:px-24 lg:bg-white lg:bg-opacity-50 sm:h-full sm:p-6"},oe={class:"sm:h-full w-full"},ie={key:0,class:"mb-8"},ne={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},re={class:"flex items-start justify-between mb-4"},ae={class:"text-lg font-semibold text-gray-900"},de={class:"text-sm text-gray-600 mt-1"},ce=["onClick","disabled"],ue={class:"mb-10"},fe={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},ge={class:"flex-shrink-0"},pe={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-50 text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-colors"},me={class:"flex-shrink-0"},xe={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-indigo-50 text-indigo-600 group-hover:bg-indigo-600 group-hover:text-white transition-colors"},be={class:"flex-shrink-0"},he={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-green-50 text-green-600 group-hover:bg-green-600 group-hover:text-white transition-colors"},ve={key:1,class:"sm:flex items-center gap-4 mb-5 hidden"},we={key:2,class:"relative grid grid-cols-1 gap-y-4 sm:grid-cols-2 lg:grid-cols-3 sm:gap-x-4 sm:gap-y-6",role:"list"},ye={key:4,class:"h-full flex flex-col items-center justify-center"},_e={key:0,class:"fixed bottom-20 right-5 sm:hidden"},Ce={class:"flex items-center justify-center h-14 w-14 rounded-full bg-black text-white shadow-lg hover:bg-blue-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600"},ke=["src"],Ie={__name:"index",async setup(b){let u,g;const r=R().params.wallet,{data:s,pending:v,refresh:M,error:Fe}=([u,g]=G(()=>P(`/wallet-api/wallet/${r}/credentials?showDeleted=false&showPending=false`,{dedupe:"defer"},"$N2s-0lSB2s")),u=await u,g(),u),B=O(()=>s.value?s.value.find(i=>{try{const t=typeof i.document=="string"?JSON.parse(i.document):i.document;return t?.vc?.type?.includes("GenericID")||t?.type?.includes("GenericID")}catch{return!1}}):null),p=C([]),m=C(null);let w=null;const k=async()=>{try{const i=await $fetch("/wallet-api/credentials/pending-offers",{credentials:"include"});p.value=i.offers||[]}catch(i){console.error("Failed to fetch pending offers:",i)}},H=async i=>{try{m.value=i.id,await $fetch("/wallet-api/credentials/accept-offer",{method:"POST",credentials:"include",body:{offerUri:i.offerUri}}),await M(),p.value=p.value.filter(t=>t.id!==i.id)}catch(t){console.error("Failed to accept offer:",t),alert("Failed to accept credential: "+t.message)}finally{m.value=null}};return S(()=>{k(),w=se(k,3e4)}),z(()=>{w&&clearInterval(w)}),(i,t)=>{const f=V,E=Z("LoadingIndicator");return n(),a(y,null,[e("div",le,[e("div",oe,[p.value&&p.value.length>0?(n(),a("div",ie,[t[1]||(t[1]=e("h2",{class:"text-2xl font-bold text-black mb-4"},"Available Credentials",-1)),e("div",ne,[(n(!0),a(y,null,F(p.value,d=>(n(),a("div",{key:d.id,class:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 shadow-lg border-2 border-blue-200"},[e("div",re,[e("div",null,[e("h3",ae,_(d.credentialType),1),e("p",de,_(d.issuerName),1)]),t[0]||(t[0]=e("span",{class:"inline-flex items-center rounded-full bg-blue-100 px-3 py-1 text-xs font-medium text-blue-700"}," New ",-1))]),e("button",{onClick:I=>H(d),disabled:m.value===d.id,class:"w-full mt-4 px-4 py-2 text-white bg-[#01337D] rounded-lg shadow hover:bg-[#002159] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#002159] disabled:opacity-50 disabled:cursor-not-allowed"},_(m.value===d.id?"Accepting...":"Accept Credential"),9,ce)]))),128))])])):x("",!0),o(ee,{walletId:l(r),credentialId:B.value?.id},null,8,["walletId","credentialId"]),e("div",ue,[t[5]||(t[5]=e("h2",{class:"text-xl font-bold text-gray-900 mb-4"},"Quick Access",-1)),e("div",fe,[o(f,{to:`/wallet/${l(r)}/scan`,class:"group relative flex items-center space-x-3 rounded-2xl border border-gray-300 bg-white px-6 py-5 shadow-sm focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2 hover:border-blue-400 transition-all"},{default:c(()=>[e("div",ge,[e("div",pe,[o(l(U),{class:"h-6 w-6","aria-hidden":"true"})])]),t[2]||(t[2]=e("div",{class:"min-w-0 flex-1"},[e("span",{class:"absolute inset-0","aria-hidden":"true"}),e("p",{class:"text-sm font-semibold text-gray-900"},"Scan QR Code"),e("p",{class:"truncate text-xs text-gray-500"},"Receive or present VCs")],-1))]),_:1},8,["to"]),o(f,{to:`/wallet/${l(r)}/settings/issuers`,class:"group relative flex items-center space-x-3 rounded-2xl border border-gray-300 bg-white px-6 py-5 shadow-sm focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2 hover:border-blue-400 transition-all"},{default:c(()=>[e("div",me,[e("div",xe,[o(l(Y),{class:"h-6 w-6","aria-hidden":"true"})])]),t[3]||(t[3]=e("div",{class:"min-w-0 flex-1"},[e("span",{class:"absolute inset-0","aria-hidden":"true"}),e("p",{class:"text-sm font-semibold text-gray-900"},"Request VC"),e("p",{class:"truncate text-xs text-gray-500"},"From trusted issuers")],-1))]),_:1},8,["to"]),o(f,{to:"/demo/finance-portal",class:"group relative flex items-center space-x-3 rounded-2xl border border-gray-300 bg-white px-6 py-5 shadow-sm focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2 hover:border-blue-400 transition-all"},{default:c(()=>[e("div",be,[e("div",he,[o(l(Q),{class:"h-6 w-6","aria-hidden":"true"})])]),t[4]||(t[4]=e("div",{class:"min-w-0 flex-1"},[e("span",{class:"absolute inset-0","aria-hidden":"true"}),e("p",{class:"text-sm font-semibold text-gray-900"},"Finance Portal"),e("p",{class:"truncate text-xs text-gray-500"},"E-commerce checkout")],-1))]),_:1})])]),l(s)&&l(s).length>0?(n(),a("div",ve,[t[8]||(t[8]=e("h1",{class:"text-3xl font-bold text-black"},"Credentials",-1)),o(f,{to:`/wallet/${l(r)}/scan`},{default:c(()=>[...t[6]||(t[6]=[e("button",{class:"rounded-full px-6 py-1 text-white bg-[#01337D] shadow-lg hover:bg-[#002159] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#002159]"}," Present ",-1)])]),_:1},8,["to"]),o(f,{to:`/wallet/${l(r)}/scan`},{default:c(()=>[...t[7]||(t[7]=[e("button",{class:"rounded-full px-6 py-1 text-white bg-[#01337D] shadow-lg hover:bg-[#002159] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#002159]"}," Receive ",-1)])]),_:1},8,["to"])])):x("",!0),l(s)&&l(s).length>0?(n(),a("ul",we,[(n(!0),a(y,null,F(l(s),(d,I)=>(n(),a("li",{key:d.id,class:T([{"mt-[-85px] sm:mt-0":I!==0},"col-span-1 divide-y divide-gray-200 rounded-2xl bg-white shadow transform hover:scale-105 cursor-pointer duration-200"])},[o(f,{to:`/wallet/${l(r)}/credentials/`+encodeURIComponent(d.id)},{default:c(()=>[o(N,{credential:d},null,8,["credential"])]),_:2},1032,["to"])],2))),128))])):l(v)?(n(),A(E,{key:3},{default:c(()=>[...t[9]||(t[9]=[j("Loading credentials...",-1)])]),_:1})):(n(),a("div",ye,[t[11]||(t[11]=e("p",{class:"mt-2 text-md text-black"}," You don't have any credentials yet! ",-1)),o(f,{to:`/wallet/${l(r)}/scan`},{default:c(()=>[...t[10]||(t[10]=[e("button",{class:"mt-8 px-4 py-2 text-white bg-[#01337D] rounded-lg shadow-lg hover:bg-[#002159] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#002159]"}," Receive Credential ",-1)])]),_:1},8,["to"])]))])]),l(s)&&l(s).length>0?(n(),a("div",_e,[o(f,{to:`/wallet/${l(r)}/scan`},{default:c(()=>[e("button",Ce,[e("img",{src:l(te),alt:"Scan QR code",class:"h-6 w-6"},null,8,ke)])]),_:1},8,["to"])])):x("",!0)],64)}}},He=D(Ie,[["__scopeId","data-v-0118b8a9"]]);export{He as default};
