import{_ as O}from"./FsQop50g.js";import{i as G,j as m,k as W,f as H,l as Y,s as $,m as J,p as S,q as X,u as Z,c as y,o as _,a as e,b as l,h as o,d,t as C,w as n,v as D,x as g,y as p,z as b,A as U,B as V,e as j,n as I,_ as K}from"#entry";import{_ as N}from"./dEyoA6Mq.js";import{u as Q,a as ee}from"./eowDyVTy.js";import{l as te,s as se}from"./C7YCVWHz.js";import{u as oe}from"./BPax6AzT.js";import{r as le,u as re}from"./BTroftuC.js";import{Y as ae,h as B,G as ie,r as ne,V as de,S as ce}from"./Bp5O_a6P.js";import"./CsW77IRk.js";import"./Dzjxe8OV.js";const ue={class:"min-h-full sm:bg-[url('/images/background.png')] bg-cover bg-center bg-no-repeat"},me={class:"flex flex-col sm:hidden"},fe={class:"w-full"},xe=["src"],ge={class:"flex flex-1 flex-col justify-center px-4 py-12 sm:px-6 lg:flex-none lg:px-20 xl:px-24 lg:bg-white lg:bg-opacity-50 h-full"},pe={class:"mx-auto w-full max-w-sm lg:w-96 p-3 lg:backdrop-blur-md lg:rounded-3xl lg:bg-opacity-40"},be={class:"mt-2 text-sm text-black text-center"},ve={class:"mt-5"},we={class:"mt-6"},he={class:"mt-1"},ye={class:"space-y-1"},_e={class:"mt-1"},Ce={class:"flex flex-col gap-1.5"},ke={key:0,class:"animate-spin ml-1.5 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Fe={class:"hidden sm:flex h-full"},Ee={class:"flex-1 flex flex-col justify-center items-center"},Ae={class:"rounded-3xl p-8 w-96 border border-white/30 shadow-2xl",style:{background:"linear-gradient(145deg, rgba(255,255,255,0.92), rgba(208,230,243,0.85))","backdrop-filter":"blur(20px) saturate(180%)"}},Se={class:"flex flex-col items-center"},De={class:"mt-2 text-sm text-[#627D98]"},Ue={class:"mt-5"},Ve={class:"mt-6"},je={class:"mt-1"},Ie={class:"space-y-1"},Ne={class:"mt-1"},Be={class:"flex flex-col gap-1.5"},Le={key:0,class:"animate-spin ml-1.5 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},ze={class:"fixed inset-0 z-[1001] overflow-y-auto"},Pe={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Re={class:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block"},Te={class:"sm:flex sm:items-start"},Me={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},qe={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},Oe={class:"mt-2"},Ge={class:"text-sm text-[#627D98]"},We=G({__name:"login",async setup(He){let f,k;const L=m("/"),v=W();v.redirectedFrom!=null&&(console.log(`Redirected from: ${JSON.stringify(v.redirectedFrom)}`),L.value=v.redirectedFrom.fullPath);const z=([f,k]=H(()=>Y().value),f=await f,k(),f),{logoImage:P}=z,R=oe(),{user:T}=$(R);let r="",a="";const u=m(!1),x=m({isError:!1,message:""}),w=m(!1),{status:Ye,data:$e,signIn:M}=J();async function F(){u.value=!0;const{success:A,error:t}=re();await M({username:r,password:a},{redirect:!1}).then(async i=>{const s=(await te())?.value?.wallets;T.value={id:"",email:void 0},w.value=!0,u.value=!1,A("Login successful! Welcome back."),s&&(se(s[0].id),i?.credentialOfferUri?(console.log("Redirecting to issuance with offer:",i.credentialOfferUri),I(`/wallet/${s[0].id}/exchange/issuance?request=${encodeURIComponent(i.credentialOfferUri)}`)):I(`/wallet/${s[0].id}`))}).catch(i=>{console.log("Could not sign in",i);const s="Please check that you have entered your correct username and password!";x.value={isError:!0,message:s},t(s),u.value=!1})}function h(){x.value={isError:!1,message:""}}const q=m(null),c=S(Q(q)),E=S(ee());return X(()=>({overflow:"hidden",transition:".5s ease-out all",transform:`rotateX(${c.source=="mouse"&&(E.value||c.roll==.5)?0:c.roll*60}deg) rotateY(
    ${c.source=="mouse"&&(E.value||c.tilt==-.5)?0:c.tilt*60}deg)`})),Z({title:"Login to your wallet - Credentis"}),(A,t)=>{const i=O;return _(),y("div",ue,[e("div",me,[e("div",fe,[e("img",{src:o(P),alt:"Credentis logo",class:"h-8 w-auto mx-auto mt-5"},null,8,xe)]),e("div",ge,[e("div",pe,[e("div",null,[t[6]||(t[6]=e("h2",{class:"mt-4 text-3xl font-bold tracking-tight text-black text-center"}," Sign In ",-1)),e("p",be,[t[5]||(t[5]=d(" No Account yet? "+C(" ")+" ",-1)),l(i,{class:"font-medium text-blue-600 hover:text-blue-500",to:"/signup"},{default:n(()=>[...t[4]||(t[4]=[d("Sign up here ",-1)])]),_:1})])]),e("div",ve,[e("div",we,[e("form",{class:"space-y-6",onSubmit:D(F,["prevent"])},[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium leading-6 text-[#52606D]",for:"username"},[e("span",{class:"flex flex-row items-center"}," Username ")],-1)),e("div",he,[g(e("input",{id:"username-mobile","onUpdate:modelValue":t[0]||(t[0]=s=>b(r)?r.value=s:r=s),autocomplete:"username",autofocus:"",class:"block w-full rounded-md border-0 py-1.5 shadow-sm ring-1 ring-inset ring-[#D0E6F3] placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-[#2188CA] sm:text-sm sm:leading-6 px-2 text-gray-600",name:"username",required:!0,type:"text"},null,512),[[p,o(r)]])])]),e("div",ye,[e("div",null,[t[8]||(t[8]=e("div",{class:"flex justify-between items-center"},[e("label",{class:"block text-sm font-medium leading-6 text-[#3E4C59]",for:"password"},[e("span",{class:"flex flex-row items-center"},"Password")])],-1)),e("div",_e,[g(e("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=s=>b(a)?a.value=s:a=s),autocomplete:"current-password",class:"block w-full rounded-md border-0 py-1.5 shadow-sm ring-1 ring-inset ring-[#D0E6F3] placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-[#2188CA] sm:text-sm sm:leading-6 px-2 text-gray-600",name:"password",required:!0,type:"password"},null,512),[[p,o(a)]])])])]),e("div",Ce,[e("button",{class:U([[o(w)?"bg-green-500 hover:bg-green-600 animate-bounce":"bg-gradient-to-br from-[#2188CA] to-[#0F3F5E] hover:from-[#6FB4DC] hover:to-[#2188CA]"],"flex w-full justify-center rounded-xl px-3 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600"]),type:"submit"},[t[10]||(t[10]=d(" Sign in ",-1)),o(u)?(_(),y("svg",ke,[...t[9]||(t[9]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"},null,-1)])])):V("",!0)],2)])],32)])])])])]),e("div",Fe,[e("div",Ee,[t[19]||(t[19]=j('<div class="flex items-center mb-8 gap-3 justify-center" data-v-b01923dc><img src="'+N+'" alt="Credentis" class="h-12 w-12" data-v-b01923dc><div class="flex flex-col" data-v-b01923dc><h1 class="bg-gradient-to-r from-[#2188CA] to-[#0F3F5E] inline-block text-transparent bg-clip-text text-xl font-bold" data-v-b01923dc> CREDENTIS WALLET </h1><h1 class="bg-gradient-to-r from-[#2188CA] to-[#6FB4DC] inline-block text-transparent bg-clip-text text-sm" data-v-b01923dc> Verifiable Commerce </h1></div></div>',1)),e("div",Ae,[e("div",Se,[t[13]||(t[13]=e("h2",{class:"mt-4 text-2xl font-bold tracking-tight text-[#0F3F5E]"}," Sign in ",-1)),e("p",De,[t[12]||(t[12]=d(" No Account yet? "+C(" ")+" ",-1)),l(i,{class:"font-medium text-[#2188CA] hover:text-[#0F3F5E]",to:"/signup"},{default:n(()=>[...t[11]||(t[11]=[d("Sign up here ",-1)])]),_:1})])]),e("div",Ue,[e("div",Ve,[e("form",{class:"space-y-6",onSubmit:D(F,["prevent"])},[e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium leading-6 text-[#52606D]",for:"username"},[e("span",{class:"flex flex-row items-center"}," Username ")],-1)),e("div",je,[g(e("input",{id:"username-desktop","onUpdate:modelValue":t[2]||(t[2]=s=>b(r)?r.value=s:r=s),autocomplete:"username",autofocus:"",class:"block w-full rounded-md border-0 py-1.5 shadow-sm ring-1 ring-inset ring-[#D0E6F3] placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-[#2188CA] sm:text-sm sm:leading-6 px-2 text-gray-600",name:"username",required:!0,type:"text"},null,512),[[p,o(r)]])])]),e("div",Ie,[e("div",null,[t[15]||(t[15]=e("div",{class:"flex justify-between items-center"},[e("label",{class:"block text-sm font-medium leading-6 text-[#3E4C59]",for:"password"},[e("span",{class:"flex flex-row items-center"},"Password")])],-1)),e("div",Ne,[g(e("input",{id:"password","onUpdate:modelValue":t[3]||(t[3]=s=>b(a)?a.value=s:a=s),autocomplete:"current-password",class:"block w-full rounded-md border-0 py-1.5 shadow-sm ring-1 ring-inset ring-[#D0E6F3] placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-[#2188CA] sm:text-sm sm:leading-6 px-2 text-gray-600",name:"password",required:!0,type:"password"},null,512),[[p,o(a)]])])])]),e("div",Be,[e("button",{class:U([[o(w)?"bg-green-500 hover:bg-green-600 animate-bounce":"bg-gradient-to-br from-[#2188CA] to-[#0F3F5E] hover:from-[#6FB4DC] hover:to-[#2188CA]"],"flex w-full justify-center rounded-xl px-3 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600"]),type:"submit"},[t[17]||(t[17]=d(" Sign In ",-1)),o(u)?(_(),y("svg",Le,[...t[16]||(t[16]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"},null,-1)])])):V("",!0)],2)])],32),t[18]||(t[18]=e("div",{class:"flex justify-center items-center mt-5 gap-2"},[e("h1",{class:"text-center text-sm text-gray-400"}," Powered by Credentis "),e("img",{src:N,alt:"Credentis",class:"h-4 w-4"})],-1))])])])]),t[20]||(t[20]=j('<div class="flex-1 hidden lg:flex flex-col justify-center items-center" data-v-b01923dc><svg width="103" height="103" viewBox="0 0 103 103" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-b01923dc><circle cx="51.5" cy="51.5" r="51.5" fill="#7CC4FA" data-v-b01923dc></circle><circle cx="51.5" cy="51.5" r="37.5" fill="url(#paint0_linear_1648_5682)" data-v-b01923dc></circle><rect x="34.7695" y="38.2307" width="16.1538" height="4.61538" fill="#E6F6FF" data-v-b01923dc></rect><path d="M74.0003 53.8076L69.9618 53.2307C67.0772 68.8076 50.3465 68.8076 50.3465 68.8076L49.7695 73.423C67.308 73.8846 73.2311 60.5384 74.0003 53.8076Z" fill="#E6F6FF" data-v-b01923dc></path><defs data-v-b01923dc><linearGradient id="paint0_linear_1648_5682" x1="14" y1="15.2136" x2="93.5375" y2="20.4808" gradientUnits="userSpaceOnUse" data-v-b01923dc><stop offset="0.00970874" stop-color="#2188CA" data-v-b01923dc></stop><stop offset="1" stop-color="#0F3F5E" data-v-b01923dc></stop></linearGradient></defs></svg><h1 class="bg-gradient-to-r from-[#2188CA] to-[#0F3F5E] inline-block text-transparent bg-clip-text mt-5 text-5xl" data-v-b01923dc> Powerful identity and </h1><h1 class="bg-gradient-to-r from-[#2188CA] to-[#0F3F5E] inline-block text-transparent bg-clip-text mt-3 text-5xl" data-v-b01923dc> wallet infrastructure. </h1><h1 class="bg-gradient-to-r from-[#2188CA] to-[#0F3F5E] inline-block text-transparent bg-clip-text mt-5 text-2xl" data-v-b01923dc> Trusted by +20.000 dev &amp; organizations </h1></div>',1))]),l(o(ce),{show:o(x).isError===!0,as:"template"},{default:n(()=>[l(o(ae),{as:"div",class:"relative z-[1000]",onClose:h},{default:n(()=>[l(o(B),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[...t[21]||(t[21]=[e("div",{class:"fixed inset-0 transition-opacity",style:{background:"rgba(15, 63, 94, 0.4)","backdrop-filter":"blur(8px)"}},null,-1)])]),_:1}),e("div",ze,[e("div",Pe,[l(o(B),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:n(()=>[l(o(ie),{class:"relative transform overflow-hidden rounded-2xl border border-white/30 px-4 pb-4 pt-5 text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",style:{background:"linear-gradient(145deg, rgba(255,255,255,0.95), rgba(208,230,243,0.90))","backdrop-filter":"blur(20px) saturate(180%)"}},{default:n(()=>[e("div",Re,[e("button",{class:"rounded-md bg-white/80 text-[#627D98] hover:text-[#0F3F5E] focus:outline-none focus:ring-2 focus:ring-[#2188CA] focus:ring-offset-2",type:"button",onClick:h},[t[22]||(t[22]=e("span",{class:"sr-only"},"Close",-1)),l(o(ne),{"aria-hidden":"true",class:"h-6 w-6"})])]),e("div",Te,[e("div",Me,[l(o(le),{"aria-hidden":"true",class:"h-6 w-6 text-red-600"})]),e("div",qe,[l(o(de),{as:"h3",class:"text-base font-semibold leading-6 text-[#0F3F5E]"},{default:n(()=>[...t[23]||(t[23]=[d(" Invalid login ",-1)])]),_:1}),e("div",Oe,[e("p",Ge,C(o(x).message),1)])])]),e("div",{class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"},[e("button",{class:"mt-3 inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-[#D0E6F3] sm:mt-0 sm:w-auto",style:{background:"linear-gradient(135deg, #2188CA, #0F3F5E)"},type:"button",onClick:h}," Okay ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}}}),rt=K(We,[["__scopeId","data-v-b01923dc"]]);export{rt as default};
