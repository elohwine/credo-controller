âœ… Persistence initialized
[90m2026-02-01 13:56:20.760  [39m[1m[93mWARN[39m[22m [90m[credo-controller-service   TenantsModule.register][39m The '@credo-ts/tenants' module is experimental and could have unexpected breaking changes. When using this module, make sure to use strict versions for all @credo-ts packages. 
[90m2026-02-01 13:56:20.766  [39m[1m[93mWARN[39m[22m [90m[credo-controller-service   OpenId4VcIssuerModule.register][39m The '@credo-ts/openid4vc' Issuer module is experimental and could have unexpected breaking changes. When using this module, make sure to use strict versions for all @credo-ts packages. 
[90m2026-02-01 13:56:20.769  [39m[1m[93mWARN[39m[22m [90m[credo-controller-service   OpenId4VcVerifierModule.register][39m The '@credo-ts/openid4vc' Verifier module is experimental and could have unexpected breaking changes. When using this module, make sure to use strict versions for all @credo-ts packages. 
[90m2026-02-01 13:56:20.770  [39m[1m[93mWARN[39m[22m [90m[credo-controller-service   OpenId4VcHolderModule.register][39m The '@credo-ts/openid4vc' Holder module is experimental and could have unexpected breaking changes. When using this module, make sure to use strict versions for all @credo-ts packages. 
[90m2026-02-01 13:56:20.776  [39m[1m[93mWARN[39m[22m [90m[credo-controller-service   DifPresentationExchangeModule.register][39m The 'DifPresentationExchangeModule' module is experimental and could have unexpected breaking changes. When using this module, make sure to use strict versions for all @credo-ts packages. 
[90m2026-02-01 13:56:20.777  [39m[1m[93mWARN[39m[22m [90m[credo-controller-service   SdJwtVcModule.register][39m The 'SdJwtVc' module is experimental and could have unexpected breaking changes. When using this module, make sure to use strict versions for all @credo-ts packages. 
[90m2026-02-01 13:56:20.778  [39m[1m[93mWARN[39m[22m [90m[credo-controller-service   X509Module.register][39m The 'X509' module is experimental and could have unexpected breaking changes. When using this module, make sure to use strict versions for all @credo-ts packages. 
[90m2026-02-01 13:56:20.779  [39m[1m[93mWARN[39m[22m [90m[credo-controller-service   MdocModule.register][39m The 'Mdoc' module is experimental and could have unexpected breaking changes. When using this module, make sure to use strict versions for all @credo-ts packages. 
[90m2026-02-01 13:56:20.781  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   undefined.constructor][39m Creating agent with config 
{
  [37magentConfig[39m: {
    [37mwalletConfig[39m: {
      [37mid[39m: [31m'shared-controller-agent'[39m,
      [37mkey[39m: [31m'[*****]'[39m,
      [37mstorage[39m: {
        [37mcredentials[39m: [31mundefined[39m
      }
    },
    [37mlabel[39m: [31m'Multi-Tenant Test Agent'[39m,
    [37mendpoints[39m: [
      [31m'http://127.0.0.1:3001'[39m
    ],
    [37mlogger[39m: [32m3[39m,
    [37mautoUpdateStorageOnStartup[39m: [33mtrue[39m,
    [37mbackupBeforeStorageUpdate[39m: [33mfalse[39m,
    [37magentDependencies[39m: [33mtrue[39m
  }
}
[90m2026-02-01 13:56:20.800  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   WalletApi.initialize][39m Initializing wallet 'shared-controller-agent' 
{
  [37mid[39m: [31m'shared-controller-agent'[39m,
  [37mkey[39m: [31m'[*****]'[39m,
  [37mstorage[39m: {
    [37mcredentials[39m: [31mundefined[39m
  }
}
[2026-02-01 15:56:20.574 +0200] [32mINFO[39m: [36mRegistered action: finance.calculate_invoice[39m
    service: "credo-controller"
    module: "ActionRegistry"
[2026-02-01 15:56:20.574 +0200] [32mINFO[39m: [36mRegistered action: credential.issue[39m
    service: "credo-controller"
    module: "ActionRegistry"
[2026-02-01 15:56:20.574 +0200] [32mINFO[39m: [36mRegistered action: external.fetch[39m
    service: "credo-controller"
    module: "ActionRegistry"
[2026-02-01 15:56:20.574 +0200] [32mINFO[39m: [36mRegistered action: external.ecocash_payment[39m
    service: "credo-controller"
    module: "ActionRegistry"
[2026-02-01 15:56:20.574 +0200] [32mINFO[39m: [36mRegistered action: external.call_provider[39m
    service: "credo-controller"
    module: "ActionRegistry"
[2026-02-01 15:56:20.574 +0200] [32mINFO[39m: [36mRegistered action: external.send_notification[39m
    service: "credo-controller"
    module: "ActionRegistry"
[2026-02-01 15:56:20.574 +0200] [32mINFO[39m: [36mRegistered action: trust.update_score[39m
    service: "credo-controller"
    module: "ActionRegistry"
[2026-02-01 15:56:20.574 +0200] [32mINFO[39m: [36mRegistered action: trust.calculate_credit_score[39m
    service: "credo-controller"
    module: "ActionRegistry"
[2026-02-01 15:56:20.574 +0200] [32mINFO[39m: [36mRegistered action: trust.get_score[39m
    service: "credo-controller"
    module: "ActionRegistry"
[2026-02-01 15:56:20.574 +0200] [32mINFO[39m: [36mRegistered action: consent.capture[39m
    service: "credo-controller"
    module: "ActionRegistry"
[2026-02-01 15:56:20.574 +0200] [32mINFO[39m: [36mRegistered action: consent.verify[39m
    service: "credo-controller"
    module: "ActionRegistry"
[2026-02-01 15:56:20.574 +0200] [32mINFO[39m: [36mRegistered action: consent.revoke[39m
    service: "credo-controller"
    module: "ActionRegistry"
[2026-02-01 15:56:20.574 +0200] [32mINFO[39m: [36mRegistered action: workflow.trigger[39m
    service: "credo-controller"
    module: "ActionRegistry"
[2026-02-01 15:56:20.748 +0200] [32mINFO[39m: [36mDatabase initialized at: ./data/issuer.db[39m
    service: "credo-controller"
    module: "DatabaseManager"
[2026-02-01 15:56:20.748 +0200] [32mINFO[39m: [36mCurrent database version: 4[39m
    service: "credo-controller"
    module: "DatabaseManager"
[2026-02-01 15:56:20.748 +0200] [32mINFO[39m: [36mApplying migration 5: create_catalog_items[39m
    service: "credo-controller"
    module: "DatabaseManager"
[2026-02-01 15:56:20.749 +0200] [32mINFO[39m: [36mMigration 5 applied successfully[39m
    service: "credo-controller"
    module: "DatabaseManager"
[2026-02-01 15:56:20.750 +0200] [32mINFO[39m: [36mApplying migration 6: create_carts[39m
    service: "credo-controller"
    module: "DatabaseManager"
[2026-02-01 15:56:20.750 +0200] [32mINFO[39m: [36mMigration 6 applied successfully[39m
    service: "credo-controller"
    module: "DatabaseManager"
[2026-02-01 15:56:20.750 +0200] [32mINFO[39m: [36mApplying migration 7: create_trust_tables[39m
    service: "credo-controller"
    module: "DatabaseManager"
[2026-02-01 15:56:20.750 +0200] [32mINFO[39m: [36mMigration 7 applied successfully[39m
    service: "credo-controller"
    module: "DatabaseManager"
[2026-02-01 15:56:20.750 +0200] [32mINFO[39m: [36mApplying migration 8: create_escalations[39m
    service: "credo-controller"
    module: "DatabaseManager"
[2026-02-01 15:56:20.750 +0200] [32mINFO[39m: [36mMigration 8 applied successfully[39m
    service: "credo-controller"
    module: "DatabaseManager"
[2026-02-01 15:56:20.750 +0200] [32mINFO[39m: [36mApplying migration 9: create_payroll[39m
    service: "credo-controller"
    module: "DatabaseManager"
[2026-02-01 15:56:20.750 +0200] [32mINFO[39m: [36mMigration 9 applied successfully[39m
    service: "credo-controller"
    module: "DatabaseManager"
[2026-02-01 15:56:20.750 +0200] [32mINFO[39m: [36mApplying migration 10: create_onboarding[39m
    service: "credo-controller"
    module: "DatabaseManager"
[2026-02-01 15:56:20.750 +0200] [32mINFO[39m: [36mMigration 10 applied successfully[39m
    service: "credo-controller"
    module: "DatabaseManager"
[2026-02-01 15:56:20.750 +0200] [32mINFO[39m: [36mApplying migration 11: create_audit_logs[39m
    service: "credo-controller"
    module: "DatabaseManager"
[2026-02-01 15:56:20.750 +0200] [32mINFO[39m: [36mMigration 11 applied successfully[39m
    service: "credo-controller"
    module: "DatabaseManager"
[2026-02-01 15:56:20.750 +0200] [32mINFO[39m: [36mApplying migration 12: create_operations[39m
    service: "credo-controller"
    module: "DatabaseManager"
[2026-02-01 15:56:20.750 +0200] [32mINFO[39m: [36mMigration 12 applied successfully[39m
    service: "credo-controller"
    module: "DatabaseManager"
[2026-02-01 15:56:20.750 +0200] [32mINFO[39m: [36mAll migrations applied successfully[39m
    service: "credo-controller"
    module: "DatabaseManager"
[2026-02-01 15:56:20.760 +0200] [33mWARN[39m: [36mThe '@credo-ts/tenants' module is experimental and could have unexpected breaking changes. When using this module, make sure to use strict versions for all @credo-ts packages.[39m
    service: "credo-controller"
[2026-02-01 15:56:20.766 +0200] [33mWARN[39m: [36mThe '@credo-ts/openid4vc' Issuer module is experimental and could have unexpected breaking changes. When using this module, make sure to use strict versions for all @credo-ts packages.[39m
    service: "credo-controller"
[2026-02-01 15:56:20.769 +0200] [33mWARN[39m: [36mThe '@credo-ts/openid4vc' Verifier module is experimental and could have unexpected breaking changes. When using this module, make sure to use strict versions for all @credo-ts packages.[39m
    service: "credo-controller"
[2026-02-01 15:56:20.771 +0200] [33mWARN[39m: [36mThe '@credo-ts/openid4vc' Holder module is experimental and could have unexpected breaking changes. When using this module, make sure to use strict versions for all @credo-ts packages.[39m
    service: "credo-controller"
[2026-02-01 15:56:20.776 +0200] [33mWARN[39m: [36mThe 'DifPresentationExchangeModule' module is experimental and could have unexpected breaking changes. When using this module, make sure to use strict versions for all @credo-ts packages.[39m
    service: "credo-controller"
[2026-02-01 15:56:20.777 +0200] [33mWARN[39m: [36mThe 'SdJwtVc' module is experimental and could have unexpected breaking changes. When using this module, make sure to use strict versions for all @credo-ts packages.[39m
    service: "credo-controller"
[2026-02-01 15:56:20.778 +0200] [33mWARN[39m: [36mThe 'X509' module is experimental and could have unexpected breaking changes. When using this module, make sure to use strict versions for all @credo-ts packages.[39m
    service: "credo-controller"
[2026-02-01 15:56:20.779 +0200] [33mWARN[39m: [36mThe 'Mdoc' module is experimental and could have unexpected breaking changes. When using this module, make sure to use strict versions for all @credo-ts packages.[39m
    service: "credo-controller"
[2026-02-01 15:56:20.784 +0200] [32mINFO[39m: [36mCreating agent with config[39m
    service: "credo-controller"
    agentConfig: {
      "walletConfig": {
        "id": "shared-controller-agent",
        "key": "[*****]",
        "storage": {}
      },
      "label": "Multi-Tenant Test Agent",
      "endpoints": [
        "http://127.0.0.1:3001"
      ],
      "logger": 3,
      "autoUpdateStorageOnStartup": true,
      "backupBeforeStorageUpdate": false,
      "agentDependencies": true
    }
[2026-02-01 15:56:20.791 +0200] [34mDEBUG[39m: [36mListening for routing key created events in tenant agent context provider[39m
    service: "credo-controller"
[2026-02-01 15:56:20.802 +0200] [32mINFO[39m: [36mInitializing wallet 'shared-controller-agent'[39m
    service: "credo-controller"
    id: "shared-controller-agent"
    key: "[*****]"
    storage: {}
[90m2026-02-01 13:56:21.524  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   initialize][39m Agent storage is up to date. 
âœ… Agent initialized
â„¹ï¸ Advertising 7 types: GenericIDCredential, CartSnapshotVC, InvoiceVC, ReceiptVC, EmploymentContractVC, QuoteVC, ApprovalVC
â„¹ï¸ Reusing existing issuer: default-platform-issuer (found 1 total)
âœ… OpenID4VC Issuer metadata updated: default-platform-issuer
[IssuerMetadataCache] Cached metadata for http://127.0.0.1:3000
âœ… Cached Metadata for Root Issuer: http://localhost:3000/oidc/issuer/default-platform-issuer
Starting ngrok tunnel on port 3000...
[2026-02-01 15:56:21.518 +0200] [34mDEBUG[39m: [36mWallet 'shared-controller-agent' opened with handle '1'[39m
    service: "credo-controller"
[2026-02-01 15:56:21.524 +0200] [32mINFO[39m: [36mAgent storage is up to date.[39m
    service: "credo-controller"
[2026-02-01 15:56:21.530 +0200] [34mDEBUG[39m: [36mStarting HTTP inbound transport[39m
    service: "credo-controller"
    port: 3001
[2026-02-01 15:56:21.532 +0200] [34mDEBUG[39m: [36mStarting HTTP outbound transport[39m
    service: "credo-controller"
[2026-02-01 15:56:21.533 +0200] [34mDEBUG[39m: [36mMediator routing record not loaded yet, retrieving from storage[39m
    service: "credo-controller"
Failed to start ngrok tunnel: failed to start tunnel
[90m2026-02-01 13:56:22.786  [39m[1m[93mWARN[39m[22m [90m[credo-controller-service src/server.ts:54  setupServer][39m Ngrok failed to start: failed to start tunnel 
[90m2026-02-01 13:56:22.788  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/server.ts:62  setupServer][39m Persistence initialized at ./data/issuer.db 
[90m2026-02-01 13:56:22.792  [39m[1m[93mWARN[39m[22m [90m[credo-controller-service src/server.ts:78  setupServer][39m TriggerService initialization failed: no such table: workflow_triggers 
[90m2026-02-01 13:56:22.802  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/server.ts:82  setupServer][39m OpenTelemetry SDK started 
[90m2026-02-01 13:56:22.804  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/server.ts:164  setupServer][39m Setting API key: test-api-key-12345 
[90m2026-02-01 13:56:22.824  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/server.ts:260  setupServer][39m Mounting OpenID4VC Issuer routes at /oidc/issuer 
[90m2026-02-01 13:56:22.825  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/server.ts:302  setupServer][39m Mounting OpenID4VC Verifier routes at /oidc/verifier 
ðŸš€ Server running on http://localhost:3000
ðŸ”Œ Inbound transport on http://localhost:3001
[2026-02-01 15:56:22.787 +0200] [33mWARN[39m: [36mNgrok failed to start: failed to start tunnel[39m
    service: "credo-controller"
[2026-02-01 15:56:22.790 +0200] [32mINFO[39m: [36mPersistence initialized at ./data/issuer.db[39m
    service: "credo-controller"
[2026-02-01 15:56:22.791 +0200] [32mINFO[39m: [36mInitializing TriggerService[39m
    service: "credo-controller"
    module: "TriggerService"
[2026-02-01 15:56:22.792 +0200] [33mWARN[39m: [36mTriggerService initialization failed: no such table: workflow_triggers[39m
    service: "credo-controller"
[2026-02-01 15:56:22.802 +0200] [32mINFO[39m: [36mOpenTelemetry SDK started[39m
    service: "credo-controller"
[2026-02-01 15:56:22.804 +0200] [32mINFO[39m: [36mSetting API key: test-api-key-12345[39m
    service: "credo-controller"
[2026-02-01 15:56:22.825 +0200] [32mINFO[39m: [36mMounting OpenID4VC Issuer routes at /oidc/issuer[39m
    service: "credo-controller"
[2026-02-01 15:56:22.825 +0200] [32mINFO[39m: [36mMounting OpenID4VC Verifier routes at /oidc/verifier[39m
    service: "credo-controller"
{"stack":"Error: connect ECONNREFUSED 127.0.0.1:4318\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)\n    at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)","message":"connect ECONNREFUSED 127.0.0.1:4318","errno":"-111","code":"ECONNREFUSED","syscall":"connect","address":"127.0.0.1","port":"4318","name":"Error","toJSON":"function () {\n                    return Object.getOwnPropertyNames(this).reduce((alt, key) => {\n                        alt[key] = this[key];\n                        return alt;\n                    }, {});\n                }"}
[90m2026-02-01 13:56:31.869  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   WalletApi.initialize][39m Initializing wallet 'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834' 
{
  [37mstorage[39m: {
    [37mtype[39m: [31m'sqlite'[39m,
    [37mcredentials[39m: [31mundefined[39m
  },
  [37mid[39m: [31m'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m,
  [37mkey[39m: [31m'[*****]'[39m,
  [37mkeyDerivationMethod[39m: [31m'RAW'[39m
}
[90m2026-02-01 13:56:31.894  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   undefined.constructor][39m Creating agent with config 
{
  [37magentConfig[39m: {
    [37mwalletConfig[39m: {
      [37mstorage[39m: {
        [37mtype[39m: [31m'sqlite'[39m,
        [37mcredentials[39m: [31mundefined[39m
      },
      [37mid[39m: [31m'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m,
      [37mkey[39m: [31m'[*****]'[39m,
      [37mkeyDerivationMethod[39m: [31m'RAW'[39m
    },
    [37mlabel[39m: [31m'push_test_bfd7b610'[39m,
    [37mendpoints[39m: [
      [31m'http://127.0.0.1:3001'[39m
    ],
    [37mlogger[39m: [32m3[39m,
    [37mautoUpdateStorageOnStartup[39m: [33mtrue[39m,
    [37mbackupBeforeStorageUpdate[39m: [33mfalse[39m,
    [37mtenantType[39m: [31m'USER'[39m,
    [37magentDependencies[39m: [33mtrue[39m
  }
}
[90m2026-02-01 13:56:31.898  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   initialize][39m Agent storage is up to date. 
[90m2026-02-01 13:56:31.902  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   TenantsApi.createTenant][39m Successfully created tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834' 
[90m2026-02-01 13:56:31.905  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   WalletApi.initialize][39m Initializing wallet 'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834' 
{
  [37mstorage[39m: {
    [37mtype[39m: [31m'sqlite'[39m,
    [37mcredentials[39m: [31mundefined[39m
  },
  [37mid[39m: [31m'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m,
  [37mkey[39m: [31m'[*****]'[39m,
  [37mkeyDerivationMethod[39m: [31m'RAW'[39m
}
[90m2026-02-01 13:56:31.909  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   undefined.constructor][39m Creating agent with config 
{
  [37magentConfig[39m: {
    [37mwalletConfig[39m: {
      [37mstorage[39m: {
        [37mtype[39m: [31m'sqlite'[39m,
        [37mcredentials[39m: [31mundefined[39m
      },
      [37mid[39m: [31m'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m,
      [37mkey[39m: [31m'[*****]'[39m,
      [37mkeyDerivationMethod[39m: [31m'RAW'[39m
    },
    [37mlabel[39m: [31m'push_test_bfd7b610'[39m,
    [37mendpoints[39m: [
      [31m'http://127.0.0.1:3001'[39m
    ],
    [37mlogger[39m: [32m3[39m,
    [37mautoUpdateStorageOnStartup[39m: [33mtrue[39m,
    [37mbackupBeforeStorageUpdate[39m: [33mfalse[39m,
    [37mtenantType[39m: [31m'USER'[39m,
    [37magentDependencies[39m: [33mtrue[39m
  }
}
[90m2026-02-01 13:56:31.914  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   initialize][39m Agent storage is up to date. 
[Provisioning] Tenant adc188bb-e6a0-404c-bab6-ae6c1fc1b834 type: USER
[Provisioning] Created Holder DID: did:key:z6MkoVPMEkGGyN1toBSmVGJ3fUmncFQkJdRHD7QSxgTi2ajK
[LOGIN] ===== START LOGIN FLOW =====
[LOGIN] User authenticated: {
  userId: 'f8177585-86eb-4600-a563-29d8b5f1ac7e',
  walletId: 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834'
}
[LOGIN] JWT token generated
[LOGIN] Getting tenant agent for: adc188bb-e6a0-404c-bab6-ae6c1fc1b834
[90m2026-02-01 13:56:31.987  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   WalletApi.initialize][39m Initializing wallet 'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834' 
{
  [37mstorage[39m: {
    [37mtype[39m: [31m'sqlite'[39m,
    [37mcredentials[39m: [31mundefined[39m
  },
  [37mid[39m: [31m'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m,
  [37mkey[39m: [31m'[*****]'[39m,
  [37mkeyDerivationMethod[39m: [31m'RAW'[39m
}
[90m2026-02-01 13:56:32.079  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   undefined.constructor][39m Creating agent with config 
{
  [37magentConfig[39m: {
    [37mwalletConfig[39m: {
      [37mstorage[39m: {
        [37mtype[39m: [31m'sqlite'[39m,
        [37mcredentials[39m: [31mundefined[39m
      },
      [37mid[39m: [31m'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m,
      [37mkey[39m: [31m'[*****]'[39m,
      [37mkeyDerivationMethod[39m: [31m'RAW'[39m
    },
    [37mlabel[39m: [31m'push_test_bfd7b610'[39m,
    [37mendpoints[39m: [
      [31m'http://127.0.0.1:3001'[39m
    ],
    [37mlogger[39m: [32m3[39m,
    [37mautoUpdateStorageOnStartup[39m: [33mtrue[39m,
    [37mbackupBeforeStorageUpdate[39m: [33mfalse[39m,
    [37mtenantType[39m: [31m'USER'[39m,
    [37magentDependencies[39m: [33mtrue[39m
  }
}
[90m2026-02-01 13:56:32.082  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   initialize][39m Agent storage is up to date. 
[LOGIN] Tenant agent retrieved
[LOGIN] Checking Askar for existing GenericID credentials
[LOGIN] Fetched credentials from Askar, count: 0
[LOGIN] GenericID check result - hasGeneric: false
[90m2026-02-01 13:56:32.094  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:66  expressAuthentication][39m securityName::: apiKey 
[90m2026-02-01 13:56:32.094  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:67  expressAuthentication][39m scopes:::  
[90m2026-02-01 13:56:32.095  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:84  expressAuthentication][39m Provided API key: test-api-key-12345 
[90m2026-02-01 13:56:32.095  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:85  expressAuthentication][39m Expected API key: test-api-key-12345 
[90m2026-02-01 13:56:32.095  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:66  expressAuthentication][39m securityName::: jwt 
[90m2026-02-01 13:56:32.096  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:67  expressAuthentication][39m scopes::: tenant 
[CredDefStore] Looking up credential definition - original: "GenericIDCredential", base: "GenericIDCredential"
[CredDefStore] No credential definition found for: "GenericIDCredential" (base: "GenericIDCredential")
[OidcIssuerController] Extracted claims: {}
2026-02-01T13:56:32.118Z-(sphereon:events) Emitting 'OID4VCI_OFFER_CREATED' event, {
  eventName: 'OID4VCI_OFFER_CREATED',
  id: 'b920c682-2150-4a7c-bacd-5f75ee7b700b',
  data: 'openid-credential-offer://?credential_offer_uri=http%3A%2F%2Flocalhost%3A3000%2Foidc%2Fissuer%2Fdefault-platform-issuer%2Foffers%2Fc77a1b63-fdb1-447b-a9b8-71ce5f9c5b5b',
  initiator: '<unknown>',
  initiatorType: 'external',
  system: 'oid4vci',
  subsystem: 'api'
}
[startServer] === CREDENTIAL MAPPER START ===
[startServer] issuanceSession keys: [
  '_tags',
  'type',
  'metadata',
  'issuedCredentials',
  'id',
  'createdAt',
  'issuerId',
  'preAuthorizedCode',
  'credentialOfferUri',
  'credentialOfferPayload',
  'issuanceMetadata',
  'state',
  'updatedAt',
  'cNonce',
  'cNonceExpiresAt'
]
[startServer] metadata: {"claims":{},"credentialDefinitionId":"GenericIDCredential"}
[startServer] extracted claims: {}
[startServer] credentialConfigurationIds: [ 'GenericIDCredential_jwt_vc_json' ]
[startServer] Constructed Credential (Plain): {"@context":["https://www.w3.org/2018/credentials/v1"],"type":["VerifiableCredential","GenericIDCredential"],"issuer":"did:key:z6MkjRb7smtTRekNgsL24sipwyBKrzj5QD1BhqLV3UT4fDNX","issuerId":"did:key:z6MkjRb7smtTRekNgsL24sipwyBKrzj5QD1BhqLV3UT4fDNX","issuanceDate":"2026-02-01T13:56:32.408Z","credentialSubject":{"id":"did:example:unknown"},"credentialSubjectIds":["did:example:unknown"]}
2026-02-01T13:56:32.426Z-(sphereon:events) Emitting 'OID4VCI_CREDENTIAL_ISSUED' event, {
  eventName: 'OID4VCI_CREDENTIAL_ISSUED',
  id: 'b9bcc126-21ca-4ee7-8856-bc7b7c19f88a',
  data: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSIsImtpZCI6ImRpZDprZXk6ejZNa2pSYjdzbXRUUmVrTmdzTDI0c2lwd3lCS3J6ajVRRDFCaHFMVjNVVDRmRE5YI3o2TWtqUmI3c210VFJla05nc0wyNHNpcHd5Qktyemo1UUQxQmhxTFYzVVQ0ZkROWCJ9.eyJ2YyI6eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvMjAxOC9jcmVkZW50aWFscy92MSJdLCJ0eXBlIjpbIlZlcmlmaWFibGVDcmVkZW50aWFsIiwiR2VuZXJpY0lEQ3JlZGVudGlhbCJdLCJpc3N1ZXJJZCI6ImRpZDprZXk6ejZNa2pSYjdzbXRUUmVrTmdzTDI0c2lwd3lCS3J6ajVRRDFCaHFMVjNVVDRmRE5YIiwiY3JlZGVudGlhbFN1YmplY3QiOnt9LCJjcmVkZW50aWFsU3ViamVjdElkcyI6WyJkaWQ6ZXhhbXBsZTp1bmtub3duIl19LCJpc3MiOiJkaWQ6a2V5Ono2TWtqUmI3c210VFJla05nc0wyNHNpcHd5Qktyemo1UUQxQmhxTFYzVVQ0ZkROWCIsInN1YiI6ImRpZDpleGFtcGxlOnVua25vd24iLCJuYmYiOjE3Njk5NTQxOTJ9.HiYsHHRK8Is81NpJMpuCE3qAkojfzb3Q2jUQQtVPVFP98VjqGeb0ykSCrtO3y2JZkt9Tn1yKfK0k92NiSxE7Cw',
  initiator: 'did:key:z6MkjRb7smtTRekNgsL24sipwyBKrzj5QD1BhqLV3UT4fDNX',
  initiatorType: 'external',
  system: 'oid4vci',
  subsystem: 'vc_issuer'
}
[2026-02-01 15:56:31.845 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
    method: "POST"
    path: "/api/wallet/auth/register"
    headers: {
      "accept": "application/json, text/plain, */*",
      "content-type": "application/json",
      "user-agent": "axios/1.9.0",
      "content-length": "99",
      "accept-encoding": "gzip, compress, deflate, br",
      "host": "localhost:3000",
      "connection": "keep-alive"
    }
    body: {
      "username": "push_test_bfd7b610",
      "password": "password123",
      "email": "push_test_bfd7b610@example.com"
    }
[2026-02-01 15:56:31.851 +0200] [34mDEBUG[39m: [36mCreating tenant with label push_test_bfd7b610[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.861 +0200] [34mDEBUG[39m: [36mGetting tenant agent for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.861 +0200] [34mDEBUG[39m: [36mdebug ========= Inside getAgentContextForContextCorrelationId[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.861 +0200] [34mDEBUG[39m: [36mdebug ========= Get tenantRecord from cache[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.862 +0200] [34mDEBUG[39m: [36mdebug ========= TenantRecord not found in cache[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.865 +0200] [34mDEBUG[39m: [36mdebug ========= Cached tenant agent context for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.866 +0200] [34mDEBUG[39m: [36mGetting context for session with tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.867 +0200] [34mDEBUG[39m: [36mAcquiring tenant session[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.867 +0200] [34mDEBUG[39m: [36mIncreasing current session count to 1 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.867 +0200] [34mDEBUG[39m: [36mAcquired tenant session (1 / 2147483647)[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.868 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834' to get context[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.868 +0200] [34mDEBUG[39m: [36mNo agent context has been initialized for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834', creating one[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.869 +0200] [32mINFO[39m: [36mInitializing wallet 'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    storage: {
      "type": "sqlite"
    }
    id: "tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834"
    key: "[*****]"
    keyDerivationMethod: "RAW"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.870 +0200] [34mDEBUG[39m: [36mOpening wallet for profile 'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.871 +0200] [34mDEBUG[39m: [36mWallet for profile 'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834' not found[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.872 +0200] [34mDEBUG[39m: [36mCreating wallet for profile 'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.881 +0200] [34mDEBUG[39m: [36mSuccessfully created wallet for profile 'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.882 +0200] [34mDEBUG[39m: [36mOpening wallet for profile 'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.883 +0200] [34mDEBUG[39m: [36mSuccessfully opened wallet for profile 'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.884 +0200] [34mDEBUG[39m: [36mSetting current agent storage version to 0.5[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.890 +0200] [34mDEBUG[39m: [36mIncreased agent context session count for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834' to 1[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.890 +0200] [34mDEBUG[39m: [36mCreated tenant agent context for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.895 +0200] [32mINFO[39m: [36mCreating agent with config[39m
    service: "credo-controller"
    agentConfig: {
      "walletConfig": {
        "storage": {
          "type": "sqlite"
        },
        "id": "tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834",
        "key": "[*****]",
        "keyDerivationMethod": "RAW"
      },
      "label": "push_test_bfd7b610",
      "endpoints": [
        "http://127.0.0.1:3001"
      ],
      "logger": 3,
      "autoUpdateStorageOnStartup": true,
      "backupBeforeStorageUpdate": false,
      "tenantType": "USER",
      "agentDependencies": true
    }
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.898 +0200] [32mINFO[39m: [36mAgent storage is up to date.[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.899 +0200] [34mDEBUG[39m: [36mEnding session for agent context with contextCorrelationId adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.900 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834' to end session context[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.900 +0200] [34mDEBUG[39m: [36mDecreased agent context session count for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834' to 0[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.900 +0200] [34mDEBUG[39m: [36mClosing agent context for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.901 +0200] [34mDEBUG[39m: [36mClosing wallet for profile tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.901 +0200] [34mDEBUG[39m: [36mReleasing tenant session[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.901 +0200] [34mDEBUG[39m: [36mDecreasing current sessions to 0 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.902 +0200] [32mINFO[39m: [36mSuccessfully created tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.903 +0200] [34mDEBUG[39m: [36mGetting tenant agent for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834' in with tenant agent callback[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.903 +0200] [34mDEBUG[39m: [36mGetting tenant agent for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.904 +0200] [34mDEBUG[39m: [36mdebug ========= Inside getAgentContextForContextCorrelationId[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.904 +0200] [34mDEBUG[39m: [36mdebug ========= Get tenantRecord from cache[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.904 +0200] [34mDEBUG[39m: [36mGetting context for session with tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.904 +0200] [34mDEBUG[39m: [36mAcquiring tenant session[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.904 +0200] [34mDEBUG[39m: [36mIncreasing current session count to 1 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.904 +0200] [34mDEBUG[39m: [36mAcquired tenant session (1 / 2147483647)[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.905 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834' to get context[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.905 +0200] [34mDEBUG[39m: [36mNo agent context has been initialized for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834', creating one[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.906 +0200] [32mINFO[39m: [36mInitializing wallet 'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    storage: {
      "type": "sqlite"
    }
    id: "tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834"
    key: "[*****]"
    keyDerivationMethod: "RAW"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.906 +0200] [34mDEBUG[39m: [36mOpening wallet for profile 'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.907 +0200] [34mDEBUG[39m: [36mSuccessfully opened wallet for profile 'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.907 +0200] [34mDEBUG[39m: [36mIncreased agent context session count for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834' to 1[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.907 +0200] [34mDEBUG[39m: [36mCreated tenant agent context for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.910 +0200] [32mINFO[39m: [36mCreating agent with config[39m
    service: "credo-controller"
    agentConfig: {
      "walletConfig": {
        "storage": {
          "type": "sqlite"
        },
        "id": "tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834",
        "key": "[*****]",
        "keyDerivationMethod": "RAW"
      },
      "label": "push_test_bfd7b610",
      "endpoints": [
        "http://127.0.0.1:3001"
      ],
      "logger": 3,
      "autoUpdateStorageOnStartup": true,
      "backupBeforeStorageUpdate": false,
      "tenantType": "USER",
      "agentDependencies": true
    }
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.914 +0200] [32mINFO[39m: [36mAgent storage is up to date.[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.915 +0200] [34mDEBUG[39m: [36mCalling tenant agent callback for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.916 +0200] [34mDEBUG[39m: [36mcreating did key[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.945 +0200] [34mDEBUG[39m: [36mEnding tenant agent session for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.945 +0200] [34mDEBUG[39m: [36mEnding session for agent context with contextCorrelationId adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.946 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834' to end session context[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.946 +0200] [34mDEBUG[39m: [36mDecreased agent context session count for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834' to 0[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.946 +0200] [34mDEBUG[39m: [36mClosing agent context for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.946 +0200] [34mDEBUG[39m: [36mClosing wallet for profile tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.946 +0200] [34mDEBUG[39m: [36mReleasing tenant session[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.946 +0200] [34mDEBUG[39m: [36mDecreasing current sessions to 0 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
[2026-02-01 15:56:31.961 +0200] [32mINFO[39m: [36mUser registered successfully - wallet ready[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
    walletId: "adc188bb-e6a0-404c-bab6-ae6c1fc1b834"
[2026-02-01 15:56:31.963 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "4cad36df-e46b-443d-92d4-7acaf30f7ca5"
    method: "POST"
    path: "/api/wallet/auth/register"
    status: 200
    duration: 118
    response: "{\"message\":\"User registered successfully\",\"walletId\":\"adc188bb-e6a0-404c-bab6-ae6c1fc1b834\",\"holderDid\":\"did:key:z6MkoVPMEkGGyN1toBSmVGJ3fUmncFQkJdRHD7QSxgTi2ajK\"}"
[2026-02-01 15:56:31.965 +0200] [34mDEBUG[39m: [36mAudit log recorded[39m
    service: "credo-controller"
    module: "AuditService"
    action: "auth.register"
    id: "1891c178-1915-4a71-85c9-b5b315e9e258"
[2026-02-01 15:56:31.973 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
    method: "POST"
    path: "/api/wallet/auth/login"
    headers: {
      "accept": "application/json, text/plain, */*",
      "content-type": "application/json",
      "user-agent": "axios/1.9.0",
      "content-length": "58",
      "accept-encoding": "gzip, compress, deflate, br",
      "host": "localhost:3000",
      "connection": "keep-alive"
    }
    body: {
      "username": "push_test_bfd7b610",
      "password": "password123"
    }
[2026-02-01 15:56:31.985 +0200] [34mDEBUG[39m: [36mGetting tenant agent for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:31.985 +0200] [34mDEBUG[39m: [36mdebug ========= Inside getAgentContextForContextCorrelationId[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:31.985 +0200] [34mDEBUG[39m: [36mdebug ========= Get tenantRecord from cache[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:31.985 +0200] [34mDEBUG[39m: [36mGetting context for session with tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:31.985 +0200] [34mDEBUG[39m: [36mAcquiring tenant session[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:31.986 +0200] [34mDEBUG[39m: [36mIncreasing current session count to 1 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:31.986 +0200] [34mDEBUG[39m: [36mAcquired tenant session (1 / 2147483647)[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:31.986 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834' to get context[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:31.986 +0200] [34mDEBUG[39m: [36mNo agent context has been initialized for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834', creating one[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:31.987 +0200] [32mINFO[39m: [36mInitializing wallet 'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    storage: {
      "type": "sqlite"
    }
    id: "tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834"
    key: "[*****]"
    keyDerivationMethod: "RAW"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:31.988 +0200] [34mDEBUG[39m: [36mOpening wallet for profile 'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:31.991 +0200] [34mDEBUG[39m: [36mSuccessfully opened wallet for profile 'tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:31.991 +0200] [34mDEBUG[39m: [36mIncreased agent context session count for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834' to 1[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:31.992 +0200] [34mDEBUG[39m: [36mCreated tenant agent context for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:32.079 +0200] [32mINFO[39m: [36mCreating agent with config[39m
    service: "credo-controller"
    agentConfig: {
      "walletConfig": {
        "storage": {
          "type": "sqlite"
        },
        "id": "tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834",
        "key": "[*****]",
        "keyDerivationMethod": "RAW"
      },
      "label": "push_test_bfd7b610",
      "endpoints": [
        "http://127.0.0.1:3001"
      ],
      "logger": 3,
      "autoUpdateStorageOnStartup": true,
      "backupBeforeStorageUpdate": false,
      "tenantType": "USER",
      "agentDependencies": true
    }
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:32.082 +0200] [32mINFO[39m: [36mAgent storage is up to date.[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:32.085 +0200] [34mDEBUG[39m: [36mEnding session for agent context with contextCorrelationId adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:32.086 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834' to end session context[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:32.086 +0200] [34mDEBUG[39m: [36mDecreased agent context session count for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834' to 0[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:32.086 +0200] [34mDEBUG[39m: [36mClosing agent context for tenant 'adc188bb-e6a0-404c-bab6-ae6c1fc1b834'[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:32.086 +0200] [34mDEBUG[39m: [36mClosing wallet for profile tenant-adc188bb-e6a0-404c-bab6-ae6c1fc1b834[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:32.086 +0200] [34mDEBUG[39m: [36mReleasing tenant session[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:32.087 +0200] [34mDEBUG[39m: [36mDecreasing current sessions to 0 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
[2026-02-01 15:56:32.087 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "90d0c9c8-8462-4211-9b91-be74753b9534"
    method: "POST"
    path: "/api/wallet/auth/login"
    status: 200
    duration: 114
    response: "{\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImY4MTc3NTg1LTg2ZWItNDYwMC1hNTYzLTI5ZDhiNWYxYWM3ZSIsInVzZXJuYW1lIjoicHVzaF90ZXN0X2JmZDdiNjEwIiwiZW1haWwiOiJwdXNoX3Rlc3RfYmZkN2I2MTBAZXhhbXBsZS5jb20iLCJ3YWxsZXRJZCI6ImFkYzE4OGJiLWU2YTAtNDA0Yy1iYWI2LWFlNmMxZmMxYjgzNCIsInJvbGUiOiJSZXN0VGVuYW50QWdlbnQiLCJ0ZW5hbnRJZCI6ImFkYzE4OGJiLWU2YTAtNDA0Yy1iYWI2LWFlNmMxZmMxYjgzNCIsImlhdCI6MTc2OTk1NDE5MSwiZXhwIjoxNzcyNTQ2MTkxfQ.cR_KzAkGaGYqokjt_7ym4W3lwhllbCSZKi-oJSev5vg\",\"hasGenericId\":false}"
[2026-02-01 15:56:32.088 +0200] [34mDEBUG[39m: [36mAudit log recorded[39m
    service: "credo-controller"
    module: "AuditService"
    action: "auth.login"
    id: "aaacbe31-b459-49bc-b392-8047d16f829c"
[2026-02-01 15:56:32.091 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "c1678cdb-75b6-43cf-bc70-324555a02d17"
    method: "POST"
    path: "/custom-oidc/issuer/credential-offers"
    headers: {
      "accept": "application/json, text/plain, */*",
      "content-type": "application/json",
      "x-api-key": "test-api-key-12345",
      "user-agent": "axios/1.9.0",
      "content-length": "118",
      "accept-encoding": "gzip, compress, deflate, br",
      "host": "localhost:3000",
      "connection": "keep-alive"
    }
    body: {
      "credentials": [
        {
          "credentialDefinitionId": "GenericIDCredential",
          "type": "GenericIDCredential",
          "format": "jwt_vc_json"
        }
      ]
    }
[2026-02-01 15:56:32.094 +0200] [32mINFO[39m: [36msecurityName::: apiKey[39m
    service: "credo-controller"
    correlationId: "c1678cdb-75b6-43cf-bc70-324555a02d17"
[2026-02-01 15:56:32.095 +0200] [32mINFO[39m: [36mscopes::: [39m
    service: "credo-controller"
    correlationId: "c1678cdb-75b6-43cf-bc70-324555a02d17"
[2026-02-01 15:56:32.095 +0200] [32mINFO[39m: [36mProvided API key: test-api-key-12345[39m
    service: "credo-controller"
    correlationId: "c1678cdb-75b6-43cf-bc70-324555a02d17"
[2026-02-01 15:56:32.095 +0200] [32mINFO[39m: [36mExpected API key: test-api-key-12345[39m
    service: "credo-controller"
    correlationId: "c1678cdb-75b6-43cf-bc70-324555a02d17"
[2026-02-01 15:56:32.095 +0200] [32mINFO[39m: [36msecurityName::: jwt[39m
    service: "credo-controller"
    correlationId: "c1678cdb-75b6-43cf-bc70-324555a02d17"
[2026-02-01 15:56:32.096 +0200] [32mINFO[39m: [36mscopes::: tenant[39m
    service: "credo-controller"
    correlationId: "c1678cdb-75b6-43cf-bc70-324555a02d17"
[2026-02-01 15:56:32.105 +0200] [32mINFO[39m: [36mCalling createCredentialOffer[39m
    service: "credo-controller"
    correlationId: "c1678cdb-75b6-43cf-bc70-324555a02d17"
    issuerId: "default-platform-issuer"
    credentialConfigurations: [
      "GenericIDCredential_jwt_vc_json"
    ]
    credentialsOriginal: [
      {
        "credentialDefinitionId": "GenericIDCredential",
        "type": [
          "GenericIDCredential"
        ],
        "format": "jwt_vc_json"
      }
    ]
[2026-02-01 15:56:32.105 +0200] [32mINFO[39m: [36mExtracted claims from body[39m
    service: "credo-controller"
    correlationId: "c1678cdb-75b6-43cf-bc70-324555a02d17"
    module: "issuer"
    operation: "createOffer"
    claimsCount: 0
    claimsKeys: []
[2026-02-01 15:56:32.129 +0200] [32mINFO[39m: [36mCreated native credential offer[39m
    service: "credo-controller"
    correlationId: "c1678cdb-75b6-43cf-bc70-324555a02d17"
    module: "issuer"
    operation: "createOffer"
    credentialOfferUri: "openid-credential-offer://?credential_offer_uri=http%3A%2F%2Flocalhost%3A3000%2Foidc%2Fissuer%2Fdefault-platform-issuer%2Foffers%2Fc77a1b63-fdb1-447b-a9b8-71ce5f9c5b5b"
[2026-02-01 15:56:32.129 +0200] [32mINFO[39m: [36mAttempting to push offer to holder[39m
    service: "credo-controller"
    correlationId: "c1678cdb-75b6-43cf-bc70-324555a02d17"
    pushUrl: "http://localhost:6000/api/wallet/wallet/holder-wallet/exchange/useOfferRequest"
    offerId: "9fc871e4-2883-4ef6-b4ce-64b65e6c94ac"
[2026-02-01 15:56:32.134 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "c1678cdb-75b6-43cf-bc70-324555a02d17"
    method: "POST"
    path: "/custom-oidc/issuer/credential-offers"
    status: 201
    duration: 43
    response: "{\"offerId\":\"9fc871e4-2883-4ef6-b4ce-64b65e6c94ac\",\"credential_offer_url\":\"openid-credential-offer://?credential_offer_uri=http%3A%2F%2Flocalhost%3A3000%2Foidc%2Fissuer%2Fdefault-platform-issuer%2Foffers%2Fc77a1b63-fdb1-447b-a9b8-71ce5f9c5b5b\",\"credential_offer_uri\":\"openid-credential-offer://?credential_offer_uri=http%3A%2F%2Flocalhost%3A3000%2Foidc%2Fissuer%2Fdefault-platform-issuer%2Foffers%2Fc77a1b63-fdb1-447b-a9b8-71ce5f9c5b5b\",\"preAuthorizedCode\":\"169436254465386853642627\",\"expiresAt\":\"2026-02-01T14:56:32.129Z\"}"
[2026-02-01 15:56:32.134 +0200] [34mDEBUG[39m: [36mAudit log recorded[39m
    service: "credo-controller"
    module: "AuditService"
    action: "api.post"
    id: "3688bb7f-50b4-4844-a644-7c96e43859f8"
[2026-02-01 15:56:32.186 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "9e1b47ba-cfd7-4eab-b235-511a86f0e088"
    method: "GET"
    path: "/oidc/issuer/default-platform-issuer/offers/c77a1b63-fdb1-447b-a9b8-71ce5f9c5b5b"
    headers: {
      "accept": "application/json",
      "user-agent": "node-fetch/1.0 (+https://github.com/bitinn/node-fetch)",
      "accept-encoding": "gzip,deflate",
      "traceparent": "00-8aae65403ae1ea31d8b8e0d1d6f78669-cc310bc8ae4878d6-01",
      "host": "localhost:3000",
      "connection": "keep-alive"
    }
[2026-02-01 15:56:32.211 +0200] [34mDEBUG[39m: [36mEnding session for agent context with contextCorrelationId default'[39m
    service: "credo-controller"
    correlationId: "9e1b47ba-cfd7-4eab-b235-511a86f0e088"
[2026-02-01 15:56:32.211 +0200] [34mDEBUG[39m: [36mEnding session for root agent context. Not disposing dependency manager[39m
    service: "credo-controller"
    correlationId: "9e1b47ba-cfd7-4eab-b235-511a86f0e088"
[2026-02-01 15:56:32.211 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "9e1b47ba-cfd7-4eab-b235-511a86f0e088"
    method: "GET"
    path: "/default-platform-issuer/offers/c77a1b63-fdb1-447b-a9b8-71ce5f9c5b5b"
    status: 200
    duration: 25
    response: "{\"credential_issuer\":\"http://localhost:3000/oidc/issuer/default-platform-issuer\",\"credential_configuration_ids\":[\"GenericIDCredential_jwt_vc_json\"],\"grants\":{\"urn:ietf:params:oauth:grant-type:pre-authorized_code\":{\"pre-authorized_code\":\"169436254465386853642627\",\"user_pin_required\":false}},\"credentials\":[\"GenericIDCredential_jwt_vc_json\"]}"
[2026-02-01 15:56:32.218 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "f7c03b94-23c9-46b8-9724-20ea14f00d33"
    method: "GET"
    path: "/oidc/issuer/default-platform-issuer/.well-known/openid-credential-issuer"
    headers: {
      "accept": "application/json",
      "user-agent": "node-fetch/1.0 (+https://github.com/bitinn/node-fetch)",
      "accept-encoding": "gzip,deflate",
      "traceparent": "00-8aae65403ae1ea31d8b8e0d1d6f78669-53412c62b7199294-01",
      "host": "localhost:3000",
      "connection": "keep-alive"
    }
[2026-02-01 15:56:32.225 +0200] [34mDEBUG[39m: [36mEnding session for agent context with contextCorrelationId default'[39m
    service: "credo-controller"
    correlationId: "f7c03b94-23c9-46b8-9724-20ea14f00d33"
[2026-02-01 15:56:32.226 +0200] [34mDEBUG[39m: [36mEnding session for root agent context. Not disposing dependency manager[39m
    service: "credo-controller"
    correlationId: "f7c03b94-23c9-46b8-9724-20ea14f00d33"
[2026-02-01 15:56:32.226 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "f7c03b94-23c9-46b8-9724-20ea14f00d33"
    method: "GET"
    path: "/default-platform-issuer/.well-known/openid-credential-issuer"
    status: 200
    duration: 8
    response: "{\"credential_issuer\":\"http://localhost:3000/oidc/issuer/default-platform-issuer\",\"token_endpoint\":\"http://localhost:3000/oidc/issuer/default-platform-issuer/token\",\"credential_endpoint\":\"http://localhost:3000/oidc/issuer/default-platform-issuer/credential\",\"credentials_supported\":[{\"id\":\"GenericIDCredential_jwt_vc_json\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\"],\"cryptographic_suites_supported\":[\"EdDSA\"],\"display\":[{\"name\":\"GenericIDCredential\",\"locale\":\"en-US\"}],\"format\":\"jwt_vc_json\",\"types\":[\"VerifiableCredential\",\"GenericIDCredential\"]},{\"id\":\"CartSnapshotVC_jwt_vc_json\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\"],\"cryptographic_suites_supported\":[\"EdDSA\"],\"display\":[{\"name\":\"CartSnapshotVC\",\"locale\":\"en-US\"}],\"format\":\"jwt_vc_json\",\"types\":[\"VerifiableCredential\",\"CartSnapshotVC\"]},{\"id\":\"InvoiceVC_jwt_vc_json\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\"],\"cryptographic_suites_supported\":[\"EdDSA\"],\"display\":[{\"name\":\"InvoiceVC\",\"locale\":\"en-US\"}],\"format\":\"jwt_vc_json\",\"types\":[\"VerifiableCredential\",\"InvoiceVC\"]},{\"id\":\"ReceiptVC_jwt_vc_json\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\"],\"cryptographic_suites_supported\":[\"EdDSA\"],\"display\":[{\"name\":\"ReceiptVC\",\"locale\":\"en-US\"}],\"format\":\"jwt_vc_json\",\"types\":[\"VerifiableCredential\",\"ReceiptVC\"]},{\"id\":\"EmploymentContractVC_jwt_vc_json\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\"],\"cryptographic_suites_supported\":[\"EdDSA\"],\"display\":[{\"name\":\"EmploymentContractVC\",\"locale\":\"en-US\"}],\"format\":\"jwt_vc_json\",\"types\":[\"VerifiableCredential\",\"EmploymentContractVC\"]},{\"id\":\"QuoteVC_jwt_vc_json\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\"],\"cryptographic_suites_supported\":[\"EdDSA\"],\"display\":[{\"name\":\"QuoteVC\",\"locale\":\"en-US\"}],\"format\":\"jwt_vc_json\",\"types\":[\"VerifiableCredential\",\"QuoteVC\"]},{\"id\":\"ApprovalVC_jwt_vc_json\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\"],\"cryptographic_suites_supported\":[\"EdDSA\"],\"display\":[{\"name\":\"ApprovalVC\",\"locale\":\"en-US\"}],\"format\":\"jwt_vc_json\",\"types\":[\"VerifiableCredential\",\"ApprovalVC\"]}],\"credential_configurations_supported\":{\"GenericIDCredential_jwt_vc_json\":{\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\"],\"credential_signing_alg_values_supported\":[\"EdDSA\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\"]}},\"format\":\"jwt_vc_json\",\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"GenericIDCredential\"]},\"display\":[{\"name\":\"GenericIDCredential\",\"locale\":\"en-US\"}]},\"CartSnapshotVC_jwt_vc_json\":{\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\"],\"credential_signing_alg_values_supported\":[\"EdDSA\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\"]}},\"format\":\"jwt_vc_json\",\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"CartSnapshotVC\"]},\"display\":[{\"name\":\"CartSnapshotVC\",\"locale\":\"en-US\"}]},\"InvoiceVC_jwt_vc_json\":{\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\"],\"credential_signing_alg_values_supported\":[\"EdDSA\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\"]}},\"format\":\"jwt_vc_json\",\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"InvoiceVC\"]},\"display\":[{\"name\":\"InvoiceVC\",\"locale\":\"en-US\"}]},\"ReceiptVC_jwt_vc_json\":{\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\"],\"credential_signing_alg_values_supported\":[\"EdDSA\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\"]}},\"format\":\"jwt_vc_json\",\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"ReceiptVC\"]},\"display\":[{\"name\":\"ReceiptVC\",\"locale\":\"en-US\"}]},\"EmploymentContractVC_jwt_vc_json\":{\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\"],\"credential_signing_alg_values_supported\":[\"EdDSA\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\"]}},\"format\":\"jwt_vc_json\",\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"EmploymentContractVC\"]},\"display\":[{\"name\":\"EmploymentContractVC\",\"locale\":\"en-US\"}]},\"QuoteVC_jwt_vc_json\":{\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\"],\"credential_signing_alg_values_supported\":[\"EdDSA\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\"]}},\"format\":\"jwt_vc_json\",\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"QuoteVC\"]},\"display\":[{\"name\":\"QuoteVC\",\"locale\":\"en-US\"}]},\"ApprovalVC_jwt_vc_json\":{\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\"],\"credential_signing_alg_values_supported\":[\"EdDSA\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\"]}},\"format\":\"jwt_vc_json\",\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"ApprovalVC\"]},\"display\":[{\"name\":\"ApprovalVC\",\"locale\":\"en-US\"}]}},\"display\":[{\"name\":\"Credo Controller Sample\",\"description\":\"Sample OpenID4VC issuer\",\"locale\":\"en-US\"}]}"
[2026-02-01 15:56:32.228 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "45278227-21b9-468a-bfc6-d6dbc0b81837"
    method: "GET"
    path: "/oidc/issuer/default-platform-issuer/.well-known/openid-configuration"
    headers: {
      "accept": "application/json",
      "user-agent": "node-fetch/1.0 (+https://github.com/bitinn/node-fetch)",
      "accept-encoding": "gzip,deflate",
      "traceparent": "00-8aae65403ae1ea31d8b8e0d1d6f78669-2574d582080fbf34-01",
      "host": "localhost:3000",
      "connection": "keep-alive"
    }
[2026-02-01 15:56:32.234 +0200] [34mDEBUG[39m: [36mEnding session for agent context with contextCorrelationId default'[39m
    service: "credo-controller"
    correlationId: "45278227-21b9-468a-bfc6-d6dbc0b81837"
[2026-02-01 15:56:32.235 +0200] [34mDEBUG[39m: [36mEnding session for root agent context. Not disposing dependency manager[39m
    service: "credo-controller"
    correlationId: "45278227-21b9-468a-bfc6-d6dbc0b81837"
[2026-02-01 15:56:32.248 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "45278227-21b9-468a-bfc6-d6dbc0b81837"
    method: "GET"
    path: "/oidc/issuer/default-platform-issuer/.well-known/openid-configuration"
    status: 404
    duration: 20
[2026-02-01 15:56:32.251 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "c40ccac8-13d9-412f-8d94-c53effca545a"
    method: "GET"
    path: "/oidc/issuer/default-platform-issuer/.well-known/oauth-authorization-server"
    headers: {
      "accept": "application/json",
      "user-agent": "node-fetch/1.0 (+https://github.com/bitinn/node-fetch)",
      "accept-encoding": "gzip,deflate",
      "traceparent": "00-8aae65403ae1ea31d8b8e0d1d6f78669-cad7e1cfc7f7060a-01",
      "host": "localhost:3000",
      "connection": "keep-alive"
    }
[2026-02-01 15:56:32.257 +0200] [34mDEBUG[39m: [36mEnding session for agent context with contextCorrelationId default'[39m
    service: "credo-controller"
    correlationId: "c40ccac8-13d9-412f-8d94-c53effca545a"
[2026-02-01 15:56:32.257 +0200] [34mDEBUG[39m: [36mEnding session for root agent context. Not disposing dependency manager[39m
    service: "credo-controller"
    correlationId: "c40ccac8-13d9-412f-8d94-c53effca545a"
[2026-02-01 15:56:32.258 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "c40ccac8-13d9-412f-8d94-c53effca545a"
    method: "GET"
    path: "/oidc/issuer/default-platform-issuer/.well-known/oauth-authorization-server"
    status: 404
    duration: 7
[2026-02-01 15:56:32.282 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "0a1d2326-00df-4d0b-b8bf-e1d365a908ad"
    method: "POST"
    path: "/oidc/issuer/default-platform-issuer/token"
    headers: {
      "accept": "application/json",
      "content-type": "application/x-www-form-urlencoded",
      "content-length": "108",
      "user-agent": "node-fetch/1.0 (+https://github.com/bitinn/node-fetch)",
      "accept-encoding": "gzip,deflate",
      "traceparent": "00-8aae65403ae1ea31d8b8e0d1d6f78669-c6abeac78b5d09d7-01",
      "host": "localhost:3000",
      "connection": "keep-alive"
    }
    body: {
      "grant_type": "urn:ietf:params:oauth:grant-type:pre-authorized_code",
      "pre-authorized_code": "169436254465386853642627"
    }
[2026-02-01 15:56:32.333 +0200] [34mDEBUG[39m: [36mEnding session for agent context with contextCorrelationId default'[39m
    service: "credo-controller"
    correlationId: "0a1d2326-00df-4d0b-b8bf-e1d365a908ad"
[2026-02-01 15:56:32.333 +0200] [34mDEBUG[39m: [36mEnding session for root agent context. Not disposing dependency manager[39m
    service: "credo-controller"
    correlationId: "0a1d2326-00df-4d0b-b8bf-e1d365a908ad"
[2026-02-01 15:56:32.333 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "0a1d2326-00df-4d0b-b8bf-e1d365a908ad"
    method: "POST"
    path: "/default-platform-issuer/token"
    status: 200
    duration: 52
    response: "{\"access_token\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSIsImp3ayI6eyJrdHkiOiJPS1AiLCJjcnYiOiJFZDI1NTE5IiwieCI6Ikp3THMyQ2FKQkRaVlRhNmFFbklWendaOVFoMXUwb3RNcmF3SUk4WmZzcEEifX0.eyJwcmVBdXRob3JpemVkQ29kZSI6IjE2OTQzNjI1NDQ2NTM4Njg1MzY0MjYyNyIsInRva2VuX3R5cGUiOiJCZWFyZXIiLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjMwMDAvb2lkYy9pc3N1ZXIvZGVmYXVsdC1wbGF0Zm9ybS1pc3N1ZXIiLCJleHAiOjE3Njk5NTQzNzIsImlhdCI6MTc2OTk1NDE5Mn0.aeS-nk_rgwM5hv7IYKu9nCvXCTuTycV-3OHR_tidsFU9XDI0EpCME3w77wAB08dWxBRvAbOD6OT96jRMFCzwCw\",\"token_type\":\"bearer\",\"expires_in\":180,\"c_nonce\":\"1169137304408376571276922\",\"c_nonce_expires_in\":300,\"authorization_pending\":false}"
[2026-02-01 15:56:32.334 +0200] [34mDEBUG[39m: [36mAudit log recorded[39m
    service: "credo-controller"
    module: "AuditService"
    action: "api.post"
    id: "fe5f57f4-03b9-4ec1-a057-fd373d41d558"
[2026-02-01 15:56:32.364 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "1d3e39f3-decf-47d0-b792-7f5fcfdaabb6"
    method: "POST"
    path: "/oidc/issuer/default-platform-issuer/credential"
    headers: {
      "authorization": "REDACTED",
      "accept": "application/json",
      "content-type": "application/json",
      "content-length": "711",
      "user-agent": "node-fetch/1.0 (+https://github.com/bitinn/node-fetch)",
      "accept-encoding": "gzip,deflate",
      "traceparent": "00-8aae65403ae1ea31d8b8e0d1d6f78669-b16396b066bc870c-01",
      "host": "localhost:3000",
      "connection": "keep-alive"
    }
    body: {
      "credential_definition": {
        "type": [
          "VerifiableCredential",
          "GenericIDCredential"
        ]
      },
      "format": "jwt_vc_json",
      "proof": {
        "proof_type": "jwt",
        "jwt": "eyJ0eXAiOiJvcGVuaWQ0dmNpLXByb29mK2p3dCIsImFsZyI6IkVkRFNBIiwia2lkIjoiZGlkOmtleTp6Nk1ralJiN3NtdFRSZWtOZ3NMMjRzaXB3eUJLcnpqNVFEMUJocUxWM1VUNGZETlgjejZNa2pSYjdzbXRUUmVrTmdzTDI0c2lwd3lCS3J6ajVRRDFCaHFMVjNVVDRmRE5YIn0.eyJhdWQiOiJodHRwOi8vbG9jYWxob3N0OjMwMDAvb2lkYy9pc3N1ZXIvZGVmYXVsdC1wbGF0Zm9ybS1pc3N1ZXIiLCJpYXQiOjE3Njk5NTQxMzIsImV4cCI6MTc2OTk1NDc5Miwibm9uY2UiOiIxMTY5MTM3MzA0NDA4Mzc2NTcxMjc2OTIyIiwiaXNzIjoiZGlkOmtleTp6Nk1ralJiN3NtdFRSZWtOZ3NMMjRzaXB3eUJLcnpqNVFEMUJocUxWM1VUNGZETlgifQ.YQBDyX20JyWdCdzdtvKvOMGqHIPHp3WqEvWtfvyzW2JGX-sbpKUd0alYKZcSbzJEmd8OXnlve4zRiiA_t7ZkAg"
      }
    }
[2026-02-01 15:56:32.364 +0200] [32mINFO[39m: [36mIssuer credential request incoming[39m
    service: "credo-controller"
    correlationId: "1d3e39f3-decf-47d0-b792-7f5fcfdaabb6"
    path: "/default-platform-issuer/credential"
    bodyPreview: [
      "credential_definition",
      "format",
      "proof"
    ]
[2026-02-01 15:56:32.380 +0200] [34mDEBUG[39m: [36mresolving didUrl did:key:z6MkjRb7smtTRekNgsL24sipwyBKrzj5QD1BhqLV3UT4fDNX#z6MkjRb7smtTRekNgsL24sipwyBKrzj5QD1BhqLV3UT4fDNX[39m
    service: "credo-controller"
    correlationId: "1d3e39f3-decf-47d0-b792-7f5fcfdaabb6"
[2026-02-01 15:56:32.401 +0200] [34mDEBUG[39m: [36mresolving didUrl did:key:z6MkjRb7smtTRekNgsL24sipwyBKrzj5QD1BhqLV3UT4fDNX#z6MkjRb7smtTRekNgsL24sipwyBKrzj5QD1BhqLV3UT4fDNX[39m
    service: "credo-controller"
    correlationId: "1d3e39f3-decf-47d0-b792-7f5fcfdaabb6"
[2026-02-01 15:56:32.407 +0200] [34mDEBUG[39m: [36mresolving didUrl did:key:z6MkjRb7smtTRekNgsL24sipwyBKrzj5QD1BhqLV3UT4fDNX[39m
    service: "credo-controller"
    correlationId: "1d3e39f3-decf-47d0-b792-7f5fcfdaabb6"
[2026-02-01 15:56:32.417 +0200] [34mDEBUG[39m: [36mresolving didUrl did:key:z6MkjRb7smtTRekNgsL24sipwyBKrzj5QD1BhqLV3UT4fDNX#z6MkjRb7smtTRekNgsL24sipwyBKrzj5QD1BhqLV3UT4fDNX[39m
    service: "credo-controller"
    correlationId: "1d3e39f3-decf-47d0-b792-7f5fcfdaabb6"
[2026-02-01 15:56:32.419 +0200] [34mDEBUG[39m: [36mresolving didUrl did:key:z6MkjRb7smtTRekNgsL24sipwyBKrzj5QD1BhqLV3UT4fDNX#z6MkjRb7smtTRekNgsL24sipwyBKrzj5QD1BhqLV3UT4fDNX[39m
    service: "credo-controller"
    correlationId: "1d3e39f3-decf-47d0-b792-7f5fcfdaabb6"
[2026-02-01 15:56:32.438 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "1d3e39f3-decf-47d0-b792-7f5fcfdaabb6"
    method: "POST"
    path: "/credential"
    status: 200
    duration: 74
    response: "{\"credential\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSIsImtpZCI6ImRpZDprZXk6ejZNa2pSYjdzbXRUUmVrTmdzTDI0c2lwd3lCS3J6ajVRRDFCaHFMVjNVVDRmRE5YI3o2TWtqUmI3c210VFJla05nc0wyNHNpcHd5Qktyemo1UUQxQmhxTFYzVVQ0ZkROWCJ9.eyJ2YyI6eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvMjAxOC9jcmVkZW50aWFscy92MSJdLCJ0eXBlIjpbIlZlcmlmaWFibGVDcmVkZW50aWFsIiwiR2VuZXJpY0lEQ3JlZGVudGlhbCJdLCJpc3N1ZXJJZCI6ImRpZDprZXk6ejZNa2pSYjdzbXRUUmVrTmdzTDI0c2lwd3lCS3J6ajVRRDFCaHFMVjNVVDRmRE5YIiwiY3JlZGVudGlhbFN1YmplY3QiOnt9LCJjcmVkZW50aWFsU3ViamVjdElkcyI6WyJkaWQ6ZXhhbXBsZTp1bmtub3duIl19LCJpc3MiOiJkaWQ6a2V5Ono2TWtqUmI3c210VFJla05nc0wyNHNpcHd5Qktyemo1UUQxQmhxTFYzVVQ0ZkROWCIsInN1YiI6ImRpZDpleGFtcGxlOnVua25vd24iLCJuYmYiOjE3Njk5NTQxOTJ9.HiYsHHRK8Is81NpJMpuCE3qAkojfzb3Q2jUQQtVPVFP98VjqGeb0ykSCrtO3y2JZkt9Tn1yKfK0k92NiSxE7Cw\",\"c_nonce\":\"20510d5b-21bf-4fc3-8eac-bf85be07d72b\",\"c_nonce_expires_in\":300,\"format\":\"jwt_vc_json\"}"
[2026-02-01 15:56:32.438 +0200] [33mWARN[39m: [36mIssuer credential endpoint responded[39m
    service: "credo-controller"
    correlationId: "1d3e39f3-decf-47d0-b792-7f5fcfdaabb6"
    status: 200
    responsePreview: "{\"credential\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSIsImtpZCI6ImRpZDprZXk6ejZNa2pSYjdzbXRUUmVrTmdzTDI0c2lwd3lCS3J6ajVRRDFCaHFMVjNVVDRmRE5YI3o2TWtqUmI3c210VFJla05nc0wyNHNpcHd5Qktyemo1UUQxQmhxTFYzVVQ0ZkROWCJ9.eyJ2YyI6eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvMjAxOC9jcmVkZW50aWFscy92MSJdLCJ0eXBlIjpbIlZlcmlmaWFibGVDcmVkZW50aWFsIiwiR2VuZXJpY0lEQ3JlZGVudGlhbCJdLCJpc3N1ZXJJZCI6ImRpZDprZXk6ejZNa2pSYjdzbXRU"
[2026-02-01 15:56:32.439 +0200] [34mDEBUG[39m: [36mEnding session for agent context with contextCorrelationId default'[39m
    service: "credo-controller"
    correlationId: "1d3e39f3-decf-47d0-b792-7f5fcfdaabb6"
[2026-02-01 15:56:32.439 +0200] [34mDEBUG[39m: [36mEnding session for root agent context. Not disposing dependency manager[39m
    service: "credo-controller"
    correlationId: "1d3e39f3-decf-47d0-b792-7f5fcfdaabb6"
[2026-02-01 15:56:32.439 +0200] [34mDEBUG[39m: [36mAudit log recorded[39m
    service: "credo-controller"
    module: "AuditService"
    action: "credential.issued"
    id: "ead99a51-3cce-4077-ad96-9328ea9f7acf"
[2026-02-01 15:56:32.465 +0200] [32mINFO[39m: [36mPush notification successful[39m
    service: "credo-controller"
    correlationId: "c1678cdb-75b6-43cf-bc70-324555a02d17"
    status: 200
{"stack":"Error: connect ECONNREFUSED 127.0.0.1:4318\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)\n    at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)","message":"connect ECONNREFUSED 127.0.0.1:4318","errno":"-111","code":"ECONNREFUSED","syscall":"connect","address":"127.0.0.1","port":"4318","name":"Error","toJSON":"function () {\n                    return Object.getOwnPropertyNames(this).reduce((alt, key) => {\n                        alt[key] = this[key];\n                        return alt;\n                    }, {});\n                }"}
{"stack":"Error: connect ECONNREFUSED 127.0.0.1:4318\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)\n    at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)","message":"connect ECONNREFUSED 127.0.0.1:4318","errno":"-111","code":"ECONNREFUSED","syscall":"connect","address":"127.0.0.1","port":"4318","name":"Error","toJSON":"function () {\n                    return Object.getOwnPropertyNames(this).reduce((alt, key) => {\n                        alt[key] = this[key];\n                        return alt;\n                    }, {});\n                }"}
[2026-02-01 15:57:32.772 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "3e26eea9-8fc6-4d41-89f8-63898925213b"
    method: "GET"
    path: "/api/wa/cart/CART-4b906b4d-222a-43ad-a1b0-a4df0e74bdeb"
    headers: {
      "host": "localhost:3000",
      "connection": "keep-alive",
      "sec-ch-ua-platform": "\"Windows\"",
      "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36 Edg/144.0.0.0",
      "accept": "application/json, text/plain, */*",
      "sec-ch-ua": "\"Not(A:Brand\";v=\"8\", \"Chromium\";v=\"144\", \"Microsoft Edge\";v=\"144\"",
      "sec-ch-ua-mobile": "?0",
      "origin": "http://localhost:5000",
      "sec-fetch-site": "same-site",
      "sec-fetch-mode": "cors",
      "sec-fetch-dest": "empty",
      "referer": "http://localhost:5000/",
      "accept-encoding": "gzip, deflate, br, zstd",
      "accept-language": "en-US,en;q=0.9,en-GB;q=0.8",
      "if-none-match": "W/\"128-GTimeAHdvvatZtFzlAEFV4/fHnE\""
    }
[2026-02-01 15:57:32.777 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "3e26eea9-8fc6-4d41-89f8-63898925213b"
    method: "GET"
    path: "/api/wa/cart/CART-4b906b4d-222a-43ad-a1b0-a4df0e74bdeb"
    status: 500
    duration: 5
    response: "{\"message\":\"Cart CART-4b906b4d-222a-43ad-a1b0-a4df0e74bdeb not found\"}"
[2026-02-01 15:57:32.781 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "6bcc18e1-7140-43e9-b294-15b1ae54076e"
    method: "GET"
    path: "/api/wa/cart/CART-4b906b4d-222a-43ad-a1b0-a4df0e74bdeb"
    headers: {
      "host": "localhost:3000",
      "connection": "keep-alive",
      "sec-ch-ua-platform": "\"Windows\"",
      "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36 Edg/144.0.0.0",
      "accept": "application/json, text/plain, */*",
      "sec-ch-ua": "\"Not(A:Brand\";v=\"8\", \"Chromium\";v=\"144\", \"Microsoft Edge\";v=\"144\"",
      "sec-ch-ua-mobile": "?0",
      "origin": "http://localhost:5000",
      "sec-fetch-site": "same-site",
      "sec-fetch-mode": "cors",
      "sec-fetch-dest": "empty",
      "referer": "http://localhost:5000/",
      "accept-encoding": "gzip, deflate, br, zstd",
      "accept-language": "en-US,en;q=0.9,en-GB;q=0.8"
    }
[2026-02-01 15:57:32.785 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "6bcc18e1-7140-43e9-b294-15b1ae54076e"
    method: "GET"
    path: "/api/wa/cart/CART-4b906b4d-222a-43ad-a1b0-a4df0e74bdeb"
    status: 500
    duration: 4
    response: "{\"message\":\"Cart CART-4b906b4d-222a-43ad-a1b0-a4df0e74bdeb not found\"}"
[2026-02-01 15:57:32.793 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "2ebaa462-4fd1-494f-a46d-bec05eda3d2b"
    method: "GET"
    path: "/api/wa/cart/CART-4b906b4d-222a-43ad-a1b0-a4df0e74bdeb"
    headers: {
      "host": "localhost:3000",
      "connection": "keep-alive",
      "sec-ch-ua-platform": "\"Windows\"",
      "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36 Edg/144.0.0.0",
      "accept": "application/json, text/plain, */*",
      "sec-ch-ua": "\"Not(A:Brand\";v=\"8\", \"Chromium\";v=\"144\", \"Microsoft Edge\";v=\"144\"",
      "sec-ch-ua-mobile": "?0",
      "origin": "http://localhost:5000",
      "sec-fetch-site": "same-site",
      "sec-fetch-mode": "cors",
      "sec-fetch-dest": "empty",
      "referer": "http://localhost:5000/",
      "accept-encoding": "gzip, deflate, br, zstd",
      "accept-language": "en-US,en;q=0.9,en-GB;q=0.8"
    }
[2026-02-01 15:57:32.797 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "2ebaa462-4fd1-494f-a46d-bec05eda3d2b"
    method: "GET"
    path: "/api/wa/cart/CART-4b906b4d-222a-43ad-a1b0-a4df0e74bdeb"
    status: 500
    duration: 4
    response: "{\"message\":\"Cart CART-4b906b4d-222a-43ad-a1b0-a4df0e74bdeb not found\"}"
[2026-02-01 15:57:32.806 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "010d0975-ae9f-4db4-9516-05962d6431b2"
    method: "GET"
    path: "/api/wa/cart/CART-4b906b4d-222a-43ad-a1b0-a4df0e74bdeb"
    headers: {
      "host": "localhost:3000",
      "connection": "keep-alive",
      "sec-ch-ua-platform": "\"Windows\"",
      "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36 Edg/144.0.0.0",
      "accept": "application/json, text/plain, */*",
      "sec-ch-ua": "\"Not(A:Brand\";v=\"8\", \"Chromium\";v=\"144\", \"Microsoft Edge\";v=\"144\"",
      "sec-ch-ua-mobile": "?0",
      "origin": "http://localhost:5000",
      "sec-fetch-site": "same-site",
      "sec-fetch-mode": "cors",
      "sec-fetch-dest": "empty",
      "referer": "http://localhost:5000/",
      "accept-encoding": "gzip, deflate, br, zstd",
      "accept-language": "en-US,en;q=0.9,en-GB;q=0.8"
    }
[2026-02-01 15:57:32.809 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "010d0975-ae9f-4db4-9516-05962d6431b2"
    method: "GET"
    path: "/api/wa/cart/CART-4b906b4d-222a-43ad-a1b0-a4df0e74bdeb"
    status: 500
    duration: 3
    response: "{\"message\":\"Cart CART-4b906b4d-222a-43ad-a1b0-a4df0e74bdeb not found\"}"
[90m2026-02-01 13:57:33.649  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:66  expressAuthentication][39m securityName::: jwt 
[90m2026-02-01 13:57:33.651  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:67  expressAuthentication][39m scopes::: tenant,dedicated,Basewallet 
[90m2026-02-01 13:57:33.697  [39m[1m[91mERROR[39m[22m [90m[credo-controller-service src/authentication.ts:198  verifyToken][39m Error verifying jwt token 
JsonWebTokenError: invalid signature
    at [31m/home/eloh/PROJECTS/credo-controller/[39mnode_modules/[4mjsonwebtoken[24m/verify.js:171:19
    at getSecret [31m(/home/eloh/PROJECTS/credo-controller/[39mnode_modules/[4mjsonwebtoken[24m/verify.js:97:14[31m)[39m
    at module.exports [as verify] [31m(/home/eloh/PROJECTS/credo-controller/[39mnode_modules/[4mjsonwebtoken[24m/verify.js:101:10[31m)[39m
    at verifyToken [31m(/home/eloh/PROJECTS/credo-controller/[39mbuild/authentication.js:219:32[31m)[39m
    at expressAuthentication [31m(/home/eloh/PROJECTS/credo-controller/[39mbuild/authentication.js:135:32[31m)[39m
    at async Promise.any (index 0)
    at async runAuthenticationMiddleware [31m(/home/eloh/PROJECTS/credo-controller/[39mbuild/routes/routes.js:9361:35[31m)[39m
[90m2026-02-01 13:57:33.727  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:66  expressAuthentication][39m securityName::: apiKey 
[90m2026-02-01 13:57:33.731  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:67  expressAuthentication][39m scopes:::  
[90m2026-02-01 13:57:33.734  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:84  expressAuthentication][39m Provided API key: test-api-key-12345 
[90m2026-02-01 13:57:33.736  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:85  expressAuthentication][39m Expected API key: test-api-key-12345 
[90m2026-02-01 13:57:33.779  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:66  expressAuthentication][39m securityName::: jwt 
[90m2026-02-01 13:57:33.780  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:67  expressAuthentication][39m scopes::: Basewallet 
[90m2026-02-01 13:57:33.824  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   WalletApi.initialize][39m Initializing wallet 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def' 
{
  [37mstorage[39m: {
    [37mtype[39m: [31m'sqlite'[39m,
    [37mcredentials[39m: [31mundefined[39m
  },
  [37mid[39m: [31m'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m,
  [37mkey[39m: [31m'[*****]'[39m,
  [37mkeyDerivationMethod[39m: [31m'RAW'[39m
}
[2026-02-01 15:57:33.473 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "23866549-7b67-409a-ae7d-69e50561de10"
    method: "GET"
    path: "/api/catalog/search"
    headers: {
      "host": "localhost:3000",
      "connection": "keep-alive",
      "sec-ch-ua-platform": "\"Windows\"",
      "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36 Edg/144.0.0.0",
      "sec-ch-ua": "\"Not(A:Brand\";v=\"8\", \"Chromium\";v=\"144\", \"Microsoft Edge\";v=\"144\"",
      "sec-ch-ua-mobile": "?0",
      "accept": "*/*",
      "origin": "http://localhost:5000",
      "sec-fetch-site": "same-site",
      "sec-fetch-mode": "cors",
      "sec-fetch-dest": "empty",
      "referer": "http://localhost:5000/",
      "accept-encoding": "gzip, deflate, br, zstd",
      "accept-language": "en-US,en;q=0.9,en-GB;q=0.8",
      "if-none-match": "W/\"127-r8g1vOG2dlp5amWOGPQ/womkZD4\""
    }
[2026-02-01 15:57:33.489 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "23866549-7b67-409a-ae7d-69e50561de10"
    method: "GET"
    path: "/api/catalog/search"
    status: 200
    duration: 17
    response: "[]"
[2026-02-01 15:57:33.491 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "f9a740fb-7734-4337-816c-9d9632a5ff7a"
    method: "GET"
    path: "/api/wa/cart/CART-4b906b4d-222a-43ad-a1b0-a4df0e74bdeb"
    headers: {
      "host": "localhost:3000",
      "connection": "keep-alive",
      "sec-ch-ua-platform": "\"Windows\"",
      "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36 Edg/144.0.0.0",
      "sec-ch-ua": "\"Not(A:Brand\";v=\"8\", \"Chromium\";v=\"144\", \"Microsoft Edge\";v=\"144\"",
      "sec-ch-ua-mobile": "?0",
      "accept": "*/*",
      "origin": "http://localhost:5000",
      "sec-fetch-site": "same-site",
      "sec-fetch-mode": "cors",
      "sec-fetch-dest": "empty",
      "referer": "http://localhost:5000/",
      "accept-encoding": "gzip, deflate, br, zstd",
      "accept-language": "en-US,en;q=0.9,en-GB;q=0.8"
    }
[2026-02-01 15:57:33.495 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "f9a740fb-7734-4337-816c-9d9632a5ff7a"
    method: "GET"
    path: "/api/wa/cart/CART-4b906b4d-222a-43ad-a1b0-a4df0e74bdeb"
    status: 500
    duration: 4
    response: "{\"message\":\"Cart CART-4b906b4d-222a-43ad-a1b0-a4df0e74bdeb not found\"}"
[2026-02-01 15:57:33.634 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "90fa5d92-68fc-424d-a351-f40d7f6e5f0d"
    method: "GET"
    path: "/agent"
    headers: {
      "host": "localhost:3000",
      "connection": "keep-alive",
      "sec-ch-ua-platform": "\"Windows\"",
      "authorization": "REDACTED",
      "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36 Edg/144.0.0.0",
      "accept": "application/json, text/plain, */*",
      "sec-ch-ua": "\"Not(A:Brand\";v=\"8\", \"Chromium\";v=\"144\", \"Microsoft Edge\";v=\"144\"",
      "sec-ch-ua-mobile": "?0",
      "origin": "http://localhost:5000",
      "sec-fetch-site": "same-site",
      "sec-fetch-mode": "cors",
      "sec-fetch-dest": "empty",
      "referer": "http://localhost:5000/",
      "accept-encoding": "gzip, deflate, br, zstd",
      "accept-language": "en-US,en;q=0.9,en-GB;q=0.8",
      "if-none-match": "W/\"5c-EqpUGIBvCf1g/6SPYrMlWwYwrhk\""
    }
[2026-02-01 15:57:33.650 +0200] [32mINFO[39m: [36msecurityName::: jwt[39m
    service: "credo-controller"
    correlationId: "90fa5d92-68fc-424d-a351-f40d7f6e5f0d"
[2026-02-01 15:57:33.652 +0200] [32mINFO[39m: [36mscopes::: tenant,dedicated,Basewallet[39m
    service: "credo-controller"
    correlationId: "90fa5d92-68fc-424d-a351-f40d7f6e5f0d"
[2026-02-01 15:57:33.702 +0200] [31mERROR[39m (JsonWebTokenError): [36mError verifying jwt token[39m
    service: "credo-controller"
    message: "invalid signature"
    correlationId: "90fa5d92-68fc-424d-a351-f40d7f6e5f0d"
[2026-02-01 15:57:33.706 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "90fa5d92-68fc-424d-a351-f40d7f6e5f0d"
    method: "GET"
    path: "/agent"
    status: 401
    duration: 72
    response: "{\"message\":\"Unauthorized\"}"
[2026-02-01 15:57:33.724 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "352b5cbf-791c-4b13-a219-8bf649c51628"
    method: "POST"
    path: "/agent/token"
    headers: {
      "host": "localhost:3000",
      "connection": "keep-alive",
      "content-length": "2",
      "sec-ch-ua-platform": "\"Windows\"",
      "authorization": "REDACTED",
      "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36 Edg/144.0.0.0",
      "accept": "application/json, text/plain, */*",
      "sec-ch-ua": "\"Not(A:Brand\";v=\"8\", \"Chromium\";v=\"144\", \"Microsoft Edge\";v=\"144\"",
      "content-type": "application/json",
      "sec-ch-ua-mobile": "?0",
      "origin": "http://localhost:5000",
      "sec-fetch-site": "same-site",
      "sec-fetch-mode": "cors",
      "sec-fetch-dest": "empty",
      "referer": "http://localhost:5000/",
      "accept-encoding": "gzip, deflate, br, zstd",
      "accept-language": "en-US,en;q=0.9,en-GB;q=0.8"
    }
    body: {}
[2026-02-01 15:57:33.730 +0200] [32mINFO[39m: [36msecurityName::: apiKey[39m
    service: "credo-controller"
    correlationId: "352b5cbf-791c-4b13-a219-8bf649c51628"
[2026-02-01 15:57:33.733 +0200] [32mINFO[39m: [36mscopes::: [39m
    service: "credo-controller"
    correlationId: "352b5cbf-791c-4b13-a219-8bf649c51628"
[2026-02-01 15:57:33.735 +0200] [32mINFO[39m: [36mProvided API key: test-api-key-12345[39m
    service: "credo-controller"
    correlationId: "352b5cbf-791c-4b13-a219-8bf649c51628"
[2026-02-01 15:57:33.737 +0200] [32mINFO[39m: [36mExpected API key: test-api-key-12345[39m
    service: "credo-controller"
    correlationId: "352b5cbf-791c-4b13-a219-8bf649c51628"
[2026-02-01 15:57:33.753 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "352b5cbf-791c-4b13-a219-8bf649c51628"
    method: "POST"
    path: "/agent/token"
    status: 200
    duration: 29
    response: "{\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiUmVzdFJvb3RBZ2VudFdpdGhUZW5hbnRzIiwiaWF0IjoxNzY5OTU0MjUzfQ.z5MUpncnlVm_u9_oeB_NfhTB3MKn3sUb5ITsb0uFWKM\"}"
[2026-02-01 15:57:33.758 +0200] [34mDEBUG[39m: [36mAudit log recorded[39m
    service: "credo-controller"
    module: "AuditService"
    action: "api.post"
    id: "f48c4d2a-5476-4830-9b6a-5ea16abfd410"
[2026-02-01 15:57:33.777 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
    method: "POST"
    path: "/multi-tenancy/create-tenant"
    headers: {
      "host": "localhost:3000",
      "connection": "keep-alive",
      "content-length": "97",
      "sec-ch-ua-platform": "\"Windows\"",
      "authorization": "REDACTED",
      "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36 Edg/144.0.0.0",
      "accept": "application/json, text/plain, */*",
      "sec-ch-ua": "\"Not(A:Brand\";v=\"8\", \"Chromium\";v=\"144\", \"Microsoft Edge\";v=\"144\"",
      "content-type": "application/json",
      "sec-ch-ua-mobile": "?0",
      "origin": "http://localhost:5000",
      "sec-fetch-site": "same-site",
      "sec-fetch-mode": "cors",
      "sec-fetch-dest": "empty",
      "referer": "http://localhost:5000/",
      "accept-encoding": "gzip, deflate, br, zstd",
      "accept-language": "en-US,en;q=0.9,en-GB;q=0.8"
    }
    body: {
      "config": {
        "label": "Portal Default Tenant",
        "tenantType": "ORG"
      },
      "baseUrl": "http://localhost:3000"
    }
[2026-02-01 15:57:33.779 +0200] [32mINFO[39m: [36msecurityName::: jwt[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.780 +0200] [32mINFO[39m: [36mscopes::: Basewallet[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.786 +0200] [34mDEBUG[39m: [36mCreating tenant with label Portal Default Tenant[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.801 +0200] [34mDEBUG[39m: [36mGetting tenant agent for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.802 +0200] [34mDEBUG[39m: [36mdebug ========= Inside getAgentContextForContextCorrelationId[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.803 +0200] [34mDEBUG[39m: [36mdebug ========= Get tenantRecord from cache[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.804 +0200] [34mDEBUG[39m: [36mdebug ========= TenantRecord not found in cache[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.818 +0200] [34mDEBUG[39m: [36mdebug ========= Cached tenant agent context for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.819 +0200] [34mDEBUG[39m: [36mGetting context for session with tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.819 +0200] [34mDEBUG[39m: [36mAcquiring tenant session[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.820 +0200] [34mDEBUG[39m: [36mIncreasing current session count to 1 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.821 +0200] [34mDEBUG[39m: [36mAcquired tenant session (1 / 2147483647)[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.823 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to get context[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.823 +0200] [34mDEBUG[39m: [36mNo agent context has been initialized for tenant '6e3fa6d3-4415-470e-a860-053c80db8def', creating one[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.825 +0200] [32mINFO[39m: [36mInitializing wallet 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    storage: {
      "type": "sqlite"
    }
    id: "tenant-6e3fa6d3-4415-470e-a860-053c80db8def"
    key: "[*****]"
    keyDerivationMethod: "RAW"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.826 +0200] [34mDEBUG[39m: [36mOpening wallet for profile 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.830 +0200] [34mDEBUG[39m: [36mWallet for profile 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def' not found[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.832 +0200] [34mDEBUG[39m: [36mCreating wallet for profile 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.841 +0200] [34mDEBUG[39m: [36mSuccessfully created wallet for profile 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.841 +0200] [34mDEBUG[39m: [36mOpening wallet for profile 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.845 +0200] [34mDEBUG[39m: [36mSuccessfully opened wallet for profile 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.845 +0200] [34mDEBUG[39m: [36mSetting current agent storage version to 0.5[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[90m2026-02-01 13:57:33.877  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   undefined.constructor][39m Creating agent with config 
{
  [37magentConfig[39m: {
    [37mwalletConfig[39m: {
      [37mstorage[39m: {
        [37mtype[39m: [31m'sqlite'[39m,
        [37mcredentials[39m: [31mundefined[39m
      },
      [37mid[39m: [31m'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m,
      [37mkey[39m: [31m'[*****]'[39m,
      [37mkeyDerivationMethod[39m: [31m'RAW'[39m
    },
    [37mlabel[39m: [31m'Portal Default Tenant'[39m,
    [37mendpoints[39m: [
      [31m'http://127.0.0.1:3001'[39m
    ],
    [37mlogger[39m: [32m3[39m,
    [37mautoUpdateStorageOnStartup[39m: [33mtrue[39m,
    [37mbackupBeforeStorageUpdate[39m: [33mfalse[39m,
    [37mtenantType[39m: [31m'ORG'[39m,
    [37magentDependencies[39m: [33mtrue[39m
  }
}
[2026-02-01 15:57:33.864 +0200] [34mDEBUG[39m: [36mIncreased agent context session count for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to 1[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.865 +0200] [34mDEBUG[39m: [36mCreated tenant agent context for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.879 +0200] [32mINFO[39m: [36mCreating agent with config[39m
    service: "credo-controller"
    agentConfig: {
      "walletConfig": {
        "storage": {
          "type": "sqlite"
        },
        "id": "tenant-6e3fa6d3-4415-470e-a860-053c80db8def",
        "key": "[*****]",
        "keyDerivationMethod": "RAW"
      },
      "label": "Portal Default Tenant",
      "endpoints": [
        "http://127.0.0.1:3001"
      ],
      "logger": 3,
      "autoUpdateStorageOnStartup": true,
      "backupBeforeStorageUpdate": false,
      "tenantType": "ORG",
      "agentDependencies": true
    }
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[90m2026-02-01 13:57:33.891  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   initialize][39m Agent storage is up to date. 
[90m2026-02-01 13:57:33.907  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   TenantsApi.createTenant][39m Successfully created tenant '6e3fa6d3-4415-470e-a860-053c80db8def' 
[90m2026-02-01 13:57:33.917  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   WalletApi.initialize][39m Initializing wallet 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def' 
{
  [37mstorage[39m: {
    [37mtype[39m: [31m'sqlite'[39m,
    [37mcredentials[39m: [31mundefined[39m
  },
  [37mid[39m: [31m'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m,
  [37mkey[39m: [31m'[*****]'[39m,
  [37mkeyDerivationMethod[39m: [31m'RAW'[39m
}
[90m2026-02-01 13:57:33.929  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   undefined.constructor][39m Creating agent with config 
{
  [37magentConfig[39m: {
    [37mwalletConfig[39m: {
      [37mstorage[39m: {
        [37mtype[39m: [31m'sqlite'[39m,
        [37mcredentials[39m: [31mundefined[39m
      },
      [37mid[39m: [31m'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m,
      [37mkey[39m: [31m'[*****]'[39m,
      [37mkeyDerivationMethod[39m: [31m'RAW'[39m
    },
    [37mlabel[39m: [31m'Portal Default Tenant'[39m,
    [37mendpoints[39m: [
      [31m'http://127.0.0.1:3001'[39m
    ],
    [37mlogger[39m: [32m3[39m,
    [37mautoUpdateStorageOnStartup[39m: [33mtrue[39m,
    [37mbackupBeforeStorageUpdate[39m: [33mfalse[39m,
    [37mtenantType[39m: [31m'ORG'[39m,
    [37magentDependencies[39m: [33mtrue[39m
  }
}
[90m2026-02-01 13:57:33.940  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   initialize][39m Agent storage is up to date. 
[Provisioning] Tenant 6e3fa6d3-4415-470e-a860-053c80db8def type: ORG
[2026-02-01 15:57:33.892 +0200] [32mINFO[39m: [36mAgent storage is up to date.[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.896 +0200] [34mDEBUG[39m: [36mEnding session for agent context with contextCorrelationId 6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.897 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to end session context[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.898 +0200] [34mDEBUG[39m: [36mDecreased agent context session count for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to 0[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.899 +0200] [34mDEBUG[39m: [36mClosing agent context for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.900 +0200] [34mDEBUG[39m: [36mClosing wallet for profile tenant-6e3fa6d3-4415-470e-a860-053c80db8def[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.902 +0200] [34mDEBUG[39m: [36mReleasing tenant session[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.905 +0200] [34mDEBUG[39m: [36mDecreasing current sessions to 0 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.908 +0200] [32mINFO[39m: [36mSuccessfully created tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.909 +0200] [34mDEBUG[39m: [36mGetting tenant agent for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' in with tenant agent callback[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.910 +0200] [34mDEBUG[39m: [36mGetting tenant agent for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.910 +0200] [34mDEBUG[39m: [36mdebug ========= Inside getAgentContextForContextCorrelationId[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.910 +0200] [34mDEBUG[39m: [36mdebug ========= Get tenantRecord from cache[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.911 +0200] [34mDEBUG[39m: [36mGetting context for session with tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.911 +0200] [34mDEBUG[39m: [36mAcquiring tenant session[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.913 +0200] [34mDEBUG[39m: [36mIncreasing current session count to 1 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.913 +0200] [34mDEBUG[39m: [36mAcquired tenant session (1 / 2147483647)[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.915 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to get context[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.916 +0200] [34mDEBUG[39m: [36mNo agent context has been initialized for tenant '6e3fa6d3-4415-470e-a860-053c80db8def', creating one[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.921 +0200] [32mINFO[39m: [36mInitializing wallet 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    storage: {
      "type": "sqlite"
    }
    id: "tenant-6e3fa6d3-4415-470e-a860-053c80db8def"
    key: "[*****]"
    keyDerivationMethod: "RAW"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.923 +0200] [34mDEBUG[39m: [36mOpening wallet for profile 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.927 +0200] [34mDEBUG[39m: [36mSuccessfully opened wallet for profile 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.928 +0200] [34mDEBUG[39m: [36mIncreased agent context session count for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to 1[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.928 +0200] [34mDEBUG[39m: [36mCreated tenant agent context for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.930 +0200] [32mINFO[39m: [36mCreating agent with config[39m
    service: "credo-controller"
    agentConfig: {
      "walletConfig": {
        "storage": {
          "type": "sqlite"
        },
        "id": "tenant-6e3fa6d3-4415-470e-a860-053c80db8def",
        "key": "[*****]",
        "keyDerivationMethod": "RAW"
      },
      "label": "Portal Default Tenant",
      "endpoints": [
        "http://127.0.0.1:3001"
      ],
      "logger": 3,
      "autoUpdateStorageOnStartup": true,
      "backupBeforeStorageUpdate": false,
      "tenantType": "ORG",
      "agentDependencies": true
    }
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.940 +0200] [32mINFO[39m: [36mAgent storage is up to date.[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.943 +0200] [34mDEBUG[39m: [36mCalling tenant agent callback for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.944 +0200] [34mDEBUG[39m: [36mcreating did key[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.970 +0200] [34mDEBUG[39m: [36mcreating did key[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[ModelRegistry] Starting registration for tenant 6e3fa6d3-4415-470e-a860-053c80db8def
[90m2026-02-01 13:57:34.015  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   undefined.constructor][39m Creating agent with config 
{
  [37magentConfig[39m: {
    [37mwalletConfig[39m: {
      [37mstorage[39m: {
        [37mtype[39m: [31m'sqlite'[39m,
        [37mcredentials[39m: [31mundefined[39m
      },
      [37mid[39m: [31m'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m,
      [37mkey[39m: [31m'[*****]'[39m,
      [37mkeyDerivationMethod[39m: [31m'RAW'[39m
    },
    [37mlabel[39m: [31m'Portal Default Tenant'[39m,
    [37mendpoints[39m: [
      [31m'http://127.0.0.1:3001'[39m
    ],
    [37mlogger[39m: [32m3[39m,
    [37mautoUpdateStorageOnStartup[39m: [33mtrue[39m,
    [37mbackupBeforeStorageUpdate[39m: [33mfalse[39m,
    [37mtenantType[39m: [31m'ORG'[39m,
    [37magentDependencies[39m: [33mtrue[39m
  }
}
[90m2026-02-01 13:57:34.022  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   initialize][39m Agent storage is up to date. 
[ModelRegistry] Acquired tenant agent for 6e3fa6d3-4415-470e-a860-053c80db8def
[2026-02-01 15:57:33.995 +0200] [34mDEBUG[39m: [36mGetting tenant agent for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' in with tenant agent callback[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.996 +0200] [34mDEBUG[39m: [36mGetting tenant agent for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.997 +0200] [34mDEBUG[39m: [36mdebug ========= Inside getAgentContextForContextCorrelationId[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.997 +0200] [34mDEBUG[39m: [36mdebug ========= Get tenantRecord from cache[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:33.998 +0200] [34mDEBUG[39m: [36mGetting context for session with tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.000 +0200] [34mDEBUG[39m: [36mAcquiring tenant session[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.001 +0200] [34mDEBUG[39m: [36mIncreasing current session count to 2 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.001 +0200] [34mDEBUG[39m: [36mAcquired tenant session (2 / 2147483647)[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.002 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to get context[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.002 +0200] [34mDEBUG[39m: [36mIncreased agent context session count for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to 2[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.002 +0200] [34mDEBUG[39m: [36mCreated tenant agent context for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.015 +0200] [32mINFO[39m: [36mCreating agent with config[39m
    service: "credo-controller"
    agentConfig: {
      "walletConfig": {
        "storage": {
          "type": "sqlite"
        },
        "id": "tenant-6e3fa6d3-4415-470e-a860-053c80db8def",
        "key": "[*****]",
        "keyDerivationMethod": "RAW"
      },
      "label": "Portal Default Tenant",
      "endpoints": [
        "http://127.0.0.1:3001"
      ],
      "logger": 3,
      "autoUpdateStorageOnStartup": true,
      "backupBeforeStorageUpdate": false,
      "tenantType": "ORG",
      "agentDependencies": true
    }
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[ModelRegistry] Registered schema PaymentReceipt@1.0.0: 2c87eabe-26da-42a0-b099-9d825a8e4587
unknown format "date-time" ignored in schema at path "#/properties/credentialSubject/properties/issuedAt"
unknown format "date-time" ignored in schema at path "#/properties/credentialSubject/properties/issuedAt"
[ModelRegistry] Registered schema GenericIDCredential@1.0.0: 253df91c-21dd-4063-9e14-077ac15e69bb
[ModelRegistry] Registered schema CartSnapshotVC@1.0.0: 15001953-a52f-47aa-8350-e5269844055b
unknown format "date-time" ignored in schema at path "#/properties/credentialSubject/properties/dueDate"
unknown format "date-time" ignored in schema at path "#/properties/credentialSubject/properties/dueDate"
[ModelRegistry] Registered schema InvoiceVC@1.0.0: f3fbde02-53f3-4397-a189-3c00d6f7f66e
unknown format "date-time" ignored in schema at path "#/properties/credentialSubject/properties/timestamp"
unknown format "date-time" ignored in schema at path "#/properties/credentialSubject/properties/timestamp"
[ModelRegistry] Registered schema ReceiptVC@1.0.0: 8dadfa06-70c7-4321-8a0c-30133c12b197
unknown format "date-time" ignored in schema at path "#/properties/credentialSubject/properties/createdAt"
unknown format "date-time" ignored in schema at path "#/properties/credentialSubject/properties/createdAt"
[ModelRegistry] Registered schema CatalogItemVC@1.0.0: 0a786122-cd46-4248-915f-eae3e9ee281f
unknown format "date" ignored in schema at path "#/properties/credentialSubject/properties/encounters/items/properties/date"
unknown format "date" ignored in schema at path "#/properties/credentialSubject/properties/encounters/items/properties/date"
[ModelRegistry] Registered schema EHRSummary@1.0.0: b19a8e78-47e6-420b-b95a-555f65d2e06d
[ModelRegistry] Registered CredDef CartSnapshotVC with ID 1e202b81-1725-41e8-8e78-ff103073ec5f
[ModelRegistry] Registered CredDef InvoiceVC with ID b68f32ef-d133-46bd-84af-cfd2c2f3e974
[ModelRegistry] Registered CredDef ReceiptVC with ID f20e318f-643b-4e13-bf6a-30f569300722
[ModelRegistry] Registered CredDef CatalogItemVC with ID db23263e-8370-418f-894f-cc6c4d69e060
unknown format "date" ignored in schema at path "#/properties/credentialSubject/properties/awardDate"
unknown format "date" ignored in schema at path "#/properties/credentialSubject/properties/awardDate"
[ModelRegistry] Registered schema OpenBadge@3.0.0: 39208a06-336f-417d-ab06-d8ed69439472
unknown format "date-time" ignored in schema at path "#/properties/credentialSubject/properties/lastUpdated"
unknown format "date-time" ignored in schema at path "#/properties/credentialSubject/properties/lastUpdated"
[ModelRegistry] Registered schema MdocHealthSummary@0.1.0: 22532c75-df10-446f-8b9c-0b381a24b067
[ModelRegistry] Registered CredDef EHRSummary with ID a18ac00b-b74b-452f-994b-f114871e17a5
[ModelRegistry] Registered CredDef OpenBadge with ID 304fff12-a5b8-4935-8937-607db5e0bbcb
[ModelRegistry] Registered CredDef MdocHealthSummary with ID 77eebef3-7ee0-4637-818a-f79691395fb8
[ModelRegistry] Registered CredDef PaymentReceipt with ID 84b52025-e340-46a3-bb01-985e96a2ccbe
[ModelRegistry] Registered CredDef GenericIDCredential with ID cb801e97-6830-4a8a-9cf1-065129cc32c6
unknown format "date-time" ignored in schema at path "#/properties/credentialSubject/properties/startDate"
unknown format "date-time" ignored in schema at path "#/properties/credentialSubject/properties/startDate"
[ModelRegistry] Registered schema EmploymentContractVC@1.0.0: 1482cade-d9dc-43e0-9574-55d6904c93e3
[ModelRegistry] Registered CredDef EmploymentContractVC with ID 1e94e6c6-c443-4fa8-b9ca-c7c6facc01ce
[Provisioning] Default models registered for ORG tenant 6e3fa6d3-4415-470e-a860-053c80db8def
[Provisioning] Created new native OpenID4VC issuer for tenant 6e3fa6d3-4415-470e-a860-053c80db8def
[Provisioning] Created new native OpenID4VC verifier for tenant 6e3fa6d3-4415-470e-a860-053c80db8def
[IssuerMetadataCache] Cached metadata for http://127.0.0.1:3000
[2026-02-01 15:57:34.026 +0200] [32mINFO[39m: [36mAgent storage is up to date.[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.027 +0200] [34mDEBUG[39m: [36mCalling tenant agent callback for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.196 +0200] [34mDEBUG[39m: [36mEnding tenant agent session for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.197 +0200] [34mDEBUG[39m: [36mEnding session for agent context with contextCorrelationId 6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.198 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to end session context[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.198 +0200] [34mDEBUG[39m: [36mDecreased agent context session count for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to 1[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.198 +0200] [34mDEBUG[39m: [36mReleasing tenant session[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.198 +0200] [34mDEBUG[39m: [36mDecreasing current sessions to 1 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.218 +0200] [34mDEBUG[39m: [36mGetting tenant by id '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.244 +0200] [34mDEBUG[39m: [36mGetting tenant by id '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.284 +0200] [34mDEBUG[39m: [36mEnding tenant agent session for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.285 +0200] [34mDEBUG[39m: [36mEnding session for agent context with contextCorrelationId 6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.286 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to end session context[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.286 +0200] [34mDEBUG[39m: [36mDecreased agent context session count for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to 0[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.287 +0200] [34mDEBUG[39m: [36mClosing agent context for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.289 +0200] [34mDEBUG[39m: [36mClosing wallet for profile tenant-6e3fa6d3-4415-470e-a860-053c80db8def[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.290 +0200] [34mDEBUG[39m: [36mReleasing tenant session[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.291 +0200] [34mDEBUG[39m: [36mDecreasing current sessions to 0 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
[2026-02-01 15:57:34.304 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "8e28e319-d40f-47e7-8daf-880e78abc2f1"
    method: "POST"
    path: "/multi-tenancy/create-tenant"
    status: 200
    duration: 527
    response: "{\"_tags\":{},\"metadata\":{\"issuer\":{\"credential_issuer\":\"http://localhost:3000/tenants/6e3fa6d3-4415-470e-a860-053c80db8def\",\"issuer\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"credential_endpoint\":\"http://localhost:3000/oidc/token\",\"token_endpoint\":\"http://localhost:3000/oidc/token\",\"credential_configurations_supported\":{\"EmploymentContractVC_jwt_vc\":{\"format\":\"jwt_vc\",\"scope\":\"EmploymentContractVC\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"EmploymentContractVC\"]},\"display\":[{\"name\":\"EmploymentContractVC\",\"locale\":\"en-US\"}]},\"EmploymentContractVC_jwt_vc_json\":{\"format\":\"jwt_vc_json\",\"scope\":\"EmploymentContractVC\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"EmploymentContractVC\"]},\"display\":[{\"name\":\"EmploymentContractVC\",\"locale\":\"en-US\"}]},\"GenericIDCredential_jwt_vc\":{\"format\":\"jwt_vc\",\"scope\":\"GenericIDCredential\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"GenericIDCredential\"]},\"display\":[{\"name\":\"GenericIDCredential\",\"locale\":\"en-US\"}]},\"GenericIDCredential_jwt_vc_json\":{\"format\":\"jwt_vc_json\",\"scope\":\"GenericIDCredential\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"GenericIDCredential\"]},\"display\":[{\"name\":\"GenericIDCredential\",\"locale\":\"en-US\"}]},\"OpenBadge_jwt_vc\":{\"format\":\"jwt_vc\",\"scope\":\"OpenBadge\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"OpenBadgeCredential\"]},\"display\":[{\"name\":\"OpenBadge\",\"locale\":\"en-US\"}]},\"OpenBadgeCredential_jwt_vc\":{\"format\":\"jwt_vc\",\"scope\":\"OpenBadgeCredential\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"OpenBadgeCredential\"]},\"display\":[{\"name\":\"OpenBadgeCredential\",\"locale\":\"en-US\"}]},\"OpenBadge_jwt_vc_json\":{\"format\":\"jwt_vc_json\",\"scope\":\"OpenBadge\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"OpenBadgeCredential\"]},\"display\":[{\"name\":\"OpenBadge\",\"locale\":\"en-US\"}]},\"OpenBadgeCredential_jwt_vc_json\":{\"format\":\"jwt_vc_json\",\"scope\":\"OpenBadgeCredential\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"OpenBadgeCredential\"]},\"display\":[{\"name\":\"OpenBadgeCredential\",\"locale\":\"en-US\"}]},\"MdocHealthSummary_jwt_vc\":{\"format\":\"jwt_vc\",\"scope\":\"MdocHealthSummary\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"MdocHealthSummary\"]},\"display\":[{\"name\":\"MdocHealthSummary\",\"locale\":\"en-US\"}]},\"MdocHealthSummary_jwt_vc_json\":{\"format\":\"jwt_vc_json\",\"scope\":\"MdocHealthSummary\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"MdocHealthSummary\"]},\"display\":[{\"name\":\"MdocHealthSummary\",\"locale\":\"en-US\"}]},\"PaymentReceipt_jwt_vc\":{\"format\":\"jwt_vc\",\"scope\":\"PaymentReceipt\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"PaymentReceipt\"]},\"display\":[{\"name\":\"PaymentReceipt\",\"locale\":\"en-US\"}]},\"PaymentReceipt_jwt_vc_json\":{\"format\":\"jwt_vc_json\",\"scope\":\"PaymentReceipt\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"PaymentReceipt\"]},\"display\":[{\"name\":\"PaymentReceipt\",\"locale\":\"en-US\"}]},\"EHRSummary_jwt_vc\":{\"format\":\"jwt_vc\",\"scope\":\"EHRSummary\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"EHRSummary\"]},\"display\":[{\"name\":\"EHRSummary\",\"locale\":\"en-US\"}]},\"EHRSummary_jwt_vc_json\":{\"format\":\"jwt_vc_json\",\"scope\":\"EHRSummary\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"EHRSummary\"]},\"display\":[{\"name\":\"EHRSummary\",\"locale\":\"en-US\"}]},\"CatalogItemVC_jwt_vc\":{\"format\":\"jwt_vc\",\"scope\":\"CatalogItemVC\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"CatalogItemVC\"]},\"display\":[{\"name\":\"CatalogItemVC\",\"locale\":\"en-US\"}]},\"CatalogItemVC_jwt_vc_json\":{\"format\":\"jwt_vc_json\",\"scope\":\"CatalogItemVC\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"CatalogItemVC\"]},\"display\":[{\"name\":\"CatalogItemVC\",\"locale\":\"en-US\"}]},\"InvoiceVC_jwt_vc\":{\"format\":\"jwt_vc\",\"scope\":\"InvoiceVC\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"InvoiceVC\"]},\"display\":[{\"name\":\"InvoiceVC\",\"locale\":\"en-US\"}]},\"InvoiceVC_jwt_vc_json\":{\"format\":\"jwt_vc_json\",\"scope\":\"InvoiceVC\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"InvoiceVC\"]},\"display\":[{\"name\":\"InvoiceVC\",\"locale\":\"en-US\"}]},\"ReceiptVC_jwt_vc\":{\"format\":\"jwt_vc\",\"scope\":\"ReceiptVC\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"ReceiptVC\"]},\"display\":[{\"name\":\"ReceiptVC\",\"locale\":\"en-US\"}]},\"ReceiptVC_jwt_vc_json\":{\"format\":\"jwt_vc_json\",\"scope\":\"ReceiptVC\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"ReceiptVC\"]},\"display\":[{\"name\":\"ReceiptVC\",\"locale\":\"en-US\"}]},\"CartSnapshotVC_jwt_vc\":{\"format\":\"jwt_vc\",\"scope\":\"CartSnapshotVC\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"CartSnapshotVC\"]},\"display\":[{\"name\":\"CartSnapshotVC\",\"locale\":\"en-US\"}]},\"CartSnapshotVC_jwt_vc_json\":{\"format\":\"jwt_vc_json\",\"scope\":\"CartSnapshotVC\",\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"credential_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"],\"proof_types_supported\":{\"jwt\":{\"proof_signing_alg_values_supported\":[\"EdDSA\",\"ES256\"]}},\"credential_definition\":{\"type\":[\"VerifiableCredential\",\"CartSnapshotVC\"]},\"display\":[{\"name\":\"CartSnapshotVC\",\"locale\":\"en-US\"}]}},\"credentials_supported\":[{\"id\":\"EmploymentContractVC_jwt_vc\",\"format\":\"jwt_vc\",\"types\":[\"VerifiableCredential\",\"EmploymentContractVC\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"EmploymentContractVC\"}]},{\"id\":\"EmploymentContractVC_jwt_vc_json\",\"format\":\"jwt_vc_json\",\"types\":[\"VerifiableCredential\",\"EmploymentContractVC\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"EmploymentContractVC\"}]},{\"id\":\"GenericIDCredential_jwt_vc\",\"format\":\"jwt_vc\",\"types\":[\"VerifiableCredential\",\"GenericIDCredential\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"GenericIDCredential\"}]},{\"id\":\"GenericIDCredential_jwt_vc_json\",\"format\":\"jwt_vc_json\",\"types\":[\"VerifiableCredential\",\"GenericIDCredential\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"GenericIDCredential\"}]},{\"id\":\"OpenBadge_jwt_vc\",\"format\":\"jwt_vc\",\"types\":[\"VerifiableCredential\",\"OpenBadgeCredential\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"OpenBadge\"}]},{\"id\":\"OpenBadgeCredential_jwt_vc\",\"format\":\"jwt_vc\",\"types\":[\"VerifiableCredential\",\"OpenBadgeCredential\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"OpenBadgeCredential\"}]},{\"id\":\"OpenBadge_jwt_vc_json\",\"format\":\"jwt_vc_json\",\"types\":[\"VerifiableCredential\",\"OpenBadgeCredential\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"OpenBadge\"}]},{\"id\":\"OpenBadgeCredential_jwt_vc_json\",\"format\":\"jwt_vc_json\",\"types\":[\"VerifiableCredential\",\"OpenBadgeCredential\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"OpenBadgeCredential\"}]},{\"id\":\"MdocHealthSummary_jwt_vc\",\"format\":\"jwt_vc\",\"types\":[\"VerifiableCredential\",\"MdocHealthSummary\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"MdocHealthSummary\"}]},{\"id\":\"MdocHealthSummary_jwt_vc_json\",\"format\":\"jwt_vc_json\",\"types\":[\"VerifiableCredential\",\"MdocHealthSummary\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"MdocHealthSummary\"}]},{\"id\":\"PaymentReceipt_jwt_vc\",\"format\":\"jwt_vc\",\"types\":[\"VerifiableCredential\",\"PaymentReceipt\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"PaymentReceipt\"}]},{\"id\":\"PaymentReceipt_jwt_vc_json\",\"format\":\"jwt_vc_json\",\"types\":[\"VerifiableCredential\",\"PaymentReceipt\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"PaymentReceipt\"}]},{\"id\":\"EHRSummary_jwt_vc\",\"format\":\"jwt_vc\",\"types\":[\"VerifiableCredential\",\"EHRSummary\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"EHRSummary\"}]},{\"id\":\"EHRSummary_jwt_vc_json\",\"format\":\"jwt_vc_json\",\"types\":[\"VerifiableCredential\",\"EHRSummary\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"EHRSummary\"}]},{\"id\":\"CatalogItemVC_jwt_vc\",\"format\":\"jwt_vc\",\"types\":[\"VerifiableCredential\",\"CatalogItemVC\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"CatalogItemVC\"}]},{\"id\":\"CatalogItemVC_jwt_vc_json\",\"format\":\"jwt_vc_json\",\"types\":[\"VerifiableCredential\",\"CatalogItemVC\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"CatalogItemVC\"}]},{\"id\":\"InvoiceVC_jwt_vc\",\"format\":\"jwt_vc\",\"types\":[\"VerifiableCredential\",\"InvoiceVC\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"InvoiceVC\"}]},{\"id\":\"InvoiceVC_jwt_vc_json\",\"format\":\"jwt_vc_json\",\"types\":[\"VerifiableCredential\",\"InvoiceVC\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"InvoiceVC\"}]},{\"id\":\"ReceiptVC_jwt_vc\",\"format\":\"jwt_vc\",\"types\":[\"VerifiableCredential\",\"ReceiptVC\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"ReceiptVC\"}]},{\"id\":\"ReceiptVC_jwt_vc_json\",\"format\":\"jwt_vc_json\",\"types\":[\"VerifiableCredential\",\"ReceiptVC\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"ReceiptVC\"}]},{\"id\":\"CartSnapshotVC_jwt_vc\",\"format\":\"jwt_vc\",\"types\":[\"VerifiableCredential\",\"CartSnapshotVC\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"CartSnapshotVC\"}]},{\"id\":\"CartSnapshotVC_jwt_vc_json\",\"format\":\"jwt_vc_json\",\"types\":[\"VerifiableCredential\",\"CartSnapshotVC\"],\"cryptographic_binding_methods_supported\":[\"did:key\",\"did:web\",\"did:jwk\"],\"cryptographic_suites_supported\":[\"EdDSA\",\"ES256\"],\"display\":[{\"name\":\"CartSnapshotVC\"}]}],\"display\":[{\"name\":\"Portal Default Tenant\",\"description\":\"Portal Default Tenant OpenID endpoints\",\"locale\":\"en-US\"}]},\"verifier\":{\"issuer\":\"did:key:z6Mkvmy8iUBUGgZGiHBej4KQxpz73tPD9sq6nNKPzSRx6Byu\",\"presentation_endpoint\":\"http://localhost:3000/oidc/verifier/verify\",\"display\":[{\"name\":\"Portal Default Tenant\",\"description\":\"Portal Default Tenant OpenID endpoints\",\"locale\":\"en-US\"}]}},\"storageVersion\":\"0.5\",\"id\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"createdAt\":\"2026-02-01T13:57:33.787Z\",\"config\":{\"label\":\"Portal Default Tenant\",\"tenantType\":\"ORG\",\"walletConfig\":{\"id\":\"tenant-6e3fa6d3-4415-470e-a860-053c80db8def\",\"key\":\"7nhgzbehmpbFAk9V7Lg7mwpU9GKQ4K6on6fU4H5rCwYd\",\"keyDerivationMethod\":\"RAW\"}},\"updatedAt\":\"2026-02-01T13:57:33.787Z\",\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiUmVzdFRlbmFudEFnZW50IiwidGVuYW50SWQiOiI2ZTNmYTZkMy00NDE1LTQ3MGUtYTg2MC0wNTNjODBkYjhkZWYiLCJpYXQiOjE3Njk5NTQyNTR9.72oNliLmZy6kLTBbPQM26IfNtVgmFDIXt9ogPnQCpTM\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"label\":\"Portal Default Tenant\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"issuerKid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6#z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"verifierDid\":\"did:key:z6Mkvmy8iUBUGgZGiHBej4KQxpz73tPD9sq6nNKPzSRx6Byu\",\"verifierKid\":\"did:key:z6Mkvmy8iUBUGgZGiHBej4KQxpz73tPD9sq6nNKPzSRx6Byu#z6Mkvmy8iUBUGgZGiHBej4KQxpz73tPD9sq6nNKPzSRx6Byu\",\"askarProfile\":\"tenant-6e3fa6d3-4415-470e-a860-053c80db8def\"}"
[2026-02-01 15:57:34.305 +0200] [34mDEBUG[39m: [36mAudit log recorded[39m
    service: "credo-controller"
    module: "AuditService"
    action: "tenant.created"
    id: "eea3015a-4066-4060-82fb-8153297f6ce7"
[90m2026-02-01 13:57:34.321  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:66  expressAuthentication][39m securityName::: jwt 
[90m2026-02-01 13:57:34.321  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:67  expressAuthentication][39m scopes::: tenant 
[90m2026-02-01 13:57:34.329  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   WalletApi.initialize][39m Initializing wallet 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def' 
{
  [37mstorage[39m: {
    [37mtype[39m: [31m'sqlite'[39m,
    [37mcredentials[39m: [31mundefined[39m
  },
  [37mid[39m: [31m'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m,
  [37mkey[39m: [31m'[*****]'[39m,
  [37mkeyDerivationMethod[39m: [31m'RAW'[39m
}
[90m2026-02-01 13:57:34.334  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   undefined.constructor][39m Creating agent with config 
{
  [37magentConfig[39m: {
    [37mwalletConfig[39m: {
      [37mstorage[39m: {
        [37mtype[39m: [31m'sqlite'[39m,
        [37mcredentials[39m: [31mundefined[39m
      },
      [37mid[39m: [31m'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m,
      [37mkey[39m: [31m'[*****]'[39m,
      [37mkeyDerivationMethod[39m: [31m'RAW'[39m
    },
    [37mlabel[39m: [31m'Portal Default Tenant'[39m,
    [37mendpoints[39m: [
      [31m'http://127.0.0.1:3001'[39m
    ],
    [37mlogger[39m: [32m3[39m,
    [37mautoUpdateStorageOnStartup[39m: [33mtrue[39m,
    [37mbackupBeforeStorageUpdate[39m: [33mfalse[39m,
    [37mtenantType[39m: [31m'ORG'[39m,
    [37magentDependencies[39m: [33mtrue[39m
  }
}
[90m2026-02-01 13:57:34.343  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   initialize][39m Agent storage is up to date. 
[2026-02-01 15:57:34.319 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
    method: "GET"
    path: "/oidc/credential-definitions"
    headers: {
      "host": "localhost:3000",
      "connection": "keep-alive",
      "sec-ch-ua-platform": "\"Windows\"",
      "authorization": "REDACTED",
      "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36 Edg/144.0.0.0",
      "accept": "application/json, text/plain, */*",
      "sec-ch-ua": "\"Not(A:Brand\";v=\"8\", \"Chromium\";v=\"144\", \"Microsoft Edge\";v=\"144\"",
      "sec-ch-ua-mobile": "?0",
      "origin": "http://localhost:5000",
      "sec-fetch-site": "same-site",
      "sec-fetch-mode": "cors",
      "sec-fetch-dest": "empty",
      "referer": "http://localhost:5000/",
      "accept-encoding": "gzip, deflate, br, zstd",
      "accept-language": "en-US,en;q=0.9,en-GB;q=0.8",
      "if-none-match": "W/\"1636-tA44I6xK5Rov68Me0jDATwEyHZI\""
    }
[2026-02-01 15:57:34.321 +0200] [32mINFO[39m: [36msecurityName::: jwt[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.322 +0200] [32mINFO[39m: [36mscopes::: tenant[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.324 +0200] [34mDEBUG[39m: [36mGetting tenant agent for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.324 +0200] [34mDEBUG[39m: [36mdebug ========= Inside getAgentContextForContextCorrelationId[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.325 +0200] [34mDEBUG[39m: [36mdebug ========= Get tenantRecord from cache[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.325 +0200] [34mDEBUG[39m: [36mGetting context for session with tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.326 +0200] [34mDEBUG[39m: [36mAcquiring tenant session[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.327 +0200] [34mDEBUG[39m: [36mIncreasing current session count to 1 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.327 +0200] [34mDEBUG[39m: [36mAcquired tenant session (1 / 2147483647)[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.328 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to get context[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.328 +0200] [34mDEBUG[39m: [36mNo agent context has been initialized for tenant '6e3fa6d3-4415-470e-a860-053c80db8def', creating one[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.329 +0200] [32mINFO[39m: [36mInitializing wallet 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    storage: {
      "type": "sqlite"
    }
    id: "tenant-6e3fa6d3-4415-470e-a860-053c80db8def"
    key: "[*****]"
    keyDerivationMethod: "RAW"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.330 +0200] [34mDEBUG[39m: [36mOpening wallet for profile 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.332 +0200] [34mDEBUG[39m: [36mSuccessfully opened wallet for profile 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.332 +0200] [34mDEBUG[39m: [36mIncreased agent context session count for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to 1[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.333 +0200] [34mDEBUG[39m: [36mCreated tenant agent context for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.334 +0200] [32mINFO[39m: [36mCreating agent with config[39m
    service: "credo-controller"
    agentConfig: {
      "walletConfig": {
        "storage": {
          "type": "sqlite"
        },
        "id": "tenant-6e3fa6d3-4415-470e-a860-053c80db8def",
        "key": "[*****]",
        "keyDerivationMethod": "RAW"
      },
      "label": "Portal Default Tenant",
      "endpoints": [
        "http://127.0.0.1:3001"
      ],
      "logger": 3,
      "autoUpdateStorageOnStartup": true,
      "backupBeforeStorageUpdate": false,
      "tenantType": "ORG",
      "agentDependencies": true
    }
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.343 +0200] [32mINFO[39m: [36mAgent storage is up to date.[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.346 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
    method: "GET"
    path: "/oidc/credential-definitions"
    status: 200
    duration: 27
    response: "[{\"credentialDefinitionId\":\"1e94e6c6-c443-4fa8-b9ca-c7c6facc01ce\",\"schemaId\":\"1482cade-d9dc-43e0-9574-55d6904c93e3\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.195Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"EmploymentContractVC\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"EmploymentContractVC\"],\"claimsTemplate\":{\"credentialSubject\":{\"employeeId\":\"EMP-001\",\"name\":\"John Doe\",\"role\":\"Software Engineer\",\"department\":\"Engineering\",\"employer\":\"Credo Demo Corp\",\"startDate\":\"2026-02-01T13:57:34.195Z\",\"contractType\":\"Full-time\"}},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"cb801e97-6830-4a8a-9cf1-065129cc32c6\",\"schemaId\":\"253df91c-21dd-4063-9e14-077ac15e69bb\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.190Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"GenericIDCredential\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"GenericIDCredential\"],\"claimsTemplate\":{\"credentialSubject\":{\"fullName\":\"Seed User\",\"identifier\":\"SEED-ID-1\",\"issuedAt\":\"2026-02-01T13:57:34.190Z\"}},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"304fff12-a5b8-4935-8937-607db5e0bbcb\",\"schemaId\":\"39208a06-336f-417d-ab06-d8ed69439472\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.189Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"OpenBadge\",\"version\":\"3.0.0\",\"credentialType\":[\"VerifiableCredential\",\"OpenBadgeCredential\"],\"claimsTemplate\":{\"credentialSubject\":{\"id\":\"did:example:learner123\",\"badgeClass\":\"Blockchain Fundamentals\",\"awardDate\":\"2026-02-01\",\"criteriaUrl\":\"https://example.org/badges/blockchain-fundamentals\"}},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"77eebef3-7ee0-4637-818a-f79691395fb8\",\"schemaId\":\"22532c75-df10-446f-8b9c-0b381a24b067\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.189Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"MdocHealthSummary\",\"version\":\"0.1.0\",\"credentialType\":[\"VerifiableCredential\",\"MdocHealthSummary\"],\"claimsTemplate\":{\"credentialSubject\":{\"patientId\":\"PAT-123\",\"conditions\":[\"hypertension\"],\"lastUpdated\":\"2026-02-01T13:57:34.189Z\"}},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"84b52025-e340-46a3-bb01-985e96a2ccbe\",\"schemaId\":\"2c87eabe-26da-42a0-b099-9d825a8e4587\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.189Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"PaymentReceipt\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"PaymentReceipt\"],\"claimsTemplate\":{\"credentialSubject\":{\"transactionId\":\"TX-SEED-0001\",\"amount\":\"42.00\",\"currency\":\"USD\",\"merchant\":\"SeedMerchant\"}},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"a18ac00b-b74b-452f-994b-f114871e17a5\",\"schemaId\":\"b19a8e78-47e6-420b-b95a-555f65d2e06d\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.188Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"EHRSummary\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"EHRSummary\"],\"claimsTemplate\":{\"credentialSubject\":{\"patientId\":\"PAT-123\",\"encounters\":[{\"date\":\"2025-01-01\",\"type\":\"Consultation\",\"notes\":\"Routine check\"}]}},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"db23263e-8370-418f-894f-cc6c4d69e060\",\"schemaId\":\"0a786122-cd46-4248-915f-eae3e9ee281f\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.182Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"CatalogItemVC\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"CatalogItemVC\"],\"claimsTemplate\":{},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"b68f32ef-d133-46bd-84af-cfd2c2f3e974\",\"schemaId\":\"f3fbde02-53f3-4397-a189-3c00d6f7f66e\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.181Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"InvoiceVC\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"InvoiceVC\"],\"claimsTemplate\":{},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"f20e318f-643b-4e13-bf6a-30f569300722\",\"schemaId\":\"8dadfa06-70c7-4321-8a0c-30133c12b197\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.181Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"ReceiptVC\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"ReceiptVC\"],\"claimsTemplate\":{},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"1e202b81-1725-41e8-8e78-ff103073ec5f\",\"schemaId\":\"15001953-a52f-47aa-8350-e5269844055b\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.179Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"CartSnapshotVC\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"CartSnapshotVC\"],\"claimsTemplate\":{},\"format\":\"jwt_vc_json\"}]"
[2026-02-01 15:57:34.346 +0200] [34mDEBUG[39m: [36mEnding tenant session for tenant:: 6e3fa6d3-4415-470e-a860-053c80db8def[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.351 +0200] [34mDEBUG[39m: [36mEnding session for agent context with contextCorrelationId 6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.353 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to end session context[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.353 +0200] [34mDEBUG[39m: [36mDecreased agent context session count for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to 0[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.353 +0200] [34mDEBUG[39m: [36mClosing agent context for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.354 +0200] [34mDEBUG[39m: [36mClosing wallet for profile tenant-6e3fa6d3-4415-470e-a860-053c80db8def[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.354 +0200] [34mDEBUG[39m: [36mReleasing tenant session[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
[2026-02-01 15:57:34.355 +0200] [34mDEBUG[39m: [36mDecreasing current sessions to 0 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "7763022e-ff7c-4b6e-bd54-412118bac015"
{"stack":"Error: connect ECONNREFUSED 127.0.0.1:4318\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)\n    at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)","message":"connect ECONNREFUSED 127.0.0.1:4318","errno":"-111","code":"ECONNREFUSED","syscall":"connect","address":"127.0.0.1","port":"4318","name":"Error","toJSON":"function () {\n                    return Object.getOwnPropertyNames(this).reduce((alt, key) => {\n                        alt[key] = this[key];\n                        return alt;\n                    }, {});\n                }"}
{"stack":"Error: connect ECONNREFUSED 127.0.0.1:4318\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)\n    at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)","message":"connect ECONNREFUSED 127.0.0.1:4318","errno":"-111","code":"ECONNREFUSED","syscall":"connect","address":"127.0.0.1","port":"4318","name":"Error","toJSON":"function () {\n                    return Object.getOwnPropertyNames(this).reduce((alt, key) => {\n                        alt[key] = this[key];\n                        return alt;\n                    }, {});\n                }"}
[90m2026-02-01 13:57:52.544  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:66  expressAuthentication][39m securityName::: jwt 
[90m2026-02-01 13:57:52.546  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:67  expressAuthentication][39m scopes::: tenant,dedicated,Basewallet 
[90m2026-02-01 13:57:52.555  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   WalletApi.initialize][39m Initializing wallet 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def' 
{
  [37mstorage[39m: {
    [37mtype[39m: [31m'sqlite'[39m,
    [37mcredentials[39m: [31mundefined[39m
  },
  [37mid[39m: [31m'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m,
  [37mkey[39m: [31m'[*****]'[39m,
  [37mkeyDerivationMethod[39m: [31m'RAW'[39m
}
[90m2026-02-01 13:57:52.564  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   undefined.constructor][39m Creating agent with config 
{
  [37magentConfig[39m: {
    [37mwalletConfig[39m: {
      [37mstorage[39m: {
        [37mtype[39m: [31m'sqlite'[39m,
        [37mcredentials[39m: [31mundefined[39m
      },
      [37mid[39m: [31m'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m,
      [37mkey[39m: [31m'[*****]'[39m,
      [37mkeyDerivationMethod[39m: [31m'RAW'[39m
    },
    [37mlabel[39m: [31m'Portal Default Tenant'[39m,
    [37mendpoints[39m: [
      [31m'http://127.0.0.1:3001'[39m
    ],
    [37mlogger[39m: [32m3[39m,
    [37mautoUpdateStorageOnStartup[39m: [33mtrue[39m,
    [37mbackupBeforeStorageUpdate[39m: [33mfalse[39m,
    [37mtenantType[39m: [31m'ORG'[39m,
    [37magentDependencies[39m: [33mtrue[39m
  }
}
[90m2026-02-01 13:57:52.580  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   initialize][39m Agent storage is up to date. 
[90m2026-02-01 13:57:52.625  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:66  expressAuthentication][39m securityName::: jwt 
[90m2026-02-01 13:57:52.625  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:67  expressAuthentication][39m scopes::: tenant 
[90m2026-02-01 13:57:52.631  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   WalletApi.initialize][39m Initializing wallet 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def' 
{
  [37mstorage[39m: {
    [37mtype[39m: [31m'sqlite'[39m,
    [37mcredentials[39m: [31mundefined[39m
  },
  [37mid[39m: [31m'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m,
  [37mkey[39m: [31m'[*****]'[39m,
  [37mkeyDerivationMethod[39m: [31m'RAW'[39m
}
[90m2026-02-01 13:57:52.641  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   undefined.constructor][39m Creating agent with config 
{
  [37magentConfig[39m: {
    [37mwalletConfig[39m: {
      [37mstorage[39m: {
        [37mtype[39m: [31m'sqlite'[39m,
        [37mcredentials[39m: [31mundefined[39m
      },
      [37mid[39m: [31m'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m,
      [37mkey[39m: [31m'[*****]'[39m,
      [37mkeyDerivationMethod[39m: [31m'RAW'[39m
    },
    [37mlabel[39m: [31m'Portal Default Tenant'[39m,
    [37mendpoints[39m: [
      [31m'http://127.0.0.1:3001'[39m
    ],
    [37mlogger[39m: [32m3[39m,
    [37mautoUpdateStorageOnStartup[39m: [33mtrue[39m,
    [37mbackupBeforeStorageUpdate[39m: [33mfalse[39m,
    [37mtenantType[39m: [31m'ORG'[39m,
    [37magentDependencies[39m: [33mtrue[39m
  }
}
[90m2026-02-01 13:57:52.647  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   initialize][39m Agent storage is up to date. 
[2026-02-01 15:57:52.456 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "133019e8-ce5d-4bea-a106-147db32c52a8"
    method: "GET"
    path: "/api/catalog/search"
    headers: {
      "host": "localhost:3000",
      "connection": "keep-alive",
      "sec-ch-ua-platform": "\"Windows\"",
      "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36 Edg/144.0.0.0",
      "sec-ch-ua": "\"Not(A:Brand\";v=\"8\", \"Chromium\";v=\"144\", \"Microsoft Edge\";v=\"144\"",
      "sec-ch-ua-mobile": "?0",
      "accept": "*/*",
      "origin": "http://localhost:5000",
      "sec-fetch-site": "same-site",
      "sec-fetch-mode": "cors",
      "sec-fetch-dest": "empty",
      "referer": "http://localhost:5000/",
      "accept-encoding": "gzip, deflate, br, zstd",
      "accept-language": "en-US,en;q=0.9,en-GB;q=0.8",
      "if-none-match": "W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""
    }
[2026-02-01 15:57:52.479 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "133019e8-ce5d-4bea-a106-147db32c52a8"
    method: "GET"
    path: "/api/catalog/search"
    status: 304
    duration: 23
    response: "[]"
[2026-02-01 15:57:52.543 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
    method: "GET"
    path: "/agent"
    headers: {
      "host": "localhost:3000",
      "connection": "keep-alive",
      "sec-ch-ua-platform": "\"Windows\"",
      "authorization": "REDACTED",
      "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36 Edg/144.0.0.0",
      "accept": "application/json, text/plain, */*",
      "sec-ch-ua": "\"Not(A:Brand\";v=\"8\", \"Chromium\";v=\"144\", \"Microsoft Edge\";v=\"144\"",
      "sec-ch-ua-mobile": "?0",
      "origin": "http://localhost:5000",
      "sec-fetch-site": "same-site",
      "sec-fetch-mode": "cors",
      "sec-fetch-dest": "empty",
      "referer": "http://localhost:5000/",
      "accept-encoding": "gzip, deflate, br, zstd",
      "accept-language": "en-US,en;q=0.9,en-GB;q=0.8",
      "if-none-match": "W/\"5c-EqpUGIBvCf1g/6SPYrMlWwYwrhk\""
    }
[2026-02-01 15:57:52.545 +0200] [32mINFO[39m: [36msecurityName::: jwt[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.546 +0200] [32mINFO[39m: [36mscopes::: tenant,dedicated,Basewallet[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.550 +0200] [34mDEBUG[39m: [36mGetting tenant agent for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.550 +0200] [34mDEBUG[39m: [36mdebug ========= Inside getAgentContextForContextCorrelationId[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.551 +0200] [34mDEBUG[39m: [36mdebug ========= Get tenantRecord from cache[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.551 +0200] [34mDEBUG[39m: [36mGetting context for session with tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.551 +0200] [34mDEBUG[39m: [36mAcquiring tenant session[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.552 +0200] [34mDEBUG[39m: [36mIncreasing current session count to 1 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.552 +0200] [34mDEBUG[39m: [36mAcquired tenant session (1 / 2147483647)[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.553 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to get context[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.553 +0200] [34mDEBUG[39m: [36mNo agent context has been initialized for tenant '6e3fa6d3-4415-470e-a860-053c80db8def', creating one[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.555 +0200] [32mINFO[39m: [36mInitializing wallet 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    storage: {
      "type": "sqlite"
    }
    id: "tenant-6e3fa6d3-4415-470e-a860-053c80db8def"
    key: "[*****]"
    keyDerivationMethod: "RAW"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.556 +0200] [34mDEBUG[39m: [36mOpening wallet for profile 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.561 +0200] [34mDEBUG[39m: [36mSuccessfully opened wallet for profile 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.562 +0200] [34mDEBUG[39m: [36mIncreased agent context session count for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to 1[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.563 +0200] [34mDEBUG[39m: [36mCreated tenant agent context for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.564 +0200] [32mINFO[39m: [36mCreating agent with config[39m
    service: "credo-controller"
    agentConfig: {
      "walletConfig": {
        "storage": {
          "type": "sqlite"
        },
        "id": "tenant-6e3fa6d3-4415-470e-a860-053c80db8def",
        "key": "[*****]",
        "keyDerivationMethod": "RAW"
      },
      "label": "Portal Default Tenant",
      "endpoints": [
        "http://127.0.0.1:3001"
      ],
      "logger": 3,
      "autoUpdateStorageOnStartup": true,
      "backupBeforeStorageUpdate": false,
      "tenantType": "ORG",
      "agentDependencies": true
    }
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.581 +0200] [32mINFO[39m: [36mAgent storage is up to date.[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.583 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
    method: "GET"
    path: "/agent"
    status: 304
    duration: 40
    response: "{\"label\":\"Portal Default Tenant\",\"endpoints\":[\"http://127.0.0.1:3001\"],\"isInitialized\":true}"
[2026-02-01 15:57:52.583 +0200] [34mDEBUG[39m: [36mEnding tenant session for tenant:: 6e3fa6d3-4415-470e-a860-053c80db8def[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.586 +0200] [34mDEBUG[39m: [36mEnding session for agent context with contextCorrelationId 6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.587 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to end session context[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.588 +0200] [34mDEBUG[39m: [36mDecreased agent context session count for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to 0[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.589 +0200] [34mDEBUG[39m: [36mClosing agent context for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.590 +0200] [34mDEBUG[39m: [36mClosing wallet for profile tenant-6e3fa6d3-4415-470e-a860-053c80db8def[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.590 +0200] [34mDEBUG[39m: [36mReleasing tenant session[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.593 +0200] [34mDEBUG[39m: [36mDecreasing current sessions to 0 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "e44995f6-5822-405f-88f1-8ed4355b4fb2"
[2026-02-01 15:57:52.623 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
    method: "GET"
    path: "/oidc/credential-definitions"
    headers: {
      "host": "localhost:3000",
      "connection": "keep-alive",
      "sec-ch-ua-platform": "\"Windows\"",
      "authorization": "REDACTED",
      "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36 Edg/144.0.0.0",
      "accept": "application/json, text/plain, */*",
      "sec-ch-ua": "\"Not(A:Brand\";v=\"8\", \"Chromium\";v=\"144\", \"Microsoft Edge\";v=\"144\"",
      "sec-ch-ua-mobile": "?0",
      "origin": "http://localhost:5000",
      "sec-fetch-site": "same-site",
      "sec-fetch-mode": "cors",
      "sec-fetch-dest": "empty",
      "referer": "http://localhost:5000/",
      "accept-encoding": "gzip, deflate, br, zstd",
      "accept-language": "en-US,en;q=0.9,en-GB;q=0.8",
      "if-none-match": "W/\"13bb-jDWASDrIA8F10eN3NVeiEcSa5Vg\""
    }
[2026-02-01 15:57:52.625 +0200] [32mINFO[39m: [36msecurityName::: jwt[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.626 +0200] [32mINFO[39m: [36mscopes::: tenant[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.627 +0200] [34mDEBUG[39m: [36mGetting tenant agent for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.628 +0200] [34mDEBUG[39m: [36mdebug ========= Inside getAgentContextForContextCorrelationId[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.628 +0200] [34mDEBUG[39m: [36mdebug ========= Get tenantRecord from cache[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.629 +0200] [34mDEBUG[39m: [36mGetting context for session with tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.629 +0200] [34mDEBUG[39m: [36mAcquiring tenant session[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.629 +0200] [34mDEBUG[39m: [36mIncreasing current session count to 1 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.630 +0200] [34mDEBUG[39m: [36mAcquired tenant session (1 / 2147483647)[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.630 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to get context[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.630 +0200] [34mDEBUG[39m: [36mNo agent context has been initialized for tenant '6e3fa6d3-4415-470e-a860-053c80db8def', creating one[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.631 +0200] [32mINFO[39m: [36mInitializing wallet 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    storage: {
      "type": "sqlite"
    }
    id: "tenant-6e3fa6d3-4415-470e-a860-053c80db8def"
    key: "[*****]"
    keyDerivationMethod: "RAW"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.634 +0200] [34mDEBUG[39m: [36mOpening wallet for profile 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.639 +0200] [34mDEBUG[39m: [36mSuccessfully opened wallet for profile 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.640 +0200] [34mDEBUG[39m: [36mIncreased agent context session count for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to 1[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.640 +0200] [34mDEBUG[39m: [36mCreated tenant agent context for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.642 +0200] [32mINFO[39m: [36mCreating agent with config[39m
    service: "credo-controller"
    agentConfig: {
      "walletConfig": {
        "storage": {
          "type": "sqlite"
        },
        "id": "tenant-6e3fa6d3-4415-470e-a860-053c80db8def",
        "key": "[*****]",
        "keyDerivationMethod": "RAW"
      },
      "label": "Portal Default Tenant",
      "endpoints": [
        "http://127.0.0.1:3001"
      ],
      "logger": 3,
      "autoUpdateStorageOnStartup": true,
      "backupBeforeStorageUpdate": false,
      "tenantType": "ORG",
      "agentDependencies": true
    }
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.647 +0200] [32mINFO[39m: [36mAgent storage is up to date.[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.650 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
    method: "GET"
    path: "/oidc/credential-definitions"
    status: 304
    duration: 27
    response: "[{\"credentialDefinitionId\":\"1e94e6c6-c443-4fa8-b9ca-c7c6facc01ce\",\"schemaId\":\"1482cade-d9dc-43e0-9574-55d6904c93e3\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.195Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"EmploymentContractVC\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"EmploymentContractVC\"],\"claimsTemplate\":{\"credentialSubject\":{\"employeeId\":\"EMP-001\",\"name\":\"John Doe\",\"role\":\"Software Engineer\",\"department\":\"Engineering\",\"employer\":\"Credo Demo Corp\",\"startDate\":\"2026-02-01T13:57:34.195Z\",\"contractType\":\"Full-time\"}},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"cb801e97-6830-4a8a-9cf1-065129cc32c6\",\"schemaId\":\"253df91c-21dd-4063-9e14-077ac15e69bb\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.190Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"GenericIDCredential\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"GenericIDCredential\"],\"claimsTemplate\":{\"credentialSubject\":{\"fullName\":\"Seed User\",\"identifier\":\"SEED-ID-1\",\"issuedAt\":\"2026-02-01T13:57:34.190Z\"}},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"304fff12-a5b8-4935-8937-607db5e0bbcb\",\"schemaId\":\"39208a06-336f-417d-ab06-d8ed69439472\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.189Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"OpenBadge\",\"version\":\"3.0.0\",\"credentialType\":[\"VerifiableCredential\",\"OpenBadgeCredential\"],\"claimsTemplate\":{\"credentialSubject\":{\"id\":\"did:example:learner123\",\"badgeClass\":\"Blockchain Fundamentals\",\"awardDate\":\"2026-02-01\",\"criteriaUrl\":\"https://example.org/badges/blockchain-fundamentals\"}},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"77eebef3-7ee0-4637-818a-f79691395fb8\",\"schemaId\":\"22532c75-df10-446f-8b9c-0b381a24b067\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.189Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"MdocHealthSummary\",\"version\":\"0.1.0\",\"credentialType\":[\"VerifiableCredential\",\"MdocHealthSummary\"],\"claimsTemplate\":{\"credentialSubject\":{\"patientId\":\"PAT-123\",\"conditions\":[\"hypertension\"],\"lastUpdated\":\"2026-02-01T13:57:34.189Z\"}},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"84b52025-e340-46a3-bb01-985e96a2ccbe\",\"schemaId\":\"2c87eabe-26da-42a0-b099-9d825a8e4587\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.189Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"PaymentReceipt\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"PaymentReceipt\"],\"claimsTemplate\":{\"credentialSubject\":{\"transactionId\":\"TX-SEED-0001\",\"amount\":\"42.00\",\"currency\":\"USD\",\"merchant\":\"SeedMerchant\"}},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"a18ac00b-b74b-452f-994b-f114871e17a5\",\"schemaId\":\"b19a8e78-47e6-420b-b95a-555f65d2e06d\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.188Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"EHRSummary\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"EHRSummary\"],\"claimsTemplate\":{\"credentialSubject\":{\"patientId\":\"PAT-123\",\"encounters\":[{\"date\":\"2025-01-01\",\"type\":\"Consultation\",\"notes\":\"Routine check\"}]}},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"db23263e-8370-418f-894f-cc6c4d69e060\",\"schemaId\":\"0a786122-cd46-4248-915f-eae3e9ee281f\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.182Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"CatalogItemVC\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"CatalogItemVC\"],\"claimsTemplate\":{},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"b68f32ef-d133-46bd-84af-cfd2c2f3e974\",\"schemaId\":\"f3fbde02-53f3-4397-a189-3c00d6f7f66e\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.181Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"InvoiceVC\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"InvoiceVC\"],\"claimsTemplate\":{},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"f20e318f-643b-4e13-bf6a-30f569300722\",\"schemaId\":\"8dadfa06-70c7-4321-8a0c-30133c12b197\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.181Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"ReceiptVC\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"ReceiptVC\"],\"claimsTemplate\":{},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"1e202b81-1725-41e8-8e78-ff103073ec5f\",\"schemaId\":\"15001953-a52f-47aa-8350-e5269844055b\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.179Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"CartSnapshotVC\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"CartSnapshotVC\"],\"claimsTemplate\":{},\"format\":\"jwt_vc_json\"}]"
[2026-02-01 15:57:52.650 +0200] [34mDEBUG[39m: [36mEnding tenant session for tenant:: 6e3fa6d3-4415-470e-a860-053c80db8def[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.651 +0200] [34mDEBUG[39m: [36mEnding session for agent context with contextCorrelationId 6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.652 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to end session context[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.652 +0200] [34mDEBUG[39m: [36mDecreased agent context session count for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to 0[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.653 +0200] [34mDEBUG[39m: [36mClosing agent context for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.655 +0200] [34mDEBUG[39m: [36mClosing wallet for profile tenant-6e3fa6d3-4415-470e-a860-053c80db8def[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.656 +0200] [34mDEBUG[39m: [36mReleasing tenant session[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
[2026-02-01 15:57:52.657 +0200] [34mDEBUG[39m: [36mDecreasing current sessions to 0 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "4745d0b9-f3ba-42df-8716-8526d0a9a8b5"
{"stack":"Error: connect ECONNREFUSED 127.0.0.1:4318\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)\n    at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)","message":"connect ECONNREFUSED 127.0.0.1:4318","errno":"-111","code":"ECONNREFUSED","syscall":"connect","address":"127.0.0.1","port":"4318","name":"Error","toJSON":"function () {\n                    return Object.getOwnPropertyNames(this).reduce((alt, key) => {\n                        alt[key] = this[key];\n                        return alt;\n                    }, {});\n                }"}
{"stack":"Error: connect ECONNREFUSED 127.0.0.1:4318\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)\n    at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)","message":"connect ECONNREFUSED 127.0.0.1:4318","errno":"-111","code":"ECONNREFUSED","syscall":"connect","address":"127.0.0.1","port":"4318","name":"Error","toJSON":"function () {\n                    return Object.getOwnPropertyNames(this).reduce((alt, key) => {\n                        alt[key] = this[key];\n                        return alt;\n                    }, {});\n                }"}
[90m2026-02-01 13:59:59.292  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:66  expressAuthentication][39m securityName::: jwt 
[90m2026-02-01 13:59:59.297  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:67  expressAuthentication][39m scopes::: tenant,dedicated,Basewallet 
[90m2026-02-01 13:59:59.308  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   WalletApi.initialize][39m Initializing wallet 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def' 
{
  [37mstorage[39m: {
    [37mtype[39m: [31m'sqlite'[39m,
    [37mcredentials[39m: [31mundefined[39m
  },
  [37mid[39m: [31m'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m,
  [37mkey[39m: [31m'[*****]'[39m,
  [37mkeyDerivationMethod[39m: [31m'RAW'[39m
}
[90m2026-02-01 13:59:59.320  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   undefined.constructor][39m Creating agent with config 
{
  [37magentConfig[39m: {
    [37mwalletConfig[39m: {
      [37mstorage[39m: {
        [37mtype[39m: [31m'sqlite'[39m,
        [37mcredentials[39m: [31mundefined[39m
      },
      [37mid[39m: [31m'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m,
      [37mkey[39m: [31m'[*****]'[39m,
      [37mkeyDerivationMethod[39m: [31m'RAW'[39m
    },
    [37mlabel[39m: [31m'Portal Default Tenant'[39m,
    [37mendpoints[39m: [
      [31m'http://127.0.0.1:3001'[39m
    ],
    [37mlogger[39m: [32m3[39m,
    [37mautoUpdateStorageOnStartup[39m: [33mtrue[39m,
    [37mbackupBeforeStorageUpdate[39m: [33mfalse[39m,
    [37mtenantType[39m: [31m'ORG'[39m,
    [37magentDependencies[39m: [33mtrue[39m
  }
}
[90m2026-02-01 13:59:59.350  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   initialize][39m Agent storage is up to date. 
[90m2026-02-01 13:59:59.386  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:66  expressAuthentication][39m securityName::: jwt 
[90m2026-02-01 13:59:59.387  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service src/authentication.ts:67  expressAuthentication][39m scopes::: tenant 
[90m2026-02-01 13:59:59.399  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   WalletApi.initialize][39m Initializing wallet 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def' 
{
  [37mstorage[39m: {
    [37mtype[39m: [31m'sqlite'[39m,
    [37mcredentials[39m: [31mundefined[39m
  },
  [37mid[39m: [31m'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m,
  [37mkey[39m: [31m'[*****]'[39m,
  [37mkeyDerivationMethod[39m: [31m'RAW'[39m
}
[90m2026-02-01 13:59:59.411  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   undefined.constructor][39m Creating agent with config 
{
  [37magentConfig[39m: {
    [37mwalletConfig[39m: {
      [37mstorage[39m: {
        [37mtype[39m: [31m'sqlite'[39m,
        [37mcredentials[39m: [31mundefined[39m
      },
      [37mid[39m: [31m'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m,
      [37mkey[39m: [31m'[*****]'[39m,
      [37mkeyDerivationMethod[39m: [31m'RAW'[39m
    },
    [37mlabel[39m: [31m'Portal Default Tenant'[39m,
    [37mendpoints[39m: [
      [31m'http://127.0.0.1:3001'[39m
    ],
    [37mlogger[39m: [32m3[39m,
    [37mautoUpdateStorageOnStartup[39m: [33mtrue[39m,
    [37mbackupBeforeStorageUpdate[39m: [33mfalse[39m,
    [37mtenantType[39m: [31m'ORG'[39m,
    [37magentDependencies[39m: [33mtrue[39m
  }
}
[90m2026-02-01 13:59:59.426  [39m[1m[94mINFO[39m[22m  [90m[credo-controller-service   initialize][39m Agent storage is up to date. 
[2026-02-01 15:59:59.247 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "ad69fcb1-f6af-4668-9aa3-4952f2646ae9"
    method: "GET"
    path: "/api/catalog/search"
    headers: {
      "host": "localhost:3000",
      "connection": "keep-alive",
      "sec-ch-ua-platform": "\"Windows\"",
      "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36 Edg/144.0.0.0",
      "sec-ch-ua": "\"Not(A:Brand\";v=\"8\", \"Chromium\";v=\"144\", \"Microsoft Edge\";v=\"144\"",
      "sec-ch-ua-mobile": "?0",
      "accept": "*/*",
      "origin": "http://localhost:5000",
      "sec-fetch-site": "same-site",
      "sec-fetch-mode": "cors",
      "sec-fetch-dest": "empty",
      "referer": "http://localhost:5000/",
      "accept-encoding": "gzip, deflate, br, zstd",
      "accept-language": "en-US,en;q=0.9,en-GB;q=0.8",
      "if-none-match": "W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""
    }
[2026-02-01 15:59:59.251 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "ad69fcb1-f6af-4668-9aa3-4952f2646ae9"
    method: "GET"
    path: "/api/catalog/search"
    status: 304
    duration: 4
    response: "[]"
[2026-02-01 15:59:59.277 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
    method: "GET"
    path: "/agent"
    headers: {
      "host": "localhost:3000",
      "connection": "keep-alive",
      "sec-ch-ua-platform": "\"Windows\"",
      "authorization": "REDACTED",
      "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36 Edg/144.0.0.0",
      "accept": "application/json, text/plain, */*",
      "sec-ch-ua": "\"Not(A:Brand\";v=\"8\", \"Chromium\";v=\"144\", \"Microsoft Edge\";v=\"144\"",
      "sec-ch-ua-mobile": "?0",
      "origin": "http://localhost:5000",
      "sec-fetch-site": "same-site",
      "sec-fetch-mode": "cors",
      "sec-fetch-dest": "empty",
      "referer": "http://localhost:5000/",
      "accept-encoding": "gzip, deflate, br, zstd",
      "accept-language": "en-US,en;q=0.9,en-GB;q=0.8",
      "if-none-match": "W/\"5c-EqpUGIBvCf1g/6SPYrMlWwYwrhk\""
    }
[2026-02-01 15:59:59.296 +0200] [32mINFO[39m: [36msecurityName::: jwt[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.297 +0200] [32mINFO[39m: [36mscopes::: tenant,dedicated,Basewallet[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.300 +0200] [34mDEBUG[39m: [36mGetting tenant agent for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.301 +0200] [34mDEBUG[39m: [36mdebug ========= Inside getAgentContextForContextCorrelationId[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.301 +0200] [34mDEBUG[39m: [36mdebug ========= Get tenantRecord from cache[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.302 +0200] [34mDEBUG[39m: [36mGetting context for session with tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.302 +0200] [34mDEBUG[39m: [36mAcquiring tenant session[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.303 +0200] [34mDEBUG[39m: [36mIncreasing current session count to 1 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.303 +0200] [34mDEBUG[39m: [36mAcquired tenant session (1 / 2147483647)[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.304 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to get context[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.306 +0200] [34mDEBUG[39m: [36mNo agent context has been initialized for tenant '6e3fa6d3-4415-470e-a860-053c80db8def', creating one[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.309 +0200] [32mINFO[39m: [36mInitializing wallet 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    storage: {
      "type": "sqlite"
    }
    id: "tenant-6e3fa6d3-4415-470e-a860-053c80db8def"
    key: "[*****]"
    keyDerivationMethod: "RAW"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.311 +0200] [34mDEBUG[39m: [36mOpening wallet for profile 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.317 +0200] [34mDEBUG[39m: [36mSuccessfully opened wallet for profile 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.318 +0200] [34mDEBUG[39m: [36mIncreased agent context session count for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to 1[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.318 +0200] [34mDEBUG[39m: [36mCreated tenant agent context for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.320 +0200] [32mINFO[39m: [36mCreating agent with config[39m
    service: "credo-controller"
    agentConfig: {
      "walletConfig": {
        "storage": {
          "type": "sqlite"
        },
        "id": "tenant-6e3fa6d3-4415-470e-a860-053c80db8def",
        "key": "[*****]",
        "keyDerivationMethod": "RAW"
      },
      "label": "Portal Default Tenant",
      "endpoints": [
        "http://127.0.0.1:3001"
      ],
      "logger": 3,
      "autoUpdateStorageOnStartup": true,
      "backupBeforeStorageUpdate": false,
      "tenantType": "ORG",
      "agentDependencies": true
    }
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.350 +0200] [32mINFO[39m: [36mAgent storage is up to date.[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.353 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
    method: "GET"
    path: "/agent"
    status: 304
    duration: 77
    response: "{\"label\":\"Portal Default Tenant\",\"endpoints\":[\"http://127.0.0.1:3001\"],\"isInitialized\":true}"
[2026-02-01 15:59:59.356 +0200] [34mDEBUG[39m: [36mEnding tenant session for tenant:: 6e3fa6d3-4415-470e-a860-053c80db8def[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.360 +0200] [34mDEBUG[39m: [36mEnding session for agent context with contextCorrelationId 6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.362 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to end session context[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.363 +0200] [34mDEBUG[39m: [36mDecreased agent context session count for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to 0[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.367 +0200] [34mDEBUG[39m: [36mClosing agent context for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.368 +0200] [34mDEBUG[39m: [36mClosing wallet for profile tenant-6e3fa6d3-4415-470e-a860-053c80db8def[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.369 +0200] [34mDEBUG[39m: [36mReleasing tenant session[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.370 +0200] [34mDEBUG[39m: [36mDecreasing current sessions to 0 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "1b649ec1-d1b4-4ffe-9cd6-5172f65ec2af"
[2026-02-01 15:59:59.382 +0200] [32mINFO[39m: [36mIncoming request[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
    method: "GET"
    path: "/oidc/credential-definitions"
    headers: {
      "host": "localhost:3000",
      "connection": "keep-alive",
      "sec-ch-ua-platform": "\"Windows\"",
      "authorization": "REDACTED",
      "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36 Edg/144.0.0.0",
      "accept": "application/json, text/plain, */*",
      "sec-ch-ua": "\"Not(A:Brand\";v=\"8\", \"Chromium\";v=\"144\", \"Microsoft Edge\";v=\"144\"",
      "sec-ch-ua-mobile": "?0",
      "origin": "http://localhost:5000",
      "sec-fetch-site": "same-site",
      "sec-fetch-mode": "cors",
      "sec-fetch-dest": "empty",
      "referer": "http://localhost:5000/",
      "accept-encoding": "gzip, deflate, br, zstd",
      "accept-language": "en-US,en;q=0.9,en-GB;q=0.8",
      "if-none-match": "W/\"13bb-jDWASDrIA8F10eN3NVeiEcSa5Vg\""
    }
[2026-02-01 15:59:59.387 +0200] [32mINFO[39m: [36msecurityName::: jwt[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.388 +0200] [32mINFO[39m: [36mscopes::: tenant[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.390 +0200] [34mDEBUG[39m: [36mGetting tenant agent for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.391 +0200] [34mDEBUG[39m: [36mdebug ========= Inside getAgentContextForContextCorrelationId[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.391 +0200] [34mDEBUG[39m: [36mdebug ========= Get tenantRecord from cache[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.395 +0200] [34mDEBUG[39m: [36mGetting context for session with tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.396 +0200] [34mDEBUG[39m: [36mAcquiring tenant session[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.397 +0200] [34mDEBUG[39m: [36mIncreasing current session count to 1 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.397 +0200] [34mDEBUG[39m: [36mAcquired tenant session (1 / 2147483647)[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.398 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to get context[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.398 +0200] [34mDEBUG[39m: [36mNo agent context has been initialized for tenant '6e3fa6d3-4415-470e-a860-053c80db8def', creating one[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.400 +0200] [32mINFO[39m: [36mInitializing wallet 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    storage: {
      "type": "sqlite"
    }
    id: "tenant-6e3fa6d3-4415-470e-a860-053c80db8def"
    key: "[*****]"
    keyDerivationMethod: "RAW"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.400 +0200] [34mDEBUG[39m: [36mOpening wallet for profile 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.406 +0200] [34mDEBUG[39m: [36mSuccessfully opened wallet for profile 'tenant-6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.408 +0200] [34mDEBUG[39m: [36mIncreased agent context session count for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to 1[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.409 +0200] [34mDEBUG[39m: [36mCreated tenant agent context for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.413 +0200] [32mINFO[39m: [36mCreating agent with config[39m
    service: "credo-controller"
    agentConfig: {
      "walletConfig": {
        "storage": {
          "type": "sqlite"
        },
        "id": "tenant-6e3fa6d3-4415-470e-a860-053c80db8def",
        "key": "[*****]",
        "keyDerivationMethod": "RAW"
      },
      "label": "Portal Default Tenant",
      "endpoints": [
        "http://127.0.0.1:3001"
      ],
      "logger": 3,
      "autoUpdateStorageOnStartup": true,
      "backupBeforeStorageUpdate": false,
      "tenantType": "ORG",
      "agentDependencies": true
    }
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.428 +0200] [32mINFO[39m: [36mAgent storage is up to date.[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.431 +0200] [32mINFO[39m: [36mRequest completed[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
    method: "GET"
    path: "/oidc/credential-definitions"
    status: 304
    duration: 49
    response: "[{\"credentialDefinitionId\":\"1e94e6c6-c443-4fa8-b9ca-c7c6facc01ce\",\"schemaId\":\"1482cade-d9dc-43e0-9574-55d6904c93e3\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.195Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"EmploymentContractVC\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"EmploymentContractVC\"],\"claimsTemplate\":{\"credentialSubject\":{\"employeeId\":\"EMP-001\",\"name\":\"John Doe\",\"role\":\"Software Engineer\",\"department\":\"Engineering\",\"employer\":\"Credo Demo Corp\",\"startDate\":\"2026-02-01T13:57:34.195Z\",\"contractType\":\"Full-time\"}},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"cb801e97-6830-4a8a-9cf1-065129cc32c6\",\"schemaId\":\"253df91c-21dd-4063-9e14-077ac15e69bb\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.190Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"GenericIDCredential\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"GenericIDCredential\"],\"claimsTemplate\":{\"credentialSubject\":{\"fullName\":\"Seed User\",\"identifier\":\"SEED-ID-1\",\"issuedAt\":\"2026-02-01T13:57:34.190Z\"}},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"304fff12-a5b8-4935-8937-607db5e0bbcb\",\"schemaId\":\"39208a06-336f-417d-ab06-d8ed69439472\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.189Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"OpenBadge\",\"version\":\"3.0.0\",\"credentialType\":[\"VerifiableCredential\",\"OpenBadgeCredential\"],\"claimsTemplate\":{\"credentialSubject\":{\"id\":\"did:example:learner123\",\"badgeClass\":\"Blockchain Fundamentals\",\"awardDate\":\"2026-02-01\",\"criteriaUrl\":\"https://example.org/badges/blockchain-fundamentals\"}},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"77eebef3-7ee0-4637-818a-f79691395fb8\",\"schemaId\":\"22532c75-df10-446f-8b9c-0b381a24b067\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.189Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"MdocHealthSummary\",\"version\":\"0.1.0\",\"credentialType\":[\"VerifiableCredential\",\"MdocHealthSummary\"],\"claimsTemplate\":{\"credentialSubject\":{\"patientId\":\"PAT-123\",\"conditions\":[\"hypertension\"],\"lastUpdated\":\"2026-02-01T13:57:34.189Z\"}},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"84b52025-e340-46a3-bb01-985e96a2ccbe\",\"schemaId\":\"2c87eabe-26da-42a0-b099-9d825a8e4587\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.189Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"PaymentReceipt\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"PaymentReceipt\"],\"claimsTemplate\":{\"credentialSubject\":{\"transactionId\":\"TX-SEED-0001\",\"amount\":\"42.00\",\"currency\":\"USD\",\"merchant\":\"SeedMerchant\"}},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"a18ac00b-b74b-452f-994b-f114871e17a5\",\"schemaId\":\"b19a8e78-47e6-420b-b95a-555f65d2e06d\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.188Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"EHRSummary\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"EHRSummary\"],\"claimsTemplate\":{\"credentialSubject\":{\"patientId\":\"PAT-123\",\"encounters\":[{\"date\":\"2025-01-01\",\"type\":\"Consultation\",\"notes\":\"Routine check\"}]}},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"db23263e-8370-418f-894f-cc6c4d69e060\",\"schemaId\":\"0a786122-cd46-4248-915f-eae3e9ee281f\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.182Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"CatalogItemVC\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"CatalogItemVC\"],\"claimsTemplate\":{},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"b68f32ef-d133-46bd-84af-cfd2c2f3e974\",\"schemaId\":\"f3fbde02-53f3-4397-a189-3c00d6f7f66e\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.181Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"InvoiceVC\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"InvoiceVC\"],\"claimsTemplate\":{},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"f20e318f-643b-4e13-bf6a-30f569300722\",\"schemaId\":\"8dadfa06-70c7-4321-8a0c-30133c12b197\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.181Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"ReceiptVC\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"ReceiptVC\"],\"claimsTemplate\":{},\"format\":\"jwt_vc_json\"},{\"credentialDefinitionId\":\"1e202b81-1725-41e8-8e78-ff103073ec5f\",\"schemaId\":\"15001953-a52f-47aa-8350-e5269844055b\",\"issuerDid\":\"did:key:z6MkjSpZULcgbGaEPgSafrv457aqBf4e6VACbkH45cqpXyo6\",\"createdAt\":\"2026-02-01T13:57:34.179Z\",\"tenantId\":\"6e3fa6d3-4415-470e-a860-053c80db8def\",\"name\":\"CartSnapshotVC\",\"version\":\"1.0.0\",\"credentialType\":[\"VerifiableCredential\",\"CartSnapshotVC\"],\"claimsTemplate\":{},\"format\":\"jwt_vc_json\"}]"
[2026-02-01 15:59:59.432 +0200] [34mDEBUG[39m: [36mEnding tenant session for tenant:: 6e3fa6d3-4415-470e-a860-053c80db8def[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.434 +0200] [34mDEBUG[39m: [36mEnding session for agent context with contextCorrelationId 6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.435 +0200] [34mDEBUG[39m: [36mAcquired lock for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to end session context[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.436 +0200] [34mDEBUG[39m: [36mDecreased agent context session count for tenant '6e3fa6d3-4415-470e-a860-053c80db8def' to 0[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.437 +0200] [34mDEBUG[39m: [36mClosing agent context for tenant '6e3fa6d3-4415-470e-a860-053c80db8def'[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.441 +0200] [34mDEBUG[39m: [36mClosing wallet for profile tenant-6e3fa6d3-4415-470e-a860-053c80db8def[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.443 +0200] [34mDEBUG[39m: [36mReleasing tenant session[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
[2026-02-01 15:59:59.445 +0200] [34mDEBUG[39m: [36mDecreasing current sessions to 0 (max: 2147483647)[39m
    service: "credo-controller"
    correlationId: "b4f2a41c-e127-4040-8549-ac06bef8f052"
{"stack":"Error: connect ECONNREFUSED 127.0.0.1:4318\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)\n    at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)","message":"connect ECONNREFUSED 127.0.0.1:4318","errno":"-111","code":"ECONNREFUSED","syscall":"connect","address":"127.0.0.1","port":"4318","name":"Error","toJSON":"function () {\n                    return Object.getOwnPropertyNames(this).reduce((alt, key) => {\n                        alt[key] = this[key];\n                        return alt;\n                    }, {});\n                }"}
{"stack":"Error: connect ECONNREFUSED 127.0.0.1:4318\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)\n    at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)","message":"connect ECONNREFUSED 127.0.0.1:4318","errno":"-111","code":"ECONNREFUSED","syscall":"connect","address":"127.0.0.1","port":"4318","name":"Error","toJSON":"function () {\n                    return Object.getOwnPropertyNames(this).reduce((alt, key) => {\n                        alt[key] = this[key];\n                        return alt;\n                    }, {});\n                }"}
